/*! For license information please see main.3f8bf35f.js.LICENSE.txt */
!function(){var e={1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var u in n)r.call(n,u)&&n[u]&&e.push(u)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},4890:function(e){var t={px:{px:1,cm:96/2.54,mm:96/25.4,in:96,pt:96/72,pc:16},cm:{px:2.54/96,cm:1,mm:.1,in:2.54,pt:2.54/72,pc:2.54/6},mm:{px:25.4/96,cm:10,mm:1,in:25.4,pt:25.4/72,pc:25.4/6},in:{px:1/96,cm:1/2.54,mm:1/25.4,in:1,pt:1/72,pc:1/6},pt:{px:.75,cm:72/2.54,mm:72/25.4,in:72,pt:1,pc:12},pc:{px:6/96,cm:6/2.54,mm:6/25.4,in:6,pt:6/72,pc:1},deg:{deg:1,grad:.9,rad:180/Math.PI,turn:360},grad:{deg:400/360,grad:1,rad:200/Math.PI,turn:400},rad:{deg:Math.PI/180,grad:Math.PI/200,rad:1,turn:2*Math.PI},turn:{deg:1/360,grad:1/400,rad:.5/Math.PI,turn:1},s:{s:1,ms:.001},ms:{s:1e3,ms:1},Hz:{Hz:1,kHz:1e3},kHz:{Hz:.001,kHz:1},dpi:{dpi:1,dpcm:1/2.54,dppx:1/96},dpcm:{dpi:2.54,dpcm:1,dppx:2.54/96},dppx:{dpi:96,dpcm:96/2.54,dppx:1}};e.exports=function(e,n,r,i){if(!t.hasOwnProperty(r))throw new Error("Cannot convert to "+r);if(!t[r].hasOwnProperty(n))throw new Error("Cannot convert from "+n+" to "+r);var a=t[r][n]*e;return!1!==i?(i=Math.pow(10,parseInt(i)||5),Math.round(a*i)/i):a}},4234:function(e,t,n){var r;!function(i){"use strict";var a,o=1e9,u={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,c="[DecimalError] ",l=c+"Invalid argument: ",f=c+"Exponent out of range: ",d=Math.floor,h=Math.pow,p=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,v=1e7,m=7,y=9007199254740991,g=d(y/m),b={};function x(e,t){var n,r,i,a,o,u,c,l,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),s?N(t,d):t;if(c=e.d,l=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i){for(a<0?(r=c,a=-a,u=l.length):(r=l,i=o,u=c.length),a>(u=(o=Math.ceil(d/m))>u?o+1:u+1)&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for((u=c.length)-(a=l.length)<0&&(a=u,r=l,l=c,c=r),n=0;a;)n=(c[--a]=c[a]+l[a]+n)/v|0,c[a]%=v;for(n&&(c.unshift(n),++i),u=c.length;0==c[--u];)c.pop();return t.d=c,t.e=i,s?N(t,d):t}function w(e,t,n){if(e!==~~e||e<t||e>n)throw Error(l+e)}function k(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",(n=m-r.length)&&(a+=I(n)),a+=r;o=e[t],(n=m-(r=o+"").length)&&(a+=I(n))}else if(0===o)return"0";for(;o%10===0;)o/=10;return a+o}b.absoluteValue=b.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},b.comparedTo=b.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(t=0,n=(r=a.d.length)<(i=e.d.length)?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1},b.decimalPlaces=b.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*m;if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},b.dividedBy=b.div=function(e){return _(this,new this.constructor(e))},b.dividedToIntegerBy=b.idiv=function(e){var t=this.constructor;return N(_(this,new t(e),0,1),t.precision)},b.equals=b.eq=function(e){return!this.cmp(e)},b.exponent=function(){return E(this)},b.greaterThan=b.gt=function(e){return this.cmp(e)>0},b.greaterThanOrEqualTo=b.gte=function(e){return this.cmp(e)>=0},b.isInteger=b.isint=function(){return this.e>this.d.length-2},b.isNegative=b.isneg=function(){return this.s<0},b.isPositive=b.ispos=function(){return this.s>0},b.isZero=function(){return 0===this.s},b.lessThan=b.lt=function(e){return this.cmp(e)<0},b.lessThanOrEqualTo=b.lte=function(e){return this.cmp(e)<1},b.logarithm=b.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(a))throw Error(c+"NaN");if(n.s<1)throw Error(c+(n.s?"NaN":"-Infinity"));return n.eq(a)?new r(0):(s=!1,t=_(j(n,o),j(e,o),o),s=!0,N(t,i))},b.minus=b.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?A(t,e):x(t,(e.s=-e.s,e))},b.modulo=b.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(c+"NaN");return n.s?(s=!1,t=_(n,e,0,1).times(e),s=!0,n.minus(t)):N(new r(n),i)},b.naturalExponential=b.exp=function(){return S(this)},b.naturalLogarithm=b.ln=function(){return j(this)},b.negated=b.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},b.plus=b.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?x(t,e):A(t,(e.s=-e.s,e))},b.precision=b.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(l+e);if(t=E(i)+1,n=(r=i.d.length-1)*m+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},b.squareRoot=b.sqrt=function(){var e,t,n,r,i,a,o,u=this,l=u.constructor;if(u.s<1){if(!u.s)return new l(0);throw Error(c+"NaN")}for(e=E(u),s=!1,0==(i=Math.sqrt(+u))||i==1/0?(((t=k(u.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new l(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new l(i.toString()),i=o=(n=l.precision)+3;;)if(r=(a=r).plus(_(u,a,o+2)).times(.5),k(a.d).slice(0,o)===(t=k(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&"4999"==t){if(N(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if("9999"!=t)break;o+=4}return s=!0,N(r,n)},b.times=b.mul=function(e){var t,n,r,i,a,o,u,c,l,f=this,d=f.constructor,h=f.d,p=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,n=f.e+e.e,(c=h.length)<(l=p.length)&&(a=h,h=p,p=a,o=c,c=l,l=o),a=[],r=o=c+l;r--;)a.push(0);for(r=l;--r>=0;){for(t=0,i=c+r;i>r;)u=a[i]+p[r]*h[i-r-1]+t,a[i--]=u%v|0,t=u/v|0;a[i]=(a[i]+t)%v|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,s?N(e,d.precision):e},b.toDecimalPlaces=b.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(w(e,0,o),void 0===t?t=r.rounding:w(t,0,8),N(n,e+E(n)+1,t))},b.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=C(r,!0):(w(e,0,o),void 0===t?t=i.rounding:w(t,0,8),n=C(r=N(new i(r),e+1,t),!0,e+1)),n},b.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?C(i):(w(e,0,o),void 0===t?t=a.rounding:w(t,0,8),n=C((r=N(new a(i),e+E(i)+1,t)).abs(),!1,e+E(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},b.toInteger=b.toint=function(){var e=this,t=e.constructor;return N(new t(e),E(e)+1,t.rounding)},b.toNumber=function(){return+this},b.toPower=b.pow=function(e){var t,n,r,i,o,u,l=this,f=l.constructor,h=+(e=new f(e));if(!e.s)return new f(a);if(!(l=new f(l)).s){if(e.s<1)throw Error(c+"Infinity");return l}if(l.eq(a))return l;if(r=f.precision,e.eq(a))return N(l,r);if(u=(t=e.e)>=(n=e.d.length-1),o=l.s,u){if((n=h<0?-h:h)<=y){for(i=new f(a),t=Math.ceil(r/m+4),s=!1;n%2&&P((i=i.times(l)).d,t),0!==(n=d(n/2));)P((l=l.times(l)).d,t);return s=!0,e.s<0?new f(a).div(i):N(i,r)}}else if(o<0)throw Error(c+"NaN");return o=o<0&&1&e.d[Math.max(t,n)]?-1:1,l.s=1,s=!1,i=e.times(j(l,r+12)),s=!0,(i=S(i)).s=o,i},b.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?r=C(i,(n=E(i))<=a.toExpNeg||n>=a.toExpPos):(w(e,1,o),void 0===t?t=a.rounding:w(t,0,8),r=C(i=N(new a(i),e,t),e<=(n=E(i))||n<=a.toExpNeg,e)),r},b.toSignificantDigits=b.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(w(e,1,o),void 0===t?t=n.rounding:w(t,0,8)),N(new n(this),e,t)},b.toString=b.valueOf=b.val=b.toJSON=function(){var e=this,t=E(e),n=e.constructor;return C(e,t<=n.toExpNeg||t>=n.toExpPos)};var _=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%v|0,r=n/v|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,a;if(n!=r)a=n>r?1:-1;else for(i=a=0;i<n;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*v+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,a,o){var u,s,l,f,d,h,p,y,g,b,x,w,k,_,S,T,I,j,O=r.constructor,A=r.s==i.s?1:-1,C=r.d,P=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(c+"Division by zero");for(s=r.e-i.e,I=P.length,S=C.length,y=(p=new O(A)).d=[],l=0;P[l]==(C[l]||0);)++l;if(P[l]>(C[l]||0)&&--s,(w=null==a?a=O.precision:o?a+(E(r)-E(i))+1:a)<0)return new O(0);if(w=w/m+2|0,l=0,1==I)for(f=0,P=P[0],w++;(l<S||f)&&w--;l++)k=f*v+(C[l]||0),y[l]=k/P|0,f=k%P|0;else{for((f=v/(P[0]+1)|0)>1&&(P=e(P,f),C=e(C,f),I=P.length,S=C.length),_=I,b=(g=C.slice(0,I)).length;b<I;)g[b++]=0;(j=P.slice()).unshift(0),T=P[0],P[1]>=v/2&&++T;do{f=0,(u=t(P,g,I,b))<0?(x=g[0],I!=b&&(x=x*v+(g[1]||0)),(f=x/T|0)>1?(f>=v&&(f=v-1),1==(u=t(d=e(P,f),g,h=d.length,b=g.length))&&(f--,n(d,I<h?j:P,h))):(0==f&&(u=f=1),d=P.slice()),(h=d.length)<b&&d.unshift(0),n(g,d,b),-1==u&&(u=t(P,g,I,b=g.length))<1&&(f++,n(g,I<b?j:P,b)),b=g.length):0===u&&(f++,g=[0]),y[l++]=f,u&&g[0]?g[b++]=C[_]||0:(g=[C[_]],b=1)}while((_++<S||void 0!==g[0])&&w--)}return y[0]||y.shift(),p.e=s,N(p,o?a+E(p)+1:a)}}();function S(e,t){var n,r,i,o,u,c=0,l=0,d=e.constructor,p=d.precision;if(E(e)>16)throw Error(f+E(e));if(!e.s)return new d(a);for(null==t?(s=!1,u=p):u=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),l+=5;for(u+=Math.log(h(2,l))/Math.LN10*2+5|0,n=r=i=new d(a),d.precision=u;;){if(r=N(r.times(e),u),n=n.times(++c),k((o=i.plus(_(r,n,u))).d).slice(0,u)===k(i.d).slice(0,u)){for(;l--;)i=N(i.times(i),u);return d.precision=p,null==t?(s=!0,N(i,p)):i}i=o}}function E(e){for(var t=e.e*m,n=e.d[0];n>=10;n/=10)t++;return t}function T(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(c+"LN10 precision limit exceeded");return N(new e(e.LN10),t)}function I(e){for(var t="";e--;)t+="0";return t}function j(e,t){var n,r,i,o,u,l,f,d,h,p=1,v=e,m=v.d,y=v.constructor,g=y.precision;if(v.s<1)throw Error(c+(v.s?"NaN":"-Infinity"));if(v.eq(a))return new y(0);if(null==t?(s=!1,d=g):d=t,v.eq(10))return null==t&&(s=!0),T(y,d);if(d+=10,y.precision=d,r=(n=k(m)).charAt(0),o=E(v),!(Math.abs(o)<15e14))return f=T(y,d+2,g).times(o+""),v=j(new y(r+"."+n.slice(1)),d-10).plus(f),y.precision=g,null==t?(s=!0,N(v,g)):v;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=k((v=v.times(e)).d)).charAt(0),p++;for(o=E(v),r>1?(v=new y("0."+n),o++):v=new y(r+"."+n.slice(1)),l=u=v=_(v.minus(a),v.plus(a),d),h=N(v.times(v),d),i=3;;){if(u=N(u.times(h),d),k((f=l.plus(_(u,new y(i),d))).d).slice(0,d)===k(l.d).slice(0,d))return l=l.times(2),0!==o&&(l=l.plus(T(y,d+2,g).times(o+""))),l=_(l,new y(p),d),y.precision=g,null==t?(s=!0,N(l,g)):l;l=f,i+=2}}function O(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=d(n/m),e.d=[],r=(n+1)%m,n<0&&(r+=m),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=m;r<i;)e.d.push(+t.slice(r,r+=m));t=t.slice(r),r=m-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(f+n)}else e.s=0,e.e=0,e.d=[0];return e}function N(e,t,n){var r,i,a,o,u,c,l,p,y=e.d;for(o=1,a=y[0];a>=10;a/=10)o++;if((r=t-o)<0)r+=m,i=t,l=y[p=0];else{if((p=Math.ceil((r+1)/m))>=(a=y.length))return e;for(l=a=y[p],o=1;a>=10;a/=10)o++;i=(r%=m)-m+o}if(void 0!==n&&(u=l/(a=h(10,o-i-1))%10|0,c=t<0||void 0!==y[p+1]||l%a,c=n<4?(u||c)&&(0==n||n==(e.s<0?3:2)):u>5||5==u&&(4==n||c||6==n&&(r>0?i>0?l/h(10,o-i):0:y[p-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return c?(a=E(e),y.length=1,t=t-a-1,y[0]=h(10,(m-t%m)%m),e.e=d(-t/m)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==r?(y.length=p,a=1,p--):(y.length=p+1,a=h(10,m-r),y[p]=i>0?(l/h(10,o-i)%h(10,i)|0)*a:0),c)for(;;){if(0==p){(y[0]+=a)==v&&(y[0]=1,++e.e);break}if(y[p]+=a,y[p]!=v)break;y[p--]=0,a=1}for(r=y.length;0===y[--r];)y.pop();if(s&&(e.e>g||e.e<-g))throw Error(f+E(e));return e}function A(e,t){var n,r,i,a,o,u,c,l,f,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),s?N(t,p):t;if(c=e.d,d=t.d,r=t.e,l=e.e,c=c.slice(),o=l-r){for((f=o<0)?(n=c,o=-o,u=d.length):(n=d,r=l,u=c.length),o>(i=Math.max(Math.ceil(p/m),u)+2)&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for((f=(i=c.length)<(u=d.length))&&(u=i),i=0;i<u;i++)if(c[i]!=d[i]){f=c[i]<d[i];break}o=0}for(f&&(n=c,c=d,d=n,t.s=-t.s),u=c.length,i=d.length-u;i>0;--i)c[u++]=0;for(i=d.length;i>o;){if(c[--i]<d[i]){for(a=i;a&&0===c[--a];)c[a]=v-1;--c[a],c[i]+=v}c[i]-=d[i]}for(;0===c[--u];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,s?N(t,p):t):new h(0)}function C(e,t,n){var r,i=E(e),a=k(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+I(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+I(-i-1)+a,n&&(r=n-o)>0&&(a+=I(r))):i>=o?(a+=I(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+I(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=I(r))),e.s<0?"-"+a:a}function P(e,t){if(e.length>t)return e.length=t,!0}function D(e){if(!e||"object"!==typeof e)throw Error(c+"Object expected");var t,n,r,i=["precision",1,o,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(d(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(l+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(l+n+": "+r);this[n]=new this(r)}return this}u=function e(t){var n,r,i;function a(e){var t=this;if(!(t instanceof a))return new a(e);if(t.constructor=a,e instanceof a)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(l+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):O(t,e.toString())}if("string"!==typeof e)throw Error(l+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!p.test(e))throw Error(l+e);O(t,e)}if(a.prototype=b,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=D,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return a.config(t),a}(u),u.default=u.Decimal=u,a=new u(1),void 0===(r=function(){return u}.call(t,n,t,e))||(e.exports=r)}()},8354:function(e,t,n){"use strict";var r=n(4836);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var i=r(n(3812));e.exports=t.default},3812:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},2910:function(e){"use strict";function t(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,n){e.classList?e.classList.remove(n):"string"===typeof e.className?e.className=t(e.className,n):e.setAttribute("class",t(e.className&&e.className.baseVal||"",n))}},7143:function(e){"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,o){if("function"!==typeof r)throw new TypeError("The listener must be a function");var u=new i(r,a||e,o),s=n?n+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],u]:e._events[s].push(u):(e._events[s]=u,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function u(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),u.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},u.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,o=new Array(a);i<a;i++)o[i]=r[i].fn;return o},u.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},u.prototype.emit=function(e,t,r,i,a,o){var u=n?n+e:e;if(!this._events[u])return!1;var s,c,l=this._events[u],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,i),!0;case 5:return l.fn.call(l.context,t,r,i,a),!0;case 6:return l.fn.call(l.context,t,r,i,a,o),!0}for(c=1,s=new Array(f-1);c<f;c++)s[c-1]=arguments[c];l.fn.apply(l.context,s)}else{var d,h=l.length;for(c=0;c<h;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,r);break;case 4:l[c].fn.call(l[c].context,t,r,i);break;default:if(!s)for(d=1,s=new Array(f-1);d<f;d++)s[d-1]=arguments[d];l[c].fn.apply(l[c].context,s)}}return!0},u.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},u.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},u.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return o(this,a),this;var u=this._events[a];if(u.fn)u.fn!==t||i&&!u.once||r&&u.context!==r||o(this,a);else{for(var s=0,c=[],l=u.length;s<l;s++)(u[s].fn!==t||i&&!u[s].once||r&&u[s].context!==r)&&c.push(u[s]);c.length?this._events[a]=1===c.length?c[0]:c:o(this,a)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=d(n,y);try{c(t,y,g)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case s:return e;default:return t}}case i:return t}}}function k(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return k(e)||w(e)===l},t.isConcurrentMode=k,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===d||e.$$typeof===g||e.$$typeof===b||e.$$typeof===x||e.$$typeof===y)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},908:function(e,t,n){var r=n(8136)(n(7009),"DataView");e.exports=r},9676:function(e,t,n){var r=n(5403),i=n(2747),a=n(6037),o=n(4154),u=n(7728);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=u,e.exports=s},8384:function(e,t,n){var r=n(3894),i=n(8699),a=n(4957),o=n(7184),u=n(7109);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=u,e.exports=s},5797:function(e,t,n){var r=n(8136)(n(7009),"Map");e.exports=r},8059:function(e,t,n){var r=n(4086),i=n(9255),a=n(9186),o=n(3423),u=n(3739);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=u,e.exports=s},8319:function(e,t,n){var r=n(8136)(n(7009),"Promise");e.exports=r},3924:function(e,t,n){var r=n(8136)(n(7009),"Set");e.exports=r},692:function(e,t,n){var r=n(8059),i=n(5774),a=n(1596);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},2854:function(e,t,n){var r=n(8384),i=n(511),a=n(835),o=n(707),u=n(8832),s=n(5077);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=u,c.prototype.set=s,e.exports=c},7197:function(e,t,n){var r=n(7009).Symbol;e.exports=r},6219:function(e,t,n){var r=n(7009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(8136)(n(7009),"WeakMap");e.exports=r},3665:function(e){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},4277:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},4903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},9055:function(e,t,n){var r=n(4842);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},2683:function(e){e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},7538:function(e,t,n){var r=n(6478),i=n(4963),a=n(3629),o=n(5174),u=n(6800),s=n(9102),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),l=!n&&i(e),f=!n&&!l&&o(e),d=!n&&!l&&!f&&s(e),h=n||l||f||d,p=h?r(e.length,String):[],v=p.length;for(var m in e)!t&&!c.call(e,m)||h&&("length"==m||f&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||u(m,v))||p.push(m);return p}},8950:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},1705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},7897:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},4622:function(e){e.exports=function(e){return e.split("")}},7112:function(e,t,n){var r=n(9231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},2526:function(e,t,n){var r=n(8528);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},7927:function(e,t,n){var r=n(5358),i=n(7056)(r);e.exports=i},9863:function(e,t,n){var r=n(7927);e.exports=function(e,t){var n=!0;return r(e,(function(e,r,i){return n=!!t(e,r,i)})),n}},3079:function(e,t,n){var r=n(152);e.exports=function(e,t,n){for(var i=-1,a=e.length;++i<a;){var o=e[i],u=t(o);if(null!=u&&(void 0===s?u===u&&!r(u):n(u,s)))var s=u,c=o}return c}},2045:function(e){e.exports=function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}},5182:function(e,t,n){var r=n(1705),i=n(3529);e.exports=function e(t,n,a,o,u){var s=-1,c=t.length;for(a||(a=i),u||(u=[]);++s<c;){var l=t[s];n>0&&a(l)?n>1?e(l,n-1,a,o,u):r(u,l):o||(u[u.length]=l)}return u}},5099:function(e,t,n){var r=n(372)();e.exports=r},5358:function(e,t,n){var r=n(5099),i=n(2742);e.exports=function(e,t){return e&&r(e,t,i)}},8667:function(e,t,n){var r=n(3082),i=n(9793);e.exports=function(e,t){for(var n=0,a=(t=r(t,e)).length;null!=e&&n<a;)e=e[i(t[n++])];return n&&n==a?e:void 0}},1986:function(e,t,n){var r=n(1705),i=n(3629);e.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},9066:function(e,t,n){var r=n(7197),i=n(1587),a=n(3581),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},1954:function(e){e.exports=function(e,t){return e>t}},529:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},4842:function(e,t,n){var r=n(2045),i=n(505),a=n(7167);e.exports=function(e,t,n){return t===t?a(e,t,n):r(e,i,n)}},4906:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},1848:function(e,t,n){var r=n(3355),i=n(3141);e.exports=function e(t,n,a,o,u){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,a,o,e,u))}},3355:function(e,t,n){var r=n(2854),i=n(5305),a=n(2206),o=n(8078),u=n(8383),s=n(3629),c=n(5174),l=n(9102),f="[object Arguments]",d="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,m,y){var g=s(e),b=s(t),x=g?d:u(e),w=b?d:u(t),k=(x=x==f?h:x)==h,_=(w=w==f?h:w)==h,S=x==w;if(S&&c(e)){if(!c(t))return!1;g=!0,k=!1}if(S&&!k)return y||(y=new r),g||l(e)?i(e,t,n,v,m,y):a(e,t,x,n,v,m,y);if(!(1&n)){var E=k&&p.call(e,"__wrapped__"),T=_&&p.call(t,"__wrapped__");if(E||T){var I=E?e.value():e,j=T?t.value():t;return y||(y=new r),m(I,j,n,v,y)}}return!!S&&(y||(y=new r),o(e,t,n,v,m,y))}},8856:function(e,t,n){var r=n(2854),i=n(1848);e.exports=function(e,t,n,a){var o=n.length,u=o,s=!a;if(null==e)return!u;for(e=Object(e);o--;){var c=n[o];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<u;){var l=(c=n[o])[0],f=e[l],d=c[1];if(s&&c[2]){if(void 0===f&&!(l in e))return!1}else{var h=new r;if(a)var p=a(f,d,l,e,t,h);if(!(void 0===p?i(d,f,3,a,h):p))return!1}}return!0}},505:function(e){e.exports=function(e){return e!==e}},6703:function(e,t,n){var r=n(4786),i=n(257),a=n(8092),o=n(7907),u=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,l=s.toString,f=c.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(r(e)?d:u).test(o(e))}},8150:function(e,t,n){var r=n(9066),i=n(4635),a=n(3141),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},6025:function(e,t,n){var r=n(7080),i=n(4322),a=n(2100),o=n(3629),u=n(38);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?o(e)?i(e[0],e[1]):r(e):u(e)}},3654:function(e,t,n){var r=n(2936),i=n(8836),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},2580:function(e){e.exports=function(e,t){return e<t}},3849:function(e,t,n){var r=n(7927),i=n(1473);e.exports=function(e,t){var n=-1,a=i(e)?Array(e.length):[];return r(e,(function(e,r,i){a[++n]=t(e,r,i)})),a}},7080:function(e,t,n){var r=n(8856),i=n(9091),a=n(284);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},4322:function(e,t,n){var r=n(1848),i=n(6181),a=n(5658),o=n(5823),u=n(5072),s=n(284),c=n(9793);e.exports=function(e,t){return o(e)&&u(t)?s(c(e),t):function(n){var o=i(n,e);return void 0===o&&o===t?a(n,e):r(t,o,3)}}},3226:function(e,t,n){var r=n(8950),i=n(8667),a=n(6025),o=n(3849),u=n(9179),s=n(6194),c=n(4480),l=n(2100),f=n(3629);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return f(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[l];var d=-1;t=r(t,s(a));var h=o(e,(function(e,n,i){return{criteria:r(t,(function(t){return t(e)})),index:++d,value:e}}));return u(h,(function(e,t){return c(e,t,n)}))}},9586:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},4084:function(e,t,n){var r=n(8667);e.exports=function(e){return function(t){return r(t,e)}}},7255:function(e){var t=Math.ceil,n=Math.max;e.exports=function(e,r,i,a){for(var o=-1,u=n(t((r-e)/(i||1)),0),s=Array(u);u--;)s[a?u:++o]=e,e+=i;return s}},8794:function(e,t,n){var r=n(2100),i=n(4262),a=n(9156);e.exports=function(e,t){return a(i(e,t,r),e+"")}},7532:function(e,t,n){var r=n(1547),i=n(8528),a=n(2100),o=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:a;e.exports=o},2646:function(e){e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}},9204:function(e,t,n){var r=n(7927);e.exports=function(e,t){var n;return r(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}},9179:function(e){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},6478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},2446:function(e,t,n){var r=n(7197),i=n(8950),a=n(3629),o=n(152),u=r?r.prototype:void 0,s=u?u.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return i(t,e)+"";if(o(t))return s?s.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},821:function(e,t,n){var r=n(6050),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},6194:function(e){e.exports=function(e){return function(t){return e(t)}}},9602:function(e,t,n){var r=n(692),i=n(9055),a=n(2683),o=n(75),u=n(7730),s=n(2230);e.exports=function(e,t,n){var c=-1,l=i,f=e.length,d=!0,h=[],p=h;if(n)d=!1,l=a;else if(f>=200){var v=t?null:u(e);if(v)return s(v);d=!1,l=o,p=new r}else p=t?[]:h;e:for(;++c<f;){var m=e[c],y=t?t(m):m;if(m=n||0!==m?m:0,d&&y===y){for(var g=p.length;g--;)if(p[g]===y)continue e;t&&p.push(y),h.push(m)}else l(p,y,n)||(p!==h&&p.push(y),h.push(m))}return h}},75:function(e){e.exports=function(e,t){return e.has(t)}},3082:function(e,t,n){var r=n(3629),i=n(5823),a=n(170),o=n(3518);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:a(o(e))}},9813:function(e,t,n){var r=n(2646);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},8558:function(e,t,n){var r=n(152);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,a=e===e,o=r(e),u=void 0!==t,s=null===t,c=t===t,l=r(t);if(!s&&!l&&!o&&e>t||o&&u&&c&&!s&&!l||i&&u&&c||!n&&c||!a)return 1;if(!i&&!o&&!l&&e<t||l&&n&&a&&!i&&!o||s&&n&&a||!u&&a||!c)return-1}return 0}},4480:function(e,t,n){var r=n(8558);e.exports=function(e,t,n){for(var i=-1,a=e.criteria,o=t.criteria,u=a.length,s=n.length;++i<u;){var c=r(a[i],o[i]);if(c)return i>=s?c:c*("desc"==n[i]?-1:1)}return e.index-t.index}},5525:function(e,t,n){var r=n(7009)["__core-js_shared__"];e.exports=r},7056:function(e,t,n){var r=n(1473);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var a=n.length,o=t?a:-1,u=Object(n);(t?o--:++o<a)&&!1!==i(u[o],o,u););return n}}},372:function(e){e.exports=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),u=o.length;u--;){var s=o[e?u:++i];if(!1===n(a[s],s,a))break}return t}}},322:function(e,t,n){var r=n(9813),i=n(7302),a=n(7580),o=n(3518);e.exports=function(e){return function(t){t=o(t);var n=i(t)?a(t):void 0,u=n?n[0]:t.charAt(0),s=n?r(n,1).join(""):t.slice(1);return u[e]()+s}}},5481:function(e,t,n){var r=n(6025),i=n(1473),a=n(2742);e.exports=function(e){return function(t,n,o){var u=Object(t);if(!i(t)){var s=r(n,3);t=a(t),n=function(e){return s(u[e],e,u)}}var c=e(t,n,o);return c>-1?u[s?t[c]:c]:void 0}}},6381:function(e,t,n){var r=n(7255),i=n(3195),a=n(1495);e.exports=function(e){return function(t,n,o){return o&&"number"!=typeof o&&i(t,n,o)&&(n=o=void 0),t=a(t),void 0===n?(n=t,t=0):n=a(n),o=void 0===o?t<n?1:-1:a(o),r(t,n,o,e)}}},7730:function(e,t,n){var r=n(3924),i=n(9694),a=n(2230),o=r&&1/a(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=o},8528:function(e,t,n){var r=n(8136),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},5305:function(e,t,n){var r=n(692),i=n(7897),a=n(75);e.exports=function(e,t,n,o,u,s){var c=1&n,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var d=s.get(e),h=s.get(t);if(d&&h)return d==t&&h==e;var p=-1,v=!0,m=2&n?new r:void 0;for(s.set(e,t),s.set(t,e);++p<l;){var y=e[p],g=t[p];if(o)var b=c?o(g,y,p,t,e,s):o(y,g,p,e,t,s);if(void 0!==b){if(b)continue;v=!1;break}if(m){if(!i(t,(function(e,t){if(!a(m,t)&&(y===e||u(y,e,n,o,s)))return m.push(t)}))){v=!1;break}}else if(y!==g&&!u(y,g,n,o,s)){v=!1;break}}return s.delete(e),s.delete(t),v}},2206:function(e,t,n){var r=n(7197),i=n(6219),a=n(9231),o=n(5305),u=n(234),s=n(2230),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,f,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=u;case"[object Set]":var p=1&r;if(h||(h=s),e.size!=t.size&&!p)return!1;var v=d.get(e);if(v)return v==t;r|=2,d.set(e,t);var m=o(h(e),h(t),r,c,f,d);return d.delete(e),m;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},8078:function(e,t,n){var r=n(8248),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,o,u){var s=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!s)return!1;for(var f=l;f--;){var d=c[f];if(!(s?d in t:i.call(t,d)))return!1}var h=u.get(e),p=u.get(t);if(h&&p)return h==t&&p==e;var v=!0;u.set(e,t),u.set(t,e);for(var m=s;++f<l;){var y=e[d=c[f]],g=t[d];if(a)var b=s?a(g,y,d,t,e,u):a(y,g,d,e,t,u);if(!(void 0===b?y===g||o(y,g,n,a,u):b)){v=!1;break}m||(m="constructor"==d)}if(v&&!m){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(v=!1)}return u.delete(e),u.delete(t),v}},1032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8248:function(e,t,n){var r=n(1986),i=n(5918),a=n(2742);e.exports=function(e){return r(e,a,i)}},2799:function(e,t,n){var r=n(5964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},9091:function(e,t,n){var r=n(5072),i=n(2742);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var a=t[n],o=e[a];t[n]=[a,o,r(o)]}return t}},8136:function(e,t,n){var r=n(6703),i=n(40);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},1137:function(e,t,n){var r=n(2709)(Object.getPrototypeOf,Object);e.exports=r},1587:function(e,t,n){var r=n(7197),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,u=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(s){}var i=o.call(e);return r&&(t?e[u]=n:delete e[u]),i}},5918:function(e,t,n){var r=n(4903),i=n(8174),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,u=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return a.call(e,t)})))}:i;e.exports=u},8383:function(e,t,n){var r=n(908),i=n(5797),a=n(8319),o=n(3924),u=n(7091),s=n(9066),c=n(7907),l="[object Map]",f="[object Promise]",d="[object Set]",h="[object WeakMap]",p="[object DataView]",v=c(r),m=c(i),y=c(a),g=c(o),b=c(u),x=s;(r&&x(new r(new ArrayBuffer(1)))!=p||i&&x(new i)!=l||a&&x(a.resolve())!=f||o&&x(new o)!=d||u&&x(new u)!=h)&&(x=function(e){var t=s(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return p;case m:return l;case y:return f;case g:return d;case b:return h}return t}),e.exports=x},40:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},6417:function(e,t,n){var r=n(3082),i=n(4963),a=n(3629),o=n(6800),u=n(4635),s=n(9793);e.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,f=!1;++c<l;){var d=s(t[c]);if(!(f=null!=e&&n(e,d)))break;e=e[d]}return f||++c!=l?f:!!(l=null==e?0:e.length)&&u(l)&&o(d,l)&&(a(e)||i(e))}},7302:function(e){var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},5403:function(e,t,n){var r=n(9620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6037:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4154:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7728:function(e,t,n){var r=n(9620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},3529:function(e,t,n){var r=n(7197),i=n(4963),a=n(3629),o=r?r.isConcatSpreadable:void 0;e.exports=function(e){return a(e)||i(e)||!!(o&&e&&e[o])}},6800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},3195:function(e,t,n){var r=n(9231),i=n(1473),a=n(6800),o=n(8092);e.exports=function(e,t,n){if(!o(n))return!1;var u=typeof t;return!!("number"==u?i(n)&&a(t,n.length):"string"==u&&t in n)&&r(n[t],e)}},5823:function(e,t,n){var r=n(3629),i=n(152),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(o.test(e)||!a.test(e)||null!=t&&e in Object(t))}},5964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(5525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},2936:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},5072:function(e,t,n){var r=n(8092);e.exports=function(e){return e===e&&!r(e)}},3894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(7112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4957:function(e,t,n){var r=n(7112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7184:function(e,t,n){var r=n(7112);e.exports=function(e){return r(this.__data__,e)>-1}},7109:function(e,t,n){var r=n(7112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4086:function(e,t,n){var r=n(9676),i=n(8384),a=n(5797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},9255:function(e,t,n){var r=n(2799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},9186:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).get(e)}},3423:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).has(e)}},3739:function(e,t,n){var r=n(2799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},234:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},284:function(e){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},4634:function(e,t,n){var r=n(9151);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},9620:function(e,t,n){var r=n(8136)(Object,"create");e.exports=r},8836:function(e,t,n){var r=n(2709)(Object.keys,Object);e.exports=r},9494:function(e,t,n){e=n.nmd(e);var r=n(1032),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i&&r.process,u=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=u},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},2709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},4262:function(e,t,n){var r=n(3665),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var a=arguments,o=-1,u=i(a.length-t,0),s=Array(u);++o<u;)s[o]=a[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=a[o];return c[t]=n(s),r(e,this,c)}}},7009:function(e,t,n){var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},5774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1596:function(e){e.exports=function(e){return this.__data__.has(e)}},2230:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},9156:function(e,t,n){var r=n(7532),i=n(3197)(r);e.exports=i},3197:function(e){var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),a=16-(i-r);if(r=i,a>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},511:function(e,t,n){var r=n(8384);e.exports=function(){this.__data__=new r,this.size=0}},835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},707:function(e){e.exports=function(e){return this.__data__.get(e)}},8832:function(e){e.exports=function(e){return this.__data__.has(e)}},5077:function(e,t,n){var r=n(8384),i=n(5797),a=n(8059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},7167:function(e){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},7580:function(e,t,n){var r=n(4622),i=n(7302),a=n(2129);e.exports=function(e){return i(e)?a(e):r(e)}},170:function(e,t,n){var r=n(4634),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(a,"$1"):n||e)})),t}));e.exports=o},9793:function(e,t,n){var r=n(152);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},7907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},6050:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},2129:function(e){var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",a="[^"+t+"]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+r+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?",l=c+s+("(?:\\u200d(?:"+[a,o,u].join("|")+")"+c+s+")*"),f="(?:"+[a+r+"?",r,o,u,n].join("|")+")",d=RegExp(i+"(?="+i+")|"+f+l,"g");e.exports=function(e){return e.match(d)||[]}},1547:function(e){e.exports=function(e){return function(){return e}}},8573:function(e,t,n){var r=n(8092),i=n(72),a=n(2582),o=Math.max,u=Math.min;e.exports=function(e,t,n){var s,c,l,f,d,h,p=0,v=!1,m=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=s,r=c;return s=c=void 0,p=t,f=e.apply(r,n)}function b(e){var n=e-h;return void 0===h||n>=t||n<0||m&&e-p>=l}function x(){var e=i();if(b(e))return w(e);d=setTimeout(x,function(e){var n=t-(e-h);return m?u(n,l-(e-p)):n}(e))}function w(e){return d=void 0,y&&s?g(e):(s=c=void 0,f)}function k(){var e=i(),n=b(e);if(s=arguments,c=this,h=e,n){if(void 0===d)return function(e){return p=e,d=setTimeout(x,t),v?g(e):f}(h);if(m)return clearTimeout(d),d=setTimeout(x,t),g(h)}return void 0===d&&(d=setTimeout(x,t)),f}return t=a(t)||0,r(n)&&(v=!!n.leading,l=(m="maxWait"in n)?o(a(n.maxWait)||0,t):l,y="trailing"in n?!!n.trailing:y),k.cancel=function(){void 0!==d&&clearTimeout(d),p=0,s=h=c=d=void 0},k.flush=function(){return void 0===d?f:w(i())},k}},9231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},2730:function(e,t,n){var r=n(4277),i=n(9863),a=n(6025),o=n(3629),u=n(3195);e.exports=function(e,t,n){var s=o(e)?r:i;return n&&u(e,t,n)&&(t=void 0),s(e,a(t,3))}},1211:function(e,t,n){var r=n(5481)(n(1475));e.exports=r},1475:function(e,t,n){var r=n(2045),i=n(6025),a=n(9753),o=Math.max;e.exports=function(e,t,n){var u=null==e?0:e.length;if(!u)return-1;var s=null==n?0:a(n);return s<0&&(s=o(u+s,0)),r(e,i(t,3),s)}},5008:function(e,t,n){var r=n(5182),i=n(2034);e.exports=function(e,t){return r(i(e,t),1)}},6181:function(e,t,n){var r=n(8667);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},5658:function(e,t,n){var r=n(529),i=n(6417);e.exports=function(e,t){return null!=e&&i(e,t,r)}},2100:function(e){e.exports=function(e){return e}},4963:function(e,t,n){var r=n(4906),i=n(3141),a=Object.prototype,o=a.hasOwnProperty,u=a.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!u.call(e,"callee")};e.exports=s},3629:function(e){var t=Array.isArray;e.exports=t},1473:function(e,t,n){var r=n(4786),i=n(4635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},5127:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return!0===e||!1===e||i(e)&&"[object Boolean]"==r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(7009),i=n(9488),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,u=o&&o.exports===a?r.Buffer:void 0,s=(u?u.isBuffer:void 0)||i;e.exports=s},8111:function(e,t,n){var r=n(1848);e.exports=function(e,t){return r(e,t)}},4786:function(e,t,n){var r=n(9066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},2066:function(e,t,n){var r=n(298);e.exports=function(e){return r(e)&&e!=+e}},5633:function(e){e.exports=function(e){return null==e}},298:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==r(e)}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},3977:function(e,t,n){var r=n(9066),i=n(1137),a=n(3141),o=Function.prototype,u=Object.prototype,s=o.toString,c=u.hasOwnProperty,l=s.call(Object);e.exports=function(e){if(!a(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==l}},6769:function(e,t,n){var r=n(9066),i=n(3629),a=n(3141);e.exports=function(e){return"string"==typeof e||!i(e)&&a(e)&&"[object String]"==r(e)}},152:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9102:function(e,t,n){var r=n(8150),i=n(6194),a=n(9494),o=a&&a.isTypedArray,u=o?i(o):r;e.exports=u},2742:function(e,t,n){var r=n(7538),i=n(3654),a=n(1473);e.exports=function(e){return a(e)?r(e):i(e)}},5727:function(e){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},2034:function(e,t,n){var r=n(8950),i=n(6025),a=n(3849),o=n(3629);e.exports=function(e,t){return(o(e)?r:a)(e,i(t,3))}},7702:function(e,t,n){var r=n(2526),i=n(5358),a=n(6025);e.exports=function(e,t){var n={};return t=a(t,3),i(e,(function(e,i,a){r(n,i,t(e,i,a))})),n}},9627:function(e,t,n){var r=n(3079),i=n(1954),a=n(2100);e.exports=function(e){return e&&e.length?r(e,a,i):void 0}},8559:function(e,t,n){var r=n(3079),i=n(1954),a=n(6025);e.exports=function(e,t){return e&&e.length?r(e,a(t,2),i):void 0}},9151:function(e,t,n){var r=n(8059);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},6452:function(e,t,n){var r=n(3079),i=n(2580),a=n(2100);e.exports=function(e){return e&&e.length?r(e,a,i):void 0}},3638:function(e,t,n){var r=n(3079),i=n(6025),a=n(2580);e.exports=function(e,t){return e&&e.length?r(e,i(t,2),a):void 0}},9694:function(e){e.exports=function(){}},72:function(e,t,n){var r=n(7009);e.exports=function(){return r.Date.now()}},38:function(e,t,n){var r=n(9586),i=n(4084),a=n(5823),o=n(9793);e.exports=function(e){return a(e)?r(o(e)):i(e)}},6222:function(e,t,n){var r=n(6381)();e.exports=r},4064:function(e,t,n){var r=n(7897),i=n(6025),a=n(9204),o=n(3629),u=n(3195);e.exports=function(e,t,n){var s=o(e)?r:a;return n&&u(e,t,n)&&(t=void 0),s(e,i(t,3))}},4286:function(e,t,n){var r=n(5182),i=n(3226),a=n(8794),o=n(3195),u=a((function(e,t){if(null==e)return[];var n=t.length;return n>1&&o(e,t[0],t[1])?t=[]:n>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])}));e.exports=u},8174:function(e){e.exports=function(){return[]}},9488:function(e){e.exports=function(){return!1}},3038:function(e,t,n){var r=n(8573),i=n(8092);e.exports=function(e,t,n){var a=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(a="leading"in n?!!n.leading:a,o="trailing"in n?!!n.trailing:o),r(e,t,{leading:a,maxWait:t,trailing:o})}},1495:function(e,t,n){var r=n(2582),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},9753:function(e,t,n){var r=n(1495);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},2582:function(e,t,n){var r=n(821),i=n(8092),a=n(152),o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=u.test(e);return n||s.test(e)?c(e.slice(2),n?2:8):o.test(e)?NaN:+e}},3518:function(e,t,n){var r=n(2446);e.exports=function(e){return null==e?"":r(e)}},6339:function(e,t,n){var r=n(6025),i=n(9602);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},2085:function(e,t,n){var r=n(322)("toUpperCase");e.exports=r},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var R,L=Object.assign;function F(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var B=!1;function U(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case k:return"Portal";case E:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,_e=null,Se=null;function Ee(e){if(e=bi(e)){if("function"!==typeof ke)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),ke(e.stateNode,e.type,t))}}function Te(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Ie(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function je(e,t){return e(t)}function Oe(){}var Ne=!1;function Ae(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return je(e,t,n)}finally{Ne=!1,(null!==_e||null!==Se)&&(Oe(),Ie())}}function Ce(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Pe=!1}function Me(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Re=!1,Le=null,Fe=!1,Be=null,Ue={onError:function(e){Re=!0,Le=e}};function Ve(e,t,n,r,i,a,o,u,s){Re=!1,Le=null,Me.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,_t,St,Et,Tt=!1,It=[],jt=null,Ot=null,Nt=null,At=new Map,Ct=new Map,Pt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ct.delete(t.pointerId)}}function Rt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Bt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){Tt=!1,null!==jt&&Ft(jt)&&(jt=null),null!==Ot&&Ft(Ot)&&(Ot=null),null!==Nt&&Ft(Nt)&&(Nt=null),At.forEach(Bt),Ct.forEach(Bt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Vt(t,e)}if(0<It.length){Vt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==jt&&Vt(jt,e),null!==Ot&&Vt(Ot,e),null!==Nt&&Vt(Nt,e),At.forEach(t),Ct.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Pt.shift()}var qt=x.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Gt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Kt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return jt=Rt(jt,e,t,n,r,i),!0;case"dragenter":return Ot=Rt(Ot,e,t,n,r,i),!0;case"mouseover":return Nt=Rt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Rt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ct.set(a,Rt(Ct.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Hr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=L({},cn,{view:0,detail:0}),dn=an(fn),hn=L({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(hn),vn=an(L({},hn,{dataTransfer:0})),mn=an(L({},fn,{relatedTarget:0})),yn=an(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),xn=an(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function En(){return Sn}var Tn=L({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(Tn),jn=an(L({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=an(L({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Nn=an(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=L({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cn=an(An),Pn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Mn=null;l&&"documentMode"in document&&(Mn=document.documentMode);var Rn=l&&"TextEvent"in window&&!Mn,Ln=l&&(!Dn||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),Bn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Te(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Qn(e){Fr(e,0)}function Yn(e){if(K(xi(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Wn(t,Kn,e,we(e)),Ae(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Sr={};function Er(e){if(_r[e])return _r[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Tr=Er("animationend"),Ir=Er("animationiteration"),jr=Er("animationstart"),Or=Er("transitionend"),Nr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(e,t){Nr.set(e,t),s(t,[e])}for(var Pr=0;Pr<Ar.length;Pr++){var Dr=Ar[Pr];Cr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Cr(Tr,"onAnimationEnd"),Cr(Ir,"onAnimationIteration"),Cr(jr,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(Or,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Ve.apply(this,arguments),Re){if(!Re)throw Error(a(198));var l=Le;Re=!1,Le=null,Fe||(Fe=!0,Be=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Lr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Lr(i,u,c),a=s}}}if(Fe)throw e=Be,Fe=!1,Be=null,e}function Br(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Rr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Wt;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ae((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=In;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=On;break;case Tr:case Ir:case jr:s=yn;break;case Or:s=Nn;break;case"scroll":s=dn;break;case"wheel":s=Cn;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=jn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==u?u+"Capture":null:u;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Ce(p,d))&&l.push(Wr(p,v,h)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=jn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==s?u:xi(s),h=null==c?u:xi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=h,v=null,gi(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(d=c,p=0,h=l=s;h;h=Kr(h))p++;for(h=0,v=d;v;v=Kr(v))h++;for(;0<p-h;)l=Kr(l),p--;for(;0<h-p;)d=Kr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Kr(l),d=Kr(d)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?xi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(Hn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?xi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":xr(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(y=Gr(r,b)).length&&(b=new xn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=Vn(n))&&(b.data=g))),(g=Rn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&Un(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ce(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Ce(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ce(n,a))&&o.unshift(Wr(n,s,u)):i||null!=(s=Ce(n,a))&&o.push(Wr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,hi="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[di])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[hi]||null}var ki=[],_i=-1;function Si(e){return{current:e}}function Ei(e){0>_i||(e.current=ki[_i],ki[_i]=null,_i--)}function Ti(e,t){_i++,ki[_i]=e.current,e.current=t}var Ii={},ji=Si(Ii),Oi=Si(!1),Ni=Ii;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ci(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ei(Oi),Ei(ji)}function Di(e,t,n){if(ji.current!==Ii)throw Error(a(168));Ti(ji,t),Ti(Oi,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return L({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ni=ji.current,Ti(ji,e),Ti(Oi,Oi.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ei(Oi),Ei(ji),Ti(ji,e)):Ei(Oi),Ti(Oi,n)}var Fi=null,Bi=!1,Ui=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Bi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke(Ze,zi),i}finally{bt=t,Ui=!1}}return null}var qi=[],Hi=0,Wi=null,Gi=0,Ki=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){qi[Hi++]=Gi,qi[Hi++]=Wi,Wi=e,Gi=t}function Zi(e,t,n){Ki[Qi++]=$i,Ki[Qi++]=Xi,Ki[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else $i=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Gi=qi[--Hi],qi[Hi]=null;for(;e===Yi;)Yi=Ki[--Qi],Ki[Qi]=null,Xi=Ki[--Qi],Ki[Qi]=null,$i=Ki[--Qi],Ki[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Cc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Cc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw da(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=ci(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=x.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,ba=null,xa=null;function wa(){xa=ba=ga=null}function ka(e){var t=ya.current;Ei(ya),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,xa=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xu=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(xa!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ga)throw Error(a(308));ba=e,ga.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ta=null;function Ia(e){null===Ta?Ta=[e]:Ta.push(e)}function ja(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ia(t)):(n.next=i.next,i.next=n),t.interleaved=n,Oa(e,r)}function Oa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Os)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Oa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ia(r)):(t.next=i.next,i.next=t),r.interleaved=t,Oa(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ra(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function La(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var d=u.lane,h=u.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=L({},f,d);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[u]:d.push(u))}else h={eventTime:h,lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=h,s=f):l=l.next=h,o|=d;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(d=u).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ls|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ba=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(rc(t,e,r,n),Ma(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Ci(t)?Ni:ji.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ba,Aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Ci(t)?Ni:ji.current,i.context=Ai(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Va.enqueueReplaceState(i,i.state,null),La(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ba&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===C&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case k:return(t=Bc(t,e.mode,n)).return=e,t;case C:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Rc(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case k:return n.key===i?l(e,t,n,r):null;case C:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:f(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case C:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=h(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=d(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=M(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=h(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=d(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===C&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Rc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Mc(o.type,o.key,o.props,null,r.mode,s)).ref=Ga(r,a,o),s.return=r,r=s)}return u(r);case k:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Bc(o,r.mode,s)).return=r,r=a}return u(r);case C:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(M(o))return m(r,a,o,s);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var $a=Ya(!0),Xa=Ya(!1),Ja={},Za=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Ti(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ti(eo,e),Ti(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var uo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=x.ReactCurrentDispatcher,ho=x.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,bo=!1,xo=0,wo=0;function ko(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),bo){o=0;do{if(bo=!1,xo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(bo)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==xo;return xo=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function Io(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function jo(e,t){return"function"===typeof t?t(e):t}function Oo(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=d,u=r):c=c.next=d,vo.lanes|=f,Ls|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(xu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ls|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(xu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ao(){}function Co(e,t){var n=vo,r=Io(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,xu=!0),r=r.queue,Ho(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Bo(9,Do.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Ro(t)&&Lo(e)}function Mo(e,t,n){return n((function(){Ro(t)&&Lo(e)}))}function Ro(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Lo(e){var t=Oa(e,1);null!==t&&rc(t,e,1,-1)}function Fo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Bo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return Io().memoizedState}function Vo(e,t,n,r){var i=To();vo.flags|=e,i.memoizedState=Bo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=Io();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Bo(t,n,a,r))}vo.flags|=e,i.memoizedState=Bo(1|t,n,a,r)}function qo(e,t){return Vo(8390656,8,e,t)}function Ho(e,t){return zo(2048,8,e,t)}function Wo(e,t){return zo(4,2,e,t)}function Go(e,t){return zo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Ko.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,xu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ls|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function eu(){return Io().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=ja(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ia(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=ja(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ea,useCallback:ko,useContext:ko,useEffect:ko,useImperativeHandle:ko,useInsertionEffect:ko,useLayoutEffect:ko,useMemo:ko,useReducer:ko,useRef:ko,useState:ko,useDebugValue:ko,useDeferredValue:ko,useTransition:ko,useMutableSource:ko,useSyncExternalStore:ko,useId:ko,unstable_isNewReconciler:!1},uu={readContext:Ea,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:Fo,useDebugValue:Yo,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=To();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,Bo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Ns.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=xo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Xo,useReducer:Oo,useRef:Uo,useState:function(){return Oo(jo)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(Io(),mo.memoizedState,e)},useTransition:function(){return[Oo(jo)[0],Io().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Co,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Xo,useReducer:No,useRef:Uo,useState:function(){return No(jo)},useDebugValue:Yo,useDeferredValue:function(e){var t=Io();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[No(jo)[0],Io().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Co,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function du(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hu="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Gs=r),du(0,t)},n}function vu(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){du(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){du(0,t),"function"!==typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bu=x.ReactCurrentOwner,xu=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):$a(t,e.child,n,r)}function ku(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||xu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function _u(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Wu(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(xu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Wu(e,t,i);0!==(131072&e.flags)&&(xu=!0)}}return Iu(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Ds,Ps),Ps|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Ds,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Ds,Ps),Ps|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Ds,Ps),Ps|=r;return wu(e,t,i,n),t.child}function Tu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Iu(e,t,n,r,i){var a=Ci(n)?Ni:ji.current;return a=Ai(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||xu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function ju(e,t,n,r,i){if(Ci(n)){var a=!0;Ri(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Hu(e,t),qa(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Ai(t,c=Ci(n)?Ni:ji.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ha(t,o,r,c),Na=!1;var d=t.memoizedState;o.state=d,La(t,r,o,i),s=t.memoizedState,u!==r||d!==s||Oi.current||Na?("function"===typeof l&&(Ua(t,n,l,r),s=t.memoizedState),(u=Na||za(t,n,u,r,d,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ea(s):s=Ai(t,s=Ci(n)?Ni:ji.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||d!==s)&&Ha(t,o,r,s),Na=!1,d=t.memoizedState,o.state=d,La(t,r,o,i);var p=t.memoizedState;u!==f||d!==p||Oi.current||Na?("function"===typeof h&&(Ua(t,n,h,r),p=t.memoizedState),(c=Na||za(t,n,c,r,d,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ou(e,t,n,r,a,i)}function Ou(e,t,n,r,i,a){Tu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Li(t,n,!1),Wu(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Au(e,t,n,r,i){return ha(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Cu,Pu,Du,Mu,Ru={dehydrated:null,treeContext:null,retryLane:0};function Lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Lc(s,i,0,null),e=Rc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Lu(n),t.memoizedState=Ru,e):Bu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Uu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(o=Rc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,u),t.child.memoizedState=Lu(u),t.memoizedState=Ru,o);if(0===(1&t.mode))return Uu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Uu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),xu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Oa(e,i),rc(r,e,i,-1))}return mc(),Uu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=jc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Qi++]=$i,Ki[Qi++]=Xi,Ki[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),t=Bu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Dc(r,u):(u=Rc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Lu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Ru,i}return e=(u=e.child).sibling,i=Dc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Bu(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Bu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vu(e,n,t);else if(19===e.tag)Vu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ls|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ku(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ku(t),null;case 1:case 17:return Ci(t.type)&&Pi(),Ku(t),null;case 3:return r=t.stateNode,io(),Ei(Oi),Ei(ji),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Pu(e,t),Ku(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Du(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ku(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Br(Mr[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":$(r,o),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Br("invalid",r);break;case"textarea":ie(r,o),Br("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Br("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[di]=t,e[hi]=r,Cu(e,t,!1,!1),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Br(Mr[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Br("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ku(t),null;case 6:if(e&&null!=t.stateNode)Mu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ku(t),null;case 13:if(Ei(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),ha(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[di]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ku(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ms&&(Ms=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ku(t),null);case 4:return io(),Pu(e,t),null===e&&zr(t.stateNode.containerInfo),Ku(t),null;case 10:return ka(t.type._context),Ku(t),null;case 19:if(Ei(uo),null===(o=t.memoizedState))return Ku(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Gu(o,!1);else{if(0!==Ms||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Gu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qs&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Ku(t),null}else 2*Xe()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Ti(uo,r?1&n|2:1&n),t):(Ku(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ps)&&(Ku(t),6&t.subtreeFlags&&(t.flags|=8192)):Ku(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Yu(e,t){switch(ta(t),t.tag){case 1:return Ci(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Oi),Ei(ji),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(uo),null;case 4:return io(),null;case 10:return ka(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Cu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pu=function(){},Du=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Br("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Mu=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Xu=!1,Ju="function"===typeof WeakSet?WeakSet:Set,Zu=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,ds=!1;function hs(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Xu||es(n,t);case 6:var r=fs,i=ds;fs=null,hs(e,t,n),ds=i,null!==(fs=r)&&(ds?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(ds?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=ds,fs=n.stateNode.containerInfo,ds=!0,hs(e,t,n),fs=r,ds=i;break;case 0:case 11:case 14:case 15:if(!Xu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Xu&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ec(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Xu=(r=Xu)||null!==n.memoizedState,hs(e,t,n),Xu=r):hs(e,t,n);break;default:hs(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ju),t.forEach((function(t){var r=Oc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,ds=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,ds=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,ds=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){Ec(e,e.return,m)}try{rs(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),be(s,u);var l=be(s,o);for(u=0;u<c.length;u+=2){var f=c[u],d=c[u+1];"style"===f?me(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):b(i,f,d,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=Xe())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xu=(l=Xu)||f,ms(t,e),Xu=l):ms(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zu=e,f=e.child;null!==f;){for(d=Zu=f;null!==Zu;){switch(p=(h=Zu).child,h.tag){case 0:case 11:case 14:case 15:rs(4,h,h.return);break;case 1:es(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:es(h,h.return);break;case 22:if(null!==h.memoizedState){ks(d);continue}}null!==p?(p.return=h,Zu=p):ks(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=d.stateNode,u=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ec(e,e.return,m)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ms(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Ec(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bs(e,t,n){Zu=e,xs(e,t,n)}function xs(e,t,n){for(var r=0!==(1&e.mode);null!==Zu;){var i=Zu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$u;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Xu;u=$u;var c=Xu;if($u=o,(Xu=s)&&!c)for(Zu=i;null!==Zu;)s=(o=Zu).child,22===o.tag&&null!==o.memoizedState?_s(i):null!==s?(s.return=o,Zu=s):_s(i);for(;null!==a;)Zu=a,xs(a,t,n),a=a.sibling;Zu=i,$u=u,Xu=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zu=a):ws(e)}}function ws(e){for(;null!==Zu;){var t=Zu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xu||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(a(163))}Xu||512&t.flags&&as(t)}catch(h){Ec(t,t.return,h)}}if(t===e){Zu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zu=n;break}Zu=t.return}}function ks(e){for(;null!==Zu;){var t=Zu;if(t===e){Zu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zu=n;break}Zu=t.return}}function _s(e){for(;null!==Zu;){var t=Zu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Ec(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ec(t,i,s)}}var a=t.return;try{as(t)}catch(s){Ec(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Ec(t,o,s)}}}catch(s){Ec(t,t.return,s)}if(t===e){Zu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Zu=u;break}Zu=t.return}}var Ss,Es=Math.ceil,Ts=x.ReactCurrentDispatcher,Is=x.ReactCurrentOwner,js=x.ReactCurrentBatchConfig,Os=0,Ns=null,As=null,Cs=0,Ps=0,Ds=Si(0),Ms=0,Rs=null,Ls=0,Fs=0,Bs=0,Us=null,Vs=null,zs=0,qs=1/0,Hs=null,Ws=!1,Gs=null,Ks=null,Qs=!1,Ys=null,$s=0,Xs=0,Js=null,Zs=-1,ec=0;function tc(){return 0!==(6&Os)?Xe():-1!==Zs?Zs:Zs=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Os)&&0!==Cs?Cs&-Cs:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Xs)throw Xs=0,Js=null,Error(a(185));yt(e,n,r),0!==(2&Os)&&e===Ns||(e===Ns&&(0===(2&Os)&&(Fs|=n),4===Ms&&sc(e,Cs)),ic(e,r),1===n&&0===Os&&0===(1&t.mode)&&(qs=Xe()+500,Bi&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=ht(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=dt(e,e===Ns?Cs:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Bi=!0,Vi(e)}(cc.bind(null,e)):Vi(cc.bind(null,e)),oi((function(){0===(6&Os)&&zi()})),n=null;else{switch(xt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zs=-1,ec=0,0!==(6&Os))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=dt(e,e===Ns?Cs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Os;Os|=2;var o=vc();for(Ns===e&&Cs===t||(Hs=null,qs=Xe()+500,hc(e,t));;)try{bc();break}catch(s){pc(e,s)}wa(),Ts.current=o,Os=i,null!==As?t=0:(Ns=null,Cs=0,t=Ms)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Rs,hc(e,0),sc(e,r),ic(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Rs,hc(e,0),sc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:kc(e,Vs,Hs);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=zs+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(kc.bind(null,e,Vs,Hs),t);break}kc(e,Vs,Hs);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Es(r/1960))-r)){e.timeoutHandle=ri(kc.bind(null,e,Vs,Hs),r);break}kc(e,Vs,Hs);break;default:throw Error(a(329))}}}return ic(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Vs,Vs=n,null!==t&&uc(t)),e}function uc(e){null===Vs?Vs=e:Vs.push.apply(Vs,e)}function sc(e,t){for(t&=~Bs,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Os))throw Error(a(327));_c();var t=dt(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Rs,hc(e,0),sc(e,t),ic(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kc(e,Vs,Hs),ic(e,Xe()),null}function lc(e,t){var n=Os;Os|=1;try{return e(t)}finally{0===(Os=n)&&(qs=Xe()+500,Bi&&zi())}}function fc(e){null!==Ys&&0===Ys.tag&&0===(6&Os)&&_c();var t=Os;Os|=1;var n=js.transition,r=bt;try{if(js.transition=null,bt=1,e)return e()}finally{bt=r,js.transition=n,0===(6&(Os=t))&&zi()}}function dc(){Ps=Ds.current,Ei(Ds)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),Ei(Oi),Ei(ji),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(uo);break;case 10:ka(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Ns=e,As=e=Dc(e.current,null),Cs=Ps=t,Ms=0,Rs=null,Bs=Fs=Ls=0,Vs=Us=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(r=(n=Ta[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ta=null}return e}function pc(e,t){for(;;){var n=As;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,bo=!1,xo=0,Is.current=null,null===n||null===n.return){Ms=1,Rs=t,As=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Cs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ms&&(Ms=2),null===Us?Us=[o]:Us.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ra(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ks||!Ks.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ra(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(x){t=x,As===n&&null!==n&&(As=n=n.return);continue}break}}function vc(){var e=Ts.current;return Ts.current=ou,null===e?ou:e}function mc(){0!==Ms&&3!==Ms&&2!==Ms||(Ms=4),null===Ns||0===(268435455&Ls)&&0===(268435455&Fs)||sc(Ns,Cs)}function yc(e,t){var n=Os;Os|=2;var r=vc();for(Ns===e&&Cs===t||(Hs=null,hc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),Os=n,Ts.current=r,null!==As)throw Error(a(261));return Ns=null,Cs=0,Ms}function gc(){for(;null!==As;)xc(As)}function bc(){for(;null!==As&&!Ye();)xc(As)}function xc(e){var t=Ss(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?wc(e):As=t,Is.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qu(n,t,Ps)))return void(As=n)}else{if(null!==(n=Yu(n,t)))return n.flags&=32767,void(As=n);if(null===e)return Ms=6,void(As=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(As=t);As=t=e}while(null!==t);0===Ms&&(Ms=5)}function kc(e,t,n){var r=bt,i=js.transition;try{js.transition=null,bt=1,function(e,t,n,r){do{_c()}while(null!==Ys);if(0!==(6&Os))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(As=Ns=null,Cs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qs||(Qs=!0,Nc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=js.transition,js.transition=null;var u=bt;bt=1;var s=Os;Os|=4,Is.current=null,function(e,t){if(ei=Ht,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(s=u+i),d!==o||0!==r&&3!==d.nodeType||(c=u+r),3===d.nodeType&&(u+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++l===i&&(s=u),h===o&&++f===r&&(c=u),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zu=t;null!==Zu;)if(e=(t=Zu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zu=e;else for(;null!==Zu;){t=Zu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zu=e;break}Zu=t.return}v=ns,ns=!1}(e,n),ys(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,bs(n,e,i),$e(),Os=s,bt=u,js.transition=o}else e.current=n;if(Qs&&(Qs=!1,Ys=e,$s=i),o=e.pendingLanes,0===o&&(Ks=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ws)throw Ws=!1,e=Gs,Gs=null,e;0!==(1&$s)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===Js?Xs++:(Xs=0,Js=e):Xs=0,zi()}(e,t,n,r)}finally{js.transition=i,bt=r}return null}function _c(){if(null!==Ys){var e=xt($s),t=js.transition,n=bt;try{if(js.transition=null,bt=16>e?16:e,null===Ys)var r=!1;else{if(e=Ys,Ys=null,$s=0,0!==(6&Os))throw Error(a(331));var i=Os;for(Os|=4,Zu=e.current;null!==Zu;){var o=Zu,u=o.child;if(0!==(16&Zu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Zu=l;null!==Zu;){var f=Zu;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var d=f.child;if(null!==d)d.return=f,Zu=d;else for(;null!==Zu;){var h=(f=Zu).sibling,p=f.return;if(os(f),f===l){Zu=null;break}if(null!==h){h.return=p,Zu=h;break}Zu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Zu=u;else e:for(;null!==Zu;){if(0!==(2048&(o=Zu).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zu=g;break e}Zu=o.return}}var b=e.current;for(Zu=b;null!==Zu;){var x=(u=Zu).child;if(0!==(2064&u.subtreeFlags)&&null!==x)x.return=u,Zu=x;else e:for(u=b;null!==Zu;){if(0!==(2048&(s=Zu).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(k){Ec(s,s.return,k)}if(s===u){Zu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Zu=w;break e}Zu=s.return}}if(Os=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(k){}r=!0}return r}finally{bt=n,js.transition=t}}return!1}function Sc(e,t,n){e=Da(e,t=pu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){t=Da(t,e=vu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Cs&n)===n&&(4===Ms||3===Ms&&(130023424&Cs)===Cs&&500>Xe()-zs?hc(e,0):Bs|=n),ic(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Oa(e,t))&&(yt(e,t,n),ic(e,n))}function jc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Oc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Nc(e,t){return Ke(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cc(e,t,n,r){return new Ac(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Cc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Rc(n.children,i,o,t);case S:u=8,i|=8;break;case E:return(e=Cc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case O:return(e=Cc(13,n,t,i)).elementType=O,e.lanes=o,e;case N:return(e=Cc(19,n,t,i)).elementType=N,e.lanes=o,e;case P:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case I:u=9;break e;case j:u=11;break e;case A:u=14;break e;case C:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Cc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Rc(e,t,n,r){return(e=Cc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Cc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Cc(6,e,null,t)).lanes=n,e}function Bc(e,t,n){return(t=Cc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,u,s){return e=new Uc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Cc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Aa(a),e}function zc(e){if(!e)return Ii;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ci(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ci(n))return Mi(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Vc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=Pa(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Hc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(rc(e,i,o,a),Ma(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Ss=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oi.current)xu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),ha();break;case 5:ao(t);break;case 1:Ci(t.type)&&Ri(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Ti(uo,1&uo.current),null!==(e=Wu(e,t,n))?e.sibling:null);Ti(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Wu(e,t,n)}(e,t,n);xu=0!==(131072&e.flags)}else xu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hu(e,t),e=t.pendingProps;var i=Ai(t,ji.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ci(r)?(o=!0,Ri(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Aa(t),i.updater=Va,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Ou(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===j)return 11;if(e===A)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Iu(null,t,r,e,n);break e;case 1:t=ju(null,t,r,e,n);break e;case 11:t=ku(null,t,r,e,n);break e;case 14:t=_u(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Iu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,ju(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ca(e,t),La(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Au(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Au(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Wu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Tu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ku(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ti(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Oi.current){t=Wu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Pa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),_a(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_u(e,t,r,i=ma(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Hu(e,t),t.tag=1,Ci(r)?(e=!0,Ri(t)):e=!1,Sa(t,n),qa(t,r,i),Wa(t,r,i,n),Ou(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Wc(o);u.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Wc(s);u.call(e)}}var s=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),fc((function(){Hc(t,s,n,r)})),s}(n,t,e,i,r);return Wc(o)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Hc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Xe()),0===(6&Os)&&(qs=Xe()+500,zi()))}break;case 13:fc((function(){var t=Oa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},kt=function(e){if(13===e.tag){var t=Oa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},_t=function(e){if(13===e.tag){var t=nc(e),n=Oa(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},St=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},je=lc,Oe=fc;var tl={usingClientEntryPoint:!1,Events:[bi,xi,wi,Te,Ie,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},3688:function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function a(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function o(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,o=null,u=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?o="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(o="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?u="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(u="UNSAFE_componentWillUpdate"),null!==n||null!==o||null!==u){var s=e.displayName||e.name,c="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+s+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+(null!==u?"\n  "+u:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=a;var l=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,e,t,r)}}return e}n.r(t),n.d(t,{polyfill:function(){return o}}),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0},8459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case d:case h:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},6900:function(e,t,n){"use strict";n(8459)},6664:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2007));var r=u(n(8354)),i=u(n(2910)),a=u(n(2791)),o=u(n(119));n(7890);function u(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var c=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,r.default)(e,t)}))},l=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,i.default)(e,t)}))},f=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onEnter=function(e,n){var r=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),c(e,r),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,r),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.getClassNames("appear").doneClassName,i=t.getClassNames("enter").doneClassName,a=n?r+" "+i:i;t.removeClasses(e,n?"appear":"enter"),c(e,a),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),c(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),c(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,i=r?(r&&n?n+"-":"")+e:n[e];return{className:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,i=n.activeClassName,a=n.doneClassName;r&&l(e,r),i&&l(e,i),a&&l(e,a)},i.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,c(e,t))},i.render=function(){var e=s({},this.props);return delete e.classNames,a.default.createElement(o.default,s({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(a.default.Component);f.defaultProps={classNames:""},f.propTypes={};var d=f;t.default=d,e.exports=t.default},8162:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;o(n(2007));var r=o(n(2791)),i=n(4164),a=o(n(2326));function o(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=o.prototype;return u.handleLifecycle=function(e,t,n){var a,o=this.props.children,u=r.default.Children.toArray(o)[t];u.props[e]&&(a=u.props)[e].apply(a,n),this.props[e]&&this.props[e]((0,i.findDOMNode)(this))},u.render=function(){var e=this.props,t=e.children,n=e.in,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["children","in"]),o=r.default.Children.toArray(t),u=o[0],s=o[1];return delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,r.default.createElement(a.default,i,n?r.default.cloneElement(u,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(s,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},o}(r.default.Component);u.propTypes={};var s=u;t.default=s,e.exports=t.default},119:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2007)),i=u(n(2791)),a=u(n(4164)),o=n(3688);n(7890);function u(e){return e&&e.__esModule?e:{default:e}}var s="unmounted";t.UNMOUNTED=s;var c="exited";t.EXITED=c;var l="entering";t.ENTERING=l;var f="entered";t.ENTERED=f;var d="exiting";t.EXITING=d;var h=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var i,a=n.transitionGroup,o=a&&!a.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=c,r.appearStatus=l):i=f:i=t.unmountOnExit||t.mountOnEnter?s:c,r.state={status:i},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getChildContext=function(){return{transitionGroup:null}},r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===s?{status:c}:null},o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==l&&n!==f&&(t=l):n!==l&&n!==f||(t=d)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},o.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=a.default.findDOMNode(this);t===l?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===c&&this.setState({status:s})},o.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,a=this.getTimeouts(),o=i?a.appear:a.enter;t||r?(this.props.onEnter(e,i),this.safeSetState({status:l},(function(){n.props.onEntering(e,i),n.onTransitionEnd(e,o,(function(){n.safeSetState({status:f},(function(){n.props.onEntered(e,i)}))}))}))):this.safeSetState({status:f},(function(){n.props.onEntered(e)}))},o.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:d},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:c},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:c},(function(){t.props.onExited(e)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===s)return null;var t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"===typeof n)return n(e,r);var a=i.default.Children.only(n);return i.default.cloneElement(a,r)},r}(i.default.Component);function p(){}h.contextTypes={transitionGroup:r.object},h.childContextTypes={transitionGroup:function(){}},h.propTypes={},h.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:p,onEntering:p,onEntered:p,onExit:p,onExiting:p,onExited:p},h.UNMOUNTED=0,h.EXITED=1,h.ENTERING=2,h.ENTERED=3,h.EXITING=4;var v=(0,o.polyfill)(h);t.default=v},2326:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(2007)),i=u(n(2791)),a=n(3688),o=n(8546);function u(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var l=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},f=function(e){var t,n;function r(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(c(c(r)));return r.state={handleExited:i,firstRender:!0},r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},a.componentDidMount=function(){this.appeared=!0,this.mounted=!0},a.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?(0,o.getInitialChildMapping)(e,r):(0,o.getNextChildMapping)(e,n,r),firstRender:!1}},a.handleExited=function(e,t){var n=(0,o.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=s({},t.children);return delete n[e.key],{children:n}})))},a.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["component","childFactory"]),a=l(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?a:i.default.createElement(t,r,a)},r}(i.default.Component);f.childContextTypes={transitionGroup:r.default.object.isRequired},f.propTypes={},f.defaultProps={component:"div",childFactory:function(e){return e}};var d=(0,a.polyfill)(f);t.default=d,e.exports=t.default},8267:function(e,t,n){"use strict";var r=u(n(6664)),i=u(n(8162)),a=u(n(2326)),o=u(n(119));function u(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:o.default,TransitionGroup:a.default,ReplaceTransition:i.default,CSSTransition:r.default}},8546:function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=i,t.mergeChildMappings=a,t.getInitialChildMapping=function(e,t){return i(e.children,(function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:o(n,"appear",e),enter:o(n,"enter",e),exit:o(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var u=i(e.children),s=a(t,u);return Object.keys(s).forEach((function(i){var a=s[i];if((0,r.isValidElement)(a)){var c=i in t,l=i in u,f=t[i],d=(0,r.isValidElement)(f)&&!f.props.in;!l||c&&!d?l||!c||d?l&&c&&(0,r.isValidElement)(f)&&(s[i]=(0,r.cloneElement)(a,{onExited:n.bind(null,a),in:f.props.in,exit:o(a,"exit",e),enter:o(a,"enter",e)})):s[i]=(0,r.cloneElement)(a,{in:!1}):s[i]=(0,r.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:o(a,"exit",e),enter:o(a,"enter",e)})}})),s};var r=n(2791);function i(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function a(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}function o(e,t,n){return null!=n[t]?n[t]:e.props[t]}},7890:function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var r;(r=n(2007))&&r.__esModule;t.timeoutsShape=null;t.classNamesShape=null},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var x=b.prototype=new g;x.constructor=b,v(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function j(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+j(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),O(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+j(u=e[c],c);s+=O(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=O(u=u.value,t,i,l=a+j(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return O(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var C={current:null},P={transition:null},D={ReactCurrentDispatcher:C,ReactCurrentBatchConfig:P,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)k.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return C.current.useCallback(e,t)},t.useContext=function(e){return C.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return C.current.useDeferredValue(e)},t.useEffect=function(e,t){return C.current.useEffect(e,t)},t.useId=function(){return C.current.useId()},t.useImperativeHandle=function(e,t,n){return C.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return C.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return C.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return C.current.useMemo(e,t)},t.useReducer=function(e,t,n){return C.current.useReducer(e,t,n)},t.useRef=function(e){return C.current.useRef(e)},t.useState=function(e){return C.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return C.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return C.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},9609:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case s:return e;default:return t}}case i:return t}}}function k(e){return w(e)===f}t.isFragment=function(e){return w(e)===a}},8493:function(e,t,n){"use strict";e.exports=n(9609)},2692:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(82)),i=n(7905),a=u(n(4849)),o=u(n(4170));function u(e){return e&&e.__esModule?e:{default:e}}var s=/((?:\-[a-z]+\-)?calc)/;t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return(0,r.default)(e).walk((function(e){if("function"===e.type&&s.test(e.value)){var n=r.default.stringify(e.nodes);if(!(n.indexOf("constant")>=0||n.indexOf("env")>=0)){var u=i.parser.parse(n),c=(0,a.default)(u,t);e.type="word",e.value=(0,o.default)(e.value,c,t)}}}),!0).toString()},e.exports=t.default},8334:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(4890),a=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t,n){switch(e.type){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":return function(e,t,n){t.type===e.type&&(t={type:e.type,value:(0,a.default)(t.value,t.unit,e.unit,n),unit:e.unit});return{left:e,right:t}}(e,t,n);default:return{left:e,right:t}}},e.exports=t.default},4849:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flip=c;var r,i=n(8334),a=(r=i)&&r.__esModule?r:{default:r};function o(e,t){return"MathExpression"===e.type?function(e,t){switch(e=function(e,t){var n=(0,a.default)(e.left,e.right,t),r=o(n.left,t),i=o(n.right,t);"MathExpression"===r.type&&"MathExpression"===i.type&&("/"===r.operator&&"*"===i.operator||"-"===r.operator&&"+"===i.operator||"*"===r.operator&&"/"===i.operator||"+"===r.operator&&"-"===i.operator)&&(u(r.right,i.right)?n=(0,a.default)(r.left,i.left,t):u(r.right,i.left)&&(n=(0,a.default)(r.left,i.right,t)),r=o(n.left,t),i=o(n.right,t));return e.left=r,e.right=i,e}(e,t),e.operator){case"+":case"-":return function(e,t){var n=e,r=n.left,i=n.right,a=n.operator;if("CssVariable"===r.type||"CssVariable"===i.type)return e;if(0===i.value)return r;if(0===r.value&&"+"===a)return i;if(0===r.value&&"-"===a)return l(i);r.type===i.type&&s(r.type)&&((e=Object.assign({},r)).value="+"===a?r.value+i.value:r.value-i.value);if(s(r.type)&&("+"===i.operator||"-"===i.operator)&&"MathExpression"===i.type){if(r.type===i.left.type)return(e=Object.assign({},e)).left=o({type:"MathExpression",operator:a,left:r,right:i.left},t),e.right=i.right,e.operator="-"===a?c(i.operator):i.operator,o(e,t);if(r.type===i.right.type)return(e=Object.assign({},e)).left=o({type:"MathExpression",operator:"-"===a?c(i.operator):i.operator,left:r,right:i.right},t),e.right=i.left,o(e,t)}if("MathExpression"===r.type&&("+"===r.operator||"-"===r.operator)&&s(i.type)){if(i.type===r.left.type)return(e=Object.assign({},r)).left=o({type:"MathExpression",operator:a,left:r.left,right:i},t),o(e,t);if(i.type===r.right.type)return e=Object.assign({},r),"-"===r.operator?(e.right=o({type:"MathExpression",operator:"-"===a?"+":"-",left:i,right:r.right},t),e.operator="-"===a?"-":"+"):e.right=o({type:"MathExpression",operator:a,left:r.right,right:i},t),e.right.value<0&&(e.right.value*=-1,e.operator="-"===e.operator?"+":"-"),o(e,t)}return e}(e,t);case"/":return function(e,t){if(!s(e.right.type))return e;if("Value"!==e.right.type)throw new Error('Cannot divide by "'+e.right.unit+'", number expected');if(0===e.right.value)throw new Error("Cannot divide by zero");if("MathExpression"===e.left.type)return s(e.left.left.type)&&s(e.left.right.type)?(e.left.left.value/=e.right.value,e.left.right.value/=e.right.value,o(e.left,t)):e;if(s(e.left.type))return e.left.value/=e.right.value,e.left;return e}(e,t);case"*":return function(e){if("MathExpression"===e.left.type&&"Value"===e.right.type){if(s(e.left.left.type)&&s(e.left.right.type))return e.left.left.value*=e.right.value,e.left.right.value*=e.right.value,e.left}else{if(s(e.left.type)&&"Value"===e.right.type)return e.left.value*=e.right.value,e.left;if("Value"===e.left.type&&"MathExpression"===e.right.type){if(s(e.right.left.type)&&s(e.right.right.type))return e.right.left.value*=e.left.value,e.right.right.value*=e.left.value,e.right}else if("Value"===e.left.type&&s(e.right.type))return e.right.value*=e.left.value,e.right}return e}(e)}return e}(e,t):"Calc"===e.type?o(e.value,t):e}function u(e,t){return e.type===t.type&&e.value===t.value}function s(e){switch(e){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":case"EmValue":case"ExValue":case"ChValue":case"RemValue":case"VhValue":case"VwValue":case"VminValue":case"VmaxValue":case"PercentageValue":case"Value":return!0}return!1}function c(e){return"+"===e?"-":"+"}function l(e){return s(e.type)?e.value=-e.value:"MathExpression"==e.type&&(e.left=l(e.left),e.right=l(e.right)),e}t.default=o},4170:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=o(t,n);return"MathExpression"===t.type&&(r=e+"("+r+")"),r};var r=n(4849),i={"*":0,"/":0,"+":1,"-":1};function a(e,t){if(!1!==t){var n=Math.pow(10,t);return Math.round(e*n)/n}return e}function o(e,t){switch(e.type){case"MathExpression":var n=e.left,u=e.right,s=e.operator,c="";return"MathExpression"===n.type&&i[s]<i[n.operator]?c+="("+o(n,t)+")":c+=o(n,t),c+=" "+e.operator+" ","MathExpression"===u.type&&i[s]<i[u.operator]?c+="("+o(u,t)+")":"MathExpression"===u.type&&"-"===s&&["+","-"].includes(u.operator)?(u.operator=(0,r.flip)(u.operator),c+=o(u,t)):c+=o(u,t),c;case"Value":return a(e.value,t);case"CssVariable":return e.fallback?"var("+e.value+", "+o(e.fallback,t)+")":"var("+e.value+")";case"Calc":return e.prefix?"-"+e.prefix+"-calc("+o(e.value,t)+")":"calc("+o(e.value,t)+")";default:return a(e.value,t)+e.unit}}e.exports=t.default},7905:function(e,t){var n=function(){function e(e,t){var n;if(Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonParserError"}),null==e&&(e="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:e}),this.hash=t,t&&t.exception instanceof Error){var r=t.exception;this.message=r.message||e,n=r.stack}n||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):n=new Error(e).stack),n&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:n})}function t(e,t,n){n=n||0;for(var r=0;r<t;r++)this.push(e),e+=n}function n(e,t){for(t+=e=this.length-e;e<t;e++)this.push(this[e])}function r(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];"function"===typeof i?(n++,i.apply(t,e[n])):t.push(i)}return t}"function"===typeof Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,Error.prototype):e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e.prototype.name="JisonParserError";var i={trace:function(){},JisonParserError:e,yy:{},options:{type:"lalr",hasPartialLrUpgradeOnConflict:!0,errorRecoveryTokenDiscardCount:3},symbols_:{$accept:0,$end:1,ADD:3,ANGLE:16,CHS:22,COMMA:14,CSS_CPROP:13,CSS_VAR:12,DIV:6,EMS:20,EOF:1,EXS:21,FREQ:18,LENGTH:15,LPAREN:7,MUL:5,NESTED_CALC:9,NUMBER:11,PERCENTAGE:28,PREFIX:10,REMS:23,RES:19,RPAREN:8,SUB:4,TIME:17,VHS:24,VMAXS:27,VMINS:26,VWS:25,css_value:33,css_variable:32,error:2,expression:29,math_expression:30,value:31},terminals_:{1:"EOF",2:"error",3:"ADD",4:"SUB",5:"MUL",6:"DIV",7:"LPAREN",8:"RPAREN",9:"NESTED_CALC",10:"PREFIX",11:"NUMBER",12:"CSS_VAR",13:"CSS_CPROP",14:"COMMA",15:"LENGTH",16:"ANGLE",17:"TIME",18:"FREQ",19:"RES",20:"EMS",21:"EXS",22:"CHS",23:"REMS",24:"VHS",25:"VWS",26:"VMINS",27:"VMAXS",28:"PERCENTAGE"},TERROR:2,EOF:1,originalQuoteName:null,originalParseError:null,cleanupAfterParse:null,constructParseErrorInfo:null,yyMergeLocationInfo:null,__reentrant_call_depth:0,__error_infos:[],__error_recovery_infos:[],quoteName:function(e){return'"'+e+'"'},getSymbolName:function(e){if(this.terminals_[e])return this.terminals_[e];var t=this.symbols_;for(var n in t)if(t[n]===e)return n;return null},describeSymbol:function(e){if(e!==this.EOF&&this.terminal_descriptions_&&this.terminal_descriptions_[e])return this.terminal_descriptions_[e];if(e===this.EOF)return"end of input";var t=this.getSymbolName(e);return t?this.quoteName(t):null},collect_expected_token_set:function(e,t){var n=this.TERROR,r=[],i={};if(!t&&this.state_descriptions_&&this.state_descriptions_[e])return[this.state_descriptions_[e]];for(var a in this.table[e])if((a=+a)!==n){var o=t?a:this.describeSymbol(a);o&&!i[o]&&(r.push(o),i[o]=!0)}return r},productions_:function(e){for(var t=[],n=e.pop,r=e.rule,i=0,a=n.length;i<a;i++)t.push([n[i],r[i]]);return t}({pop:r([29,t,[30,10],31,31,32,32,t,[33,15]]),rule:r([2,t,[3,5],4,7,t,[1,4],2,4,6,t,[1,14],2])}),performAction:function(e,t,n){var r=this.yy;r.parser,r.lexer;switch(e){case 0:case 6:this.$=n[t-1];break;case 1:return this.$=n[t-1],n[t-1];case 2:case 3:case 4:case 5:this.$={type:"MathExpression",operator:n[t-1],left:n[t-2],right:n[t]};break;case 7:this.$={type:"Calc",value:n[t-1]};break;case 8:this.$={type:"Calc",value:n[t-1],prefix:n[t-5]};break;case 9:case 10:case 11:this.$=n[t];break;case 12:this.$={type:"Value",value:parseFloat(n[t])};break;case 13:this.$={type:"Value",value:-1*parseFloat(n[t])};break;case 14:this.$={type:"CssVariable",value:n[t-1]};break;case 15:this.$={type:"CssVariable",value:n[t-3],fallback:n[t-1]};break;case 16:this.$={type:"LengthValue",value:parseFloat(n[t]),unit:/[a-z]+/.exec(n[t])[0]};break;case 17:this.$={type:"AngleValue",value:parseFloat(n[t]),unit:/[a-z]+/.exec(n[t])[0]};break;case 18:this.$={type:"TimeValue",value:parseFloat(n[t]),unit:/[a-z]+/.exec(n[t])[0]};break;case 19:this.$={type:"FrequencyValue",value:parseFloat(n[t]),unit:/[a-z]+/.exec(n[t])[0]};break;case 20:this.$={type:"ResolutionValue",value:parseFloat(n[t]),unit:/[a-z]+/.exec(n[t])[0]};break;case 21:this.$={type:"EmValue",value:parseFloat(n[t]),unit:"em"};break;case 22:this.$={type:"ExValue",value:parseFloat(n[t]),unit:"ex"};break;case 23:this.$={type:"ChValue",value:parseFloat(n[t]),unit:"ch"};break;case 24:this.$={type:"RemValue",value:parseFloat(n[t]),unit:"rem"};break;case 25:this.$={type:"VhValue",value:parseFloat(n[t]),unit:"vh"};break;case 26:this.$={type:"VwValue",value:parseFloat(n[t]),unit:"vw"};break;case 27:this.$={type:"VminValue",value:parseFloat(n[t]),unit:"vmin"};break;case 28:this.$={type:"VmaxValue",value:parseFloat(n[t]),unit:"vmax"};break;case 29:this.$={type:"PercentageValue",value:parseFloat(n[t]),unit:"%"};break;case 30:var i=n[t];i.value*=-1,this.$=i}},table:function(e){for(var t=[],n=e.len,r=e.symbol,i=e.type,a=e.state,o=e.mode,u=e.goto,s=0,c=n.length;s<c;s++){for(var l=n[s],f={},d=0;d<l;d++){var h=r.shift();switch(i.shift()){case 2:f[h]=[o.shift(),u.shift()];break;case 0:f[h]=a.shift();break;default:f[h]=[3]}}t.push(f)}return t}({len:r([24,1,5,23,1,18,t,[0,3],1,t,[0,16],t,[23,4],n,[28,3],0,0,16,1,6,6,t,[0,3],5,1,2,n,[37,3],n,[20,3],5,0,0]),symbol:r([4,7,9,11,12,t,[15,19,1],1,1,t,[3,4,1],n,[30,19],n,[29,4],7,4,10,11,n,[22,14],n,[19,3],n,[43,22],n,[23,69],n,[139,4],8,n,[51,24],4,n,[138,15],13,n,[186,5],8,n,[6,6],n,[5,5],9,8,14,n,[159,47],n,[60,10]]),type:r([t,[2,19],t,[0,5],1,t,[2,24],t,[0,4],n,[22,19],n,[43,42],n,[23,70],n,[28,25],n,[45,25],n,[113,54]]),state:r([1,2,8,6,7,30,n,[4,3],33,37,n,[5,3],38,n,[4,3],39,n,[4,3],40,n,[4,3],42,n,[21,4],50,n,[5,3],51,n,[4,3]]),mode:r([t,[1,179],t,[2,3],n,[5,5],n,[6,4],t,[1,57]]),goto:r([5,3,4,24,t,[9,15,1],t,[25,5,1],n,[24,19],31,35,32,34,n,[18,14],36,n,[38,19],n,[19,57],n,[118,4],41,n,[24,19],43,35,n,[16,14],44,t,[2,3],28,29,2,t,[3,3],28,29,3,n,[53,4],t,[45,5,1],n,[100,42],52,n,[5,4],53])}),defaultActions:function(e){for(var t={},n=e.idx,r=e.goto,i=0,a=n.length;i<a;i++){t[n[i]]=r[i]}return t}({idx:r([6,7,8,t,[10,16,1],33,34,39,40,41,45,47,52,53]),goto:r([9,10,11,t,[16,14,1],12,1,30,13,t,[4,4,1],14,15,8])}),parseError:function(e,t,n){if(!t.recoverable)throw"function"===typeof this.trace&&this.trace(e),n||(n=this.JisonParserError),new n(e,t);"function"===typeof this.trace&&this.trace(e),t.destroy()},parse:function(e){var t,n=this,r=new Array(128),i=new Array(128),a=new Array(128),o=this.table,u=0,s=0,c=(this.TERROR,this.EOF),l=(this.options.errorRecoveryTokenDiscardCount,[0,54]);t=this.__lexer__?this.__lexer__:this.__lexer__=Object.create(this.lexer);var f={parseError:void 0,quoteName:void 0,lexer:void 0,parser:void 0,pre_parse:void 0,post_parse:void 0,pre_lex:void 0,post_lex:void 0};function d(){var e=t.fastLex();return"number"!==typeof e&&(e=n.symbols_[e]||e),e||c}"function"!==typeof assert||assert,this.yyGetSharedState=function(){return f},function(e,t){for(var n in t)"undefined"===typeof e[n]&&Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}(f,this.yy),f.lexer=t,f.parser=this,"function"===typeof f.parseError?this.parseError=function(e,t,n){return n||(n=this.JisonParserError),f.parseError.call(this,e,t,n)}:this.parseError=this.originalParseError,"function"===typeof f.quoteName?this.quoteName=function(e){return f.quoteName.call(this,e)}:this.quoteName=this.originalQuoteName,this.cleanupAfterParse=function(e,n,o){var s,c;n&&((f.post_parse||this.post_parse)&&(c=this.constructParseErrorInfo(null,null,null,!1)),f.post_parse&&"undefined"!==typeof(s=f.post_parse.call(this,f,e,c))&&(e=s),this.post_parse&&"undefined"!==typeof(s=this.post_parse.call(this,f,e,c))&&(e=s),c&&c.destroy&&c.destroy());if(this.__reentrant_call_depth>1)return e;if(t.cleanupAfterLex&&t.cleanupAfterLex(o),f&&(f.lexer=void 0,f.parser=void 0,t.yy===f&&(t.yy=void 0)),f=void 0,this.parseError=this.originalParseError,this.quoteName=this.originalQuoteName,r.length=0,i.length=0,a.length=0,u=0,!o){for(var l=this.__error_infos.length-1;l>=0;l--){var d=this.__error_infos[l];d&&"function"===typeof d.destroy&&d.destroy()}this.__error_infos.length=0}return e},this.constructParseErrorInfo=function(e,n,o,c){var l={errStr:e,exception:n,text:t.match,value:t.yytext,token:this.describeSymbol(s)||s,token_id:s,line:t.yylineno,expected:o,recoverable:c,state:h,action:p,new_state:x,symbol_stack:r,state_stack:i,value_stack:a,stack_pointer:u,yy:f,lexer:t,parser:this,destroy:function(){var e=!!this.recoverable;for(var t in this)this.hasOwnProperty(t)&&"object"===typeof t&&(this[t]=void 0);this.recoverable=e}};return this.__error_infos.push(l),l};var h,p,v,m,y,g,b,x,w=function(){var e=t.lex();return"number"!==typeof e&&(e=n.symbols_[e]||e),e||c},k={$:!0,_$:void 0,yy:f},_=!1;try{if(this.__reentrant_call_depth++,t.setInput(e,f),"function"===typeof t.canIUse)t.canIUse().fastLex&&(w=d);for(a[u]=null,i[u]=0,r[u]=0,++u,this.pre_parse&&this.pre_parse.call(this,f),f.pre_parse&&f.pre_parse.call(this,f),x=i[u-1];;){if(h=x,this.defaultActions[h])p=2,x=this.defaultActions[h];else if(s||(s=w()),m=o[h]&&o[h][s]||l,x=m[1],!(p=m[0])){var S,E=this.describeSymbol(s)||s,T=this.collect_expected_token_set(h);S="number"===typeof t.yylineno?"Parse error on line "+(t.yylineno+1)+": ":"Parse error: ","function"===typeof t.showPosition&&(S+="\n"+t.showPosition(69,10)+"\n"),T.length?S+="Expecting "+T.join(", ")+", got unexpected "+E:S+="Unexpected "+E,y=this.constructParseErrorInfo(S,null,T,!1),"undefined"!==typeof(v=this.parseError(y.errStr,y,this.JisonParserError))&&(_=v);break}switch(p){default:if(p instanceof Array){y=this.constructParseErrorInfo("Parse Error: multiple actions possible at state: "+h+", token: "+s,null,null,!1),"undefined"!==typeof(v=this.parseError(y.errStr,y,this.JisonParserError))&&(_=v);break}y=this.constructParseErrorInfo("Parsing halted. No viable error recovery approach available due to internal system failure.",null,null,!1),"undefined"!==typeof(v=this.parseError(y.errStr,y,this.JisonParserError))&&(_=v);break;case 1:r[u]=s,a[u]=t.yytext,i[u]=x,++u,s=0;continue;case 2:if(g=(b=this.productions_[x-1])[1],"undefined"!==typeof(v=this.performAction.call(k,x,u-1,a))){_=v;break}u-=g;var I=b[0];r[u]=I,a[u]=k.$,x=o[i[u-1]][I],i[u]=x,++u;continue;case 3:-2!==u&&(_=!0,u--,"undefined"!==typeof a[u]&&(_=a[u]))}break}}catch(j){if(j instanceof this.JisonParserError)throw j;if(t&&"function"===typeof t.JisonLexerError&&j instanceof t.JisonLexerError)throw j;y=this.constructParseErrorInfo("Parsing aborted due to exception.",j,null,!1),_=!1,"undefined"!==typeof(v=this.parseError(y.errStr,y,this.JisonParserError))&&(_=v)}finally{_=this.cleanupAfterParse(_,!0,!0),this.__reentrant_call_depth--}return _}};i.originalParseError=i.parseError,i.originalQuoteName=i.quoteName;var a=function(){function e(e,t){var n;if(Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonLexerError"}),null==e&&(e="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:e}),this.hash=t,t&&t.exception instanceof Error){var r=t.exception;this.message=r.message||e,n=r.stack}n||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):n=new Error(e).stack),n&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:n})}"function"===typeof Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,Error.prototype):e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e.prototype.name="JisonLexerError";var t={EOF:1,ERROR:2,__currentRuleSet__:null,__error_infos:[],__decompressed:!1,done:!1,_backtrack:!1,_input:"",_more:!1,_signaled_error_token:!1,conditionStack:[],match:"",matched:"",matches:!1,yytext:"",offset:0,yyleng:0,yylineno:0,yylloc:null,constructLexErrorInfo:function(e,t,n){if(e=""+e,void 0==n&&(n=!(e.indexOf("\n")>0&&e.indexOf("^")>0)),this.yylloc&&n)if("function"===typeof this.prettyPrintRange){this.prettyPrintRange(this.yylloc);/\n\s*$/.test(e)||(e+="\n"),e+="\n  Erroneous area:\n"+this.prettyPrintRange(this.yylloc)}else if("function"===typeof this.showPosition){var r=this.showPosition();r&&(e.length&&"\n"!==e[e.length-1]&&"\n"!==r[0]?e+="\n"+r:e+=r)}var i={errStr:e,recoverable:!!t,text:this.match,token:null,line:this.yylineno,loc:this.yylloc,yy:this.yy,lexer:this,destroy:function(){var e=!!this.recoverable;for(var t in this)this.hasOwnProperty(t)&&"object"===typeof t&&(this[t]=void 0);this.recoverable=e}};return this.__error_infos.push(i),i},parseError:function(e,t,n){if(n||(n=this.JisonLexerError),this.yy){if(this.yy.parser&&"function"===typeof this.yy.parser.parseError)return this.yy.parser.parseError.call(this,e,t,n)||this.ERROR;if("function"===typeof this.yy.parseError)return this.yy.parseError.call(this,e,t,n)||this.ERROR}throw new n(e,t)},yyerror:function(e){var t="";this.yylloc&&(t=" on line "+(this.yylineno+1));var n=this.constructLexErrorInfo("Lexical error"+t+": "+e,this.options.lexerErrorsAreRecoverable),r=Array.prototype.slice.call(arguments,1);return r.length&&(n.extra_error_attributes=r),this.parseError(n.errStr,n,this.JisonLexerError)||this.ERROR},cleanupAfterLex:function(e){if(this.setInput("",{}),!e){for(var t=this.__error_infos.length-1;t>=0;t--){var n=this.__error_infos[t];n&&"function"===typeof n.destroy&&n.destroy()}this.__error_infos.length=0}return this},clear:function(){this.yytext="",this.yyleng=0,this.match="",this.matches=!1,this._more=!1,this._backtrack=!1;var e=this.yylloc?this.yylloc.last_column:0;this.yylloc={first_line:this.yylineno+1,first_column:e,last_line:this.yylineno+1,last_column:e,range:[this.offset,this.offset]}},setInput:function(e,t){if(this.yy=t||this.yy||{},!this.__decompressed){for(var n=this.rules,r=0,i=n.length;r<i;r++){"number"===typeof(d=n[r])&&(n[r]=n[d])}var a=this.conditions;for(var o in a){var u=a[o],s=u.rules,c=(i=s.length,new Array(i+1)),l=new Array(i+1);for(r=0;r<i;r++){var f=s[r],d=n[f];c[r+1]=d,l[r+1]=f}u.rules=l,u.__rule_regexes=c,u.__rule_count=i}this.__decompressed=!0}return this._input=e||"",this.clear(),this._signaled_error_token=!1,this.done=!1,this.yylineno=0,this.matched="",this.conditionStack=["INITIAL"],this.__currentRuleSet__=null,this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]},this.offset=0,this},editRemainingInput:function(e,t){var n=e.call(this,this._input,t);return"string"!==typeof n?n&&(this._input=""+n):this._input=n,this},input:function(){if(!this._input)return null;var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=1,n=!1;if("\n"===e)n=!0;else if("\r"===e){n=!0;var r=this._input[1];"\n"===r&&(t++,e+=r,this.yytext+=r,this.yyleng++,this.offset++,this.match+=r,this.matched+=r,this.yylloc.range[1]++)}return n?(this.yylineno++,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++,this.yylloc.range[1]++,this._input=this._input.slice(t),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);if(this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.yyleng=this.yytext.length,this.offset-=t,this.match=this.match.substr(0,this.match.length-t),this.matched=this.matched.substr(0,this.matched.length-t),n.length>1){this.yylineno-=n.length-1,this.yylloc.last_line=this.yylineno+1;var r=this.match,i=r.split(/(?:\r\n?|\n)/g);1===i.length&&(i=(r=this.matched).split(/(?:\r\n?|\n)/g)),this.yylloc.last_column=i[i.length-1].length}else this.yylloc.last_column-=t;return this.yylloc.range[1]=this.yylloc.range[0]+this.yyleng,this.done=!1,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else{var e="";this.yylloc&&(e=" on line "+(this.yylineno+1));var t=this.constructLexErrorInfo("Lexical error"+e+": You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).",!1);this._signaled_error_token=this.parseError(t.errStr,t,this.JisonLexerError)||this.ERROR}return this},less:function(e){return this.unput(this.match.slice(e))},pastInput:function(e,t){var n=this.matched.substring(0,this.matched.length-this.match.length);e<0?e=n.length:e||(e=20),t<0?t=n.length:t||(t=1);var r=(n=n.substr(2*-e-2)).replace(/\r\n|\r/g,"\n").split("\n");return(n=(r=r.slice(-t)).join("\n")).length>e&&(n="..."+n.substr(-e)),n},upcomingInput:function(e,t){var n=this.match;e<0?e=n.length+this._input.length:e||(e=20),t<0?t=e:t||(t=1),n.length<2*e+2&&(n+=this._input.substring(0,2*e+2));var r=n.replace(/\r\n|\r/g,"\n").split("\n");return(n=(r=r.slice(0,t)).join("\n")).length>e&&(n=n.substring(0,e)+"..."),n},showPosition:function(e,t){var n=this.pastInput(e).replace(/\s/g," "),r=new Array(n.length+1).join("-");return n+this.upcomingInput(t).replace(/\s/g," ")+"\n"+r+"^"},deriveLocationInfo:function(e,t,n,r){var i={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]};return e&&(i.first_line=0|e.first_line,i.last_line=0|e.last_line,i.first_column=0|e.first_column,i.last_column=0|e.last_column,e.range&&(i.range[0]=0|e.range[0],i.range[1]=0|e.range[1])),(i.first_line<=0||i.last_line<i.first_line)&&(i.first_line<=0&&t&&(i.first_line=0|t.last_line,i.first_column=0|t.last_column,t.range&&(i.range[0]=0|e.range[1])),(i.last_line<=0||i.last_line<i.first_line)&&n&&(i.last_line=0|n.first_line,i.last_column=0|n.first_column,n.range&&(i.range[1]=0|e.range[0])),i.first_line<=0&&r&&(i.last_line<=0||r.last_line<=i.last_line)&&(i.first_line=0|r.first_line,i.first_column=0|r.first_column,r.range&&(i.range[0]=0|r.range[0])),i.last_line<=0&&r&&(i.first_line<=0||r.first_line>=i.first_line)&&(i.last_line=0|r.last_line,i.last_column=0|r.last_column,r.range&&(i.range[1]=0|r.range[1]))),i.last_line<=0&&(i.first_line<=0?(i.first_line=this.yylloc.first_line,i.last_line=this.yylloc.last_line,i.first_column=this.yylloc.first_column,i.last_column=this.yylloc.last_column,i.range[0]=this.yylloc.range[0],i.range[1]=this.yylloc.range[1]):(i.last_line=this.yylloc.last_line,i.last_column=this.yylloc.last_column,i.range[1]=this.yylloc.range[1])),i.first_line<=0&&(i.first_line=i.last_line,i.first_column=0,i.range[1]=i.range[0]),i.first_column<0&&(i.first_column=0),i.last_column<0&&(i.last_column=i.first_column>0?i.first_column:80),i},prettyPrintRange:function(e,t,n){e=this.deriveLocationInfo(e,t,n);var r=(this.matched+this._input).split("\n"),i=Math.max(1,t?t.first_line:e.first_line-3),a=Math.max(1,n?n.last_line:e.last_line+1),o=1+Math.log10(1|a)|0,u=new Array(o).join(" "),s=[],c=r.slice(i-1,a+1).map((function(t,n){var r=n+i,a=(u+r).substr(-o)+": "+t,c=new Array(o+1).join("^"),l=3,f=0;(r===e.first_line?(l+=e.first_column,f=Math.max(2,(r===e.last_line?e.last_column:t.length)-e.first_column+1)):r===e.last_line?f=Math.max(2,e.last_column+1):r>e.first_line&&r<e.last_line&&(f=Math.max(2,t.length+1)),f)&&(a+="\n"+c+new Array(l).join(".")+new Array(f).join("^"),t.trim().length>0&&s.push(n));return a=a.replace(/\t/g," ")}));if(s.length>4){var l=s[1]+1,f=s[s.length-2]-1,d=new Array(o+1).join(" ")+"  (...continued...)";d+="\n"+new Array(o+1).join("-")+"  (---------------)",c.splice(l,f-l+1,d)}return c.join("\n")},describeYYLLOC:function(e,t){var n,r=e.first_line,i=e.last_line,a=e.first_column,o=e.last_column;if(0===i-r?(n="line "+r+", ",n+=o-a<=1?"column "+a:"columns "+a+" .. "+o):n="lines "+r+"(column "+a+") .. "+i+"(column "+o+")",e.range&&t){var u=e.range[0],s=e.range[1]-1;n+=s<=u?" {String Offset: "+u+"}":" {String Offset range: "+u+" .. "+s+"}"}return n},test_match:function(e,t){var n,r,i,a,o;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.yylloc.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column,range:this.yylloc.range.slice(0)},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done}),o=(a=e[0]).length,(r=a.split(/(?:\r\n?|\n)/g)).length>1?(this.yylineno+=r.length-1,this.yylloc.last_line=this.yylineno+1,this.yylloc.last_column=r[r.length-1].length):this.yylloc.last_column+=o,this.yytext+=a,this.match+=a,this.matched+=a,this.matches=e,this.yyleng=this.yytext.length,this.yylloc.range[1]+=o,this.offset+=o,this._more=!1,this._backtrack=!1,this._input=this._input.slice(o),n=this.performAction.call(this,this.yy,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var u in i)this[u]=i[u];return this.__currentRuleSet__=null,!1}return!!this._signaled_error_token&&(n=this._signaled_error_token,this._signaled_error_token=!1,n)},next:function(){if(this.done)return this.clear(),this.EOF;var e,t,n,r;this._input||(this.done=!0),this._more||this.clear();var i=this.__currentRuleSet__;if(!i&&(!(i=this.__currentRuleSet__=this._currentRules())||!i.rules)){var a="";this.options.trackPosition&&(a=" on line "+(this.yylineno+1));var o=this.constructLexErrorInfo("Internal lexer engine error"+a+': The lex grammar programmer pushed a non-existing condition name "'+this.topState()+'"; this is a fatal error and should be reported to the application programmer team!',!1);return this.parseError(o.errStr,o,this.JisonLexerError)||this.ERROR}for(var u=i.rules,s=i.__rule_regexes,c=i.__rule_count,l=1;l<=c;l++)if((n=this._input.match(s[l]))&&(!t||n[0].length>t[0].length)){if(t=n,r=l,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,u[l])))return e;if(this._backtrack){t=void 0;continue}return!1}if(!this.options.flex)break}if(t)return!1!==(e=this.test_match(t,u[r]))&&e;if(this._input){a="";this.options.trackPosition&&(a=" on line "+(this.yylineno+1));o=this.constructLexErrorInfo("Lexical error"+a+": Unrecognized text.",this.options.lexerErrorsAreRecoverable);var f=this._input,d=this.topState(),h=this.conditionStack.length;return(e=this.parseError(o.errStr,o,this.JisonLexerError)||this.ERROR)===this.ERROR&&(this.matches||f!==this._input||d!==this.topState()||h!==this.conditionStack.length||this.input()),e}return this.done=!0,this.clear(),this.EOF},lex:function(){var e;for("function"===typeof this.pre_lex&&(e=this.pre_lex.call(this,0)),"function"===typeof this.options.pre_lex&&(e=this.options.pre_lex.call(this,e)||e),this.yy&&"function"===typeof this.yy.pre_lex&&(e=this.yy.pre_lex.call(this,e)||e);!e;)e=this.next();return this.yy&&"function"===typeof this.yy.post_lex&&(e=this.yy.post_lex.call(this,e)||e),"function"===typeof this.options.post_lex&&(e=this.options.post_lex.call(this,e)||e),"function"===typeof this.post_lex&&(e=this.post_lex.call(this,e)||e),e},fastLex:function(){for(var e;!e;)e=this.next();return e},canIUse:function(){return{fastLex:!("function"===typeof this.pre_lex||"function"===typeof this.options.pre_lex||this.yy&&"function"===typeof this.yy.pre_lex||this.yy&&"function"===typeof this.yy.post_lex||"function"===typeof this.options.post_lex||"function"===typeof this.post_lex)&&"function"===typeof this.fastLex}},begin:function(e){return this.pushState(e)},pushState:function(e){return this.conditionStack.push(e),this.__currentRuleSet__=null,this},popState:function(){return this.conditionStack.length-1>0?(this.__currentRuleSet__=null,this.conditionStack.pop()):this.conditionStack[0]},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]]:this.conditions.INITIAL},stateStackSize:function(){return this.conditionStack.length},options:{trackPosition:!0},JisonLexerError:e,performAction:function(e,t,n){if(1!==t)return this.simpleCaseActionClusters[t]},simpleCaseActionClusters:{0:13,2:5,3:6,4:3,5:4,6:15,7:15,8:15,9:15,10:15,11:15,12:16,13:16,14:16,15:16,16:17,17:17,18:18,19:18,20:19,21:19,22:19,23:20,24:21,25:22,26:23,27:25,28:24,29:26,30:27,31:28,32:11,33:9,34:12,35:10,36:7,37:8,38:14,39:1},rules:[/^(?:(--[\d\-A-Za-z]*))/,/^(?:\s+)/,/^(?:\*)/,/^(?:\/)/,/^(?:\+)/,/^(?:-)/,/^(?:(\d+(\.\d*)?|\.\d+)px\b)/,/^(?:(\d+(\.\d*)?|\.\d+)cm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)mm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)in\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pt\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pc\b)/,/^(?:(\d+(\.\d*)?|\.\d+)deg\b)/,/^(?:(\d+(\.\d*)?|\.\d+)grad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)turn\b)/,/^(?:(\d+(\.\d*)?|\.\d+)s\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ms\b)/,/^(?:(\d+(\.\d*)?|\.\d+)Hz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)kHz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpi\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpcm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dppx\b)/,/^(?:(\d+(\.\d*)?|\.\d+)em\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ex\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ch\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rem\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vw\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vh\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmin\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmax\b)/,/^(?:(\d+(\.\d*)?|\.\d+)%)/,/^(?:(\d+(\.\d*)?|\.\d+)\b)/,/^(?:(calc))/,/^(?:(var))/,/^(?:([a-z]+))/,/^(?:\()/,/^(?:\))/,/^(?:,)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39],inclusive:!0}}};return t}();function o(){this.yy={}}return i.lexer=a,o.prototype=i,i.Parser=o,new o}();t.parser=n,t.Parser=n.Parser,t.parse=function(){return n.parse.apply(n,arguments)}},82:function(e,t,n){var r=n(3257),i=n(2993),a=n(9581);function o(e){return this instanceof o?(this.nodes=r(e),this):new o(e)}o.prototype.toString=function(){return Array.isArray(this.nodes)?a(this.nodes):""},o.prototype.walk=function(e,t){return i(this.nodes,e,t),this},o.unit=n(4119),o.walk=i,o.stringify=a,e.exports=o},3257:function(e){var t="(".charCodeAt(0),n=")".charCodeAt(0),r="'".charCodeAt(0),i='"'.charCodeAt(0),a="\\".charCodeAt(0),o="/".charCodeAt(0),u=",".charCodeAt(0),s=":".charCodeAt(0),c="*".charCodeAt(0);e.exports=function(e){for(var l,f,d,h,p,v,m,y,g=[],b=e,x=0,w=b.charCodeAt(x),k=b.length,_=[{nodes:g}],S=0,E="",T="",I="";x<k;)if(w<=32){l=x;do{l+=1,w=b.charCodeAt(l)}while(w<=32);h=b.slice(x,l),d=g[g.length-1],w===n&&S?I=h:d&&"div"===d.type?d.after=h:w===u||w===s||w===o&&b.charCodeAt(l+1)!==c?T=h:g.push({type:"space",sourceIndex:x,value:h}),x=l}else if(w===r||w===i){l=x,h={type:"string",sourceIndex:x,quote:f=w===r?"'":'"'};do{if(p=!1,~(l=b.indexOf(f,l+1)))for(v=l;b.charCodeAt(v-1)===a;)v-=1,p=!p;else l=(b+=f).length-1,h.unclosed=!0}while(p);h.value=b.slice(x+1,l),g.push(h),x=l+1,w=b.charCodeAt(x)}else if(w===o&&b.charCodeAt(x+1)===c)h={type:"comment",sourceIndex:x},-1===(l=b.indexOf("*/",x))&&(h.unclosed=!0,l=b.length),h.value=b.slice(x+2,l),g.push(h),x=l+2,w=b.charCodeAt(x);else if(w===o||w===u||w===s)h=b[x],g.push({type:"div",sourceIndex:x-T.length,value:h,before:T,after:""}),T="",x+=1,w=b.charCodeAt(x);else if(t===w){l=x;do{l+=1,w=b.charCodeAt(l)}while(w<=32);if(h={type:"function",sourceIndex:x-E.length,value:E,before:b.slice(x+1,l)},x=l,"url"===E&&w!==r&&w!==i){l-=1;do{if(p=!1,~(l=b.indexOf(")",l+1)))for(v=l;b.charCodeAt(v-1)===a;)v-=1,p=!p;else l=(b+=")").length-1,h.unclosed=!0}while(p);m=l;do{m-=1,w=b.charCodeAt(m)}while(w<=32);h.nodes=x!==m+1?[{type:"word",sourceIndex:x,value:b.slice(x,m+1)}]:[],h.unclosed&&m+1!==l?(h.after="",h.nodes.push({type:"space",sourceIndex:m+1,value:b.slice(m+1,l)})):h.after=b.slice(m+1,l),x=l+1,w=b.charCodeAt(x),g.push(h)}else S+=1,h.after="",g.push(h),_.push(h),g=h.nodes=[],y=h;E=""}else if(n===w&&S)x+=1,w=b.charCodeAt(x),y.after=I,I="",S-=1,_.pop(),g=(y=_[S]).nodes;else{l=x;do{w===a&&(l+=1),l+=1,w=b.charCodeAt(l)}while(l<k&&!(w<=32||w===r||w===i||w===u||w===s||w===o||w===t||w===n&&S));h=b.slice(x,l),t===w?E=h:g.push({type:"word",sourceIndex:x,value:h}),x=l}for(x=_.length-1;x;x-=1)_[x].unclosed=!0;return _[0].nodes}},9581:function(e){function t(e,t){var r,i,a=e.type,o=e.value;return t&&void 0!==(i=t(e))?i:"word"===a||"space"===a?o:"string"===a?(r=e.quote||"")+o+(e.unclosed?"":r):"comment"===a?"/*"+o+(e.unclosed?"":"*/"):"div"===a?(e.before||"")+o+(e.after||""):Array.isArray(e.nodes)?(r=n(e.nodes),"function"!==a?r:o+"("+(e.before||"")+r+(e.after||"")+(e.unclosed?"":")")):o}function n(e,n){var r,i;if(Array.isArray(e)){for(r="",i=e.length-1;~i;i-=1)r=t(e[i],n)+r;return r}return t(e,n)}e.exports=n},4119:function(e){var t="-".charCodeAt(0),n="+".charCodeAt(0),r=".".charCodeAt(0),i="e".charCodeAt(0),a="E".charCodeAt(0);e.exports=function(e){for(var o,u=0,s=e.length,c=!1,l=-1,f=!1;u<s;){if((o=e.charCodeAt(u))>=48&&o<=57)f=!0;else if(o===i||o===a){if(l>-1)break;l=u}else if(o===r){if(c)break;c=!0}else{if(o!==n&&o!==t)break;if(0!==u)break}u+=1}return l+1===u&&u--,!!f&&{number:e.slice(0,u),unit:e.slice(u)}}},2993:function(e){e.exports=function e(t,n,r){var i,a,o,u;for(i=0,a=t.length;i<a;i+=1)o=t[i],r||(u=n(o,i,t)),!1!==u&&"function"===o.type&&Array.isArray(o.nodes)&&e(o.nodes,n,r),r&&n(o,i,t)}},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,d=null,h=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,x(e),!v)if(null!==r(c))v=!0,P(k);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function k(e,n){v=!1,m&&(m=!1,g(T),T=-1),p=!0;var a=h;try{for(x(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!O());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var u=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?d.callback=u:d===r(c)&&i(c),x(n)}else i(c);d=r(c)}if(null!==d)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,E=null,T=-1,I=5,j=-1;function O(){return!(t.unstable_now()-j<I)}function N(){if(null!==E){var e=t.unstable_now();j=e;var n=!0;try{n=E(!0,e)}finally{n?_():(S=!1,E=null)}}else S=!1}if("function"===typeof b)_=function(){b(N)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,C=A.port2;A.port1.onmessage=N,_=function(){C.postMessage(null)}}else _=function(){y(N,0)};function P(e){E=e,S||(S=!0,_())}function D(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(T),T=-1):m=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,P(k))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},1561:function(e,t,n){"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return u((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},7595:function(e,t,n){"use strict";var r=n(2791),i=n(7248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,u=r.useRef,s=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=u(null);if(null===f.current){var d={hasValue:!1,value:null};f.current=d}else d=f.current;f=c((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==i&&d.hasValue){var t=d.value;if(i(t,e))return u=t}return u=e}if(t=u,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,u=n)}var o,u,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var h=o(e,f[0],f[1]);return s((function(){d.hasValue=!0,d.value=h}),[h]),l(h),h}},7248:function(e,t,n){"use strict";e.exports=n(1561)},327:function(e,t,n){"use strict";e.exports=n(7595)},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".8a680ba3.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="hrms:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var d=function(t,n){u.onerror=u.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=d.bind(null,u.onerror),u.onload=d.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/HRMS-Web-App/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkhrms=self.webpackChunkhrms||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Ut},SDK_VERSION:function(){return Jn},_DEFAULT_ENTRY_NAME:function(){return Bn},_addComponent:function(){return qn},_addOrOverwriteComponent:function(){return Hn},_apps:function(){return Vn},_clearComponents:function(){return Qn},_components:function(){return zn},_getProvider:function(){return Gn},_registerComponent:function(){return Wn},_removeServiceInstance:function(){return Kn},deleteApp:function(){return nr},getApp:function(){return er},getApps:function(){return tr},initializeApp:function(){return Zn},onLog:function(){return ar},registerVersion:function(){return ir},setLogLevel:function(){return or}});var t={};n.r(t),n.d(t,{scaleBand:function(){return uM},scaleDiverging:function(){return aU},scaleDivergingLog:function(){return oU},scaleDivergingPow:function(){return sU},scaleDivergingSqrt:function(){return cU},scaleDivergingSymlog:function(){return uU},scaleIdentity:function(){return XR},scaleImplicit:function(){return aM},scaleLinear:function(){return $R},scaleLog:function(){return oL},scaleOrdinal:function(){return oM},scalePoint:function(){return cM},scalePow:function(){return vL},scaleQuantile:function(){return IL},scaleQuantize:function(){return jL},scaleRadial:function(){return gL},scaleSequential:function(){return JB},scaleSequentialLog:function(){return ZB},scaleSequentialPow:function(){return tU},scaleSequentialQuantile:function(){return rU},scaleSequentialSqrt:function(){return nU},scaleSequentialSymlog:function(){return eU},scaleSqrt:function(){return mL},scaleSymlog:function(){return lL},scaleThreshold:function(){return OL},scaleTime:function(){return QB},scaleUtc:function(){return YB},tickFormat:function(){return QR}});var r,i=n(2791),a=n.t(i,2),o=n(1250);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}function c(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e){if(Array.isArray(e))return e}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){return d(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||p(e,t)||v()}function y(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function g(e){return function(e){if(Array.isArray(e))return h(e)}(e)||y(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function w(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function E(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){var t=E();return function(){var n,r=S(e);if(t){var i=S(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return T(e)}(this,n)}}function j(e,t,n){return j=E()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&k(i,n.prototype),i},j.apply(null,arguments)}function O(e){var t="function"===typeof Map?new Map:void 0;return O=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return j(e,arguments,S(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),k(n,e)},O(e)}function N(e){return d(e)||y(e)||p(e)||v()}function A(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=p(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));var P,D="popstate";function M(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function R(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function L(e,t){return{usr:e.state,key:e.key,idx:t}}function F(e,t,n,r){return void 0===n&&(n=null),C({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?U(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function B(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function U(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function V(e,t,n,i){void 0===i&&(i={});var a=i,o=a.window,u=void 0===o?document.defaultView:o,s=a.v5Compat,c=void 0!==s&&s,l=u.history,f=r.Pop,d=null,h=p();function p(){return(l.state||{idx:null}).idx}function v(){f=r.Pop;var e=p(),t=null==e?null:e-h;h=e,d&&d({action:f,location:y.location,delta:t})}function m(e){var t="null"!==u.location.origin?u.location.origin:u.location.href,n="string"===typeof e?e:B(e);return M(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,l.replaceState(C({},l.state,{idx:h}),""));var y={get action(){return f},get location(){return e(u,l)},listen:function(e){if(d)throw new Error("A history only accepts one active listener");return u.addEventListener(D,v),d=e,function(){u.removeEventListener(D,v),d=null}},createHref:function(e){return t(u,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){f=r.Push;var i=F(y.location,e,t);n&&n(i,e);var a=L(i,h=p()+1),o=y.createHref(i);try{l.pushState(a,"",o)}catch(s){if(s instanceof DOMException&&"DataCloneError"===s.name)throw s;u.location.assign(o)}c&&d&&d({action:f,location:y.location,delta:1})},replace:function(e,t){f=r.Replace;var i=F(y.location,e,t);n&&n(i,e);var a=L(i,h=p()),o=y.createHref(i);l.replaceState(a,"",o),c&&d&&d({action:f,location:y.location,delta:0})},go:function(e){return l.go(e)}};return y}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(P||(P={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function z(e,t,n){void 0===n&&(n="/");var r=ne(("string"===typeof t?U(t):t).pathname||"/",n);if(null==r)return null;var i=q(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Z(i[o],te(r));return a}function q(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(M(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=oe([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(M(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),q(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:J(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=A(H(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function H(e){var t=e.split("/");if(0===t.length)return[];var n=N(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var u=H(i.join("/")),s=[];return s.push.apply(s,g(u.map((function(e){return""===e?o:[o,e].join("/")})))),a&&s.push.apply(s,g(u)),s.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var W=/^:\w+$/,G=3,K=2,Q=1,Y=10,$=-2,X=function(e){return"*"===e};function J(e,t){var n=e.split("/"),r=n.length;return n.some(X)&&(r+=$),t&&(r+=K),n.filter((function(e){return!X(e)})).reduce((function(e,t){return e+(W.test(t)?G:""===t?Q:Y)}),r)}function Z(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=ee({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:oe([i,l.pathname]),pathnameBase:ue(oe([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=oe([i,l.pathnameBase]))}return a}function ee(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);R("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=m(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1),l=a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return R(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{});return{params:l,pathname:u,pathnameBase:s,pattern:e}}function te(e){try{return decodeURI(e)}catch(t){return R(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function ne(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function re(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ie(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function ae(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=U(e):(M(!(i=C({},e)).pathname||!i.pathname.includes("?"),re("?","pathname","search",i)),M(!i.pathname||!i.pathname.includes("#"),re("#","pathname","hash",i)),M(!i.search||!i.search.includes("#"),re("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?U(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:se(a),hash:ce(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),d=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!d||(l.pathname+="/"),l}var oe=function(e){return e.join("/").replace(/\/\/+/g,"/")},ue=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},se=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ce=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},le=function(e){_(n,e);var t=I(n);function n(){return b(this,n),t.apply(this,arguments)}return w(n)}(O(Error));function fe(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var de=["post","put","patch","delete"],he=(new Set(de),["get"].concat(de));new Set(he),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pe.apply(this,arguments)}var ve=i.createContext(null);var me=i.createContext(null);var ye=i.createContext(null);var ge=i.createContext(null);var be=i.createContext(null);var xe=i.createContext({outlet:null,matches:[],isDataRoute:!1});var we=i.createContext(null);function ke(){return null!=i.useContext(be)}function _e(){return ke()||M(!1),i.useContext(be).location}function Se(e){i.useContext(ge).static||i.useLayoutEffect(e)}function Ee(){return i.useContext(xe).isDataRoute?function(){var e=Re(Ne.UseNavigateStable).router,t=Fe(Ae.UseNavigateStable),n=i.useRef(!1);Se((function(){n.current=!0}));var r=i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,pe({fromRouteId:t},i)))}),[e,t]);return r}():function(){ke()||M(!1);var e=i.useContext(ve),t=i.useContext(ge),n=t.basename,r=t.navigator,a=i.useContext(xe).matches,o=_e().pathname,u=JSON.stringify(ie(a).map((function(e){return e.pathnameBase}))),s=i.useRef(!1);Se((function(){s.current=!0}));var c=i.useCallback((function(t,i){if(void 0===i&&(i={}),s.current)if("number"!==typeof t){var a=ae(t,JSON.parse(u),o,"path"===i.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:oe([n,a.pathname])),(i.replace?r.replace:r.push)(a,i.state,i)}else r.go(t)}),[n,r,u,o,e]);return c}()}function Te(){var e=i.useContext(xe).matches,t=e[e.length-1];return t?t.params:{}}function Ie(e,t){var n=(void 0===t?{}:t).relative,r=i.useContext(xe).matches,a=_e().pathname,o=JSON.stringify(ie(r).map((function(e){return e.pathnameBase})));return i.useMemo((function(){return ae(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function je(e,t,n){ke()||M(!1);var a,o=i.useContext(ge).navigator,u=i.useContext(xe).matches,s=u[u.length-1],c=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),f=(s&&s.route,_e());if(t){var d,h="string"===typeof t?U(t):t;"/"===l||(null==(d=h.pathname)?void 0:d.startsWith(l))||M(!1),a=h}else a=f;var p=a.pathname||"/",v=z(e,{pathname:"/"===l?p:p.slice(l.length)||"/"});var m=Me(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:oe([l,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:oe([l,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),u,n);return t&&m?i.createElement(be.Provider,{value:{location:pe({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:r.Pop}},m):m}function Oe(){var e=function(){var e,t=i.useContext(we),n=Le(Ae.UseRouteError),r=Fe(Ae.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=fe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:a},n):null,null)}var Ne,Ae,Ce=i.createElement(Oe,null),Pe=function(e){_(n,e);var t=I(n);function n(e){var r;return b(this,n),(r=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},r}return w(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?i.createElement(xe.Provider,{value:this.props.routeContext},i.createElement(we.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),n}(i.Component);function De(e){var t=e.routeContext,n=e.match,r=e.children,a=i.useContext(ve);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(xe.Provider,{value:t},r)}function Me(e,t,n){var r;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}var o=e,u=null==(r=n)?void 0:r.errors;if(null!=u){var s=o.findIndex((function(e){return e.route.id&&(null==u?void 0:u[e.route.id])}));s>=0||M(!1),o=o.slice(0,Math.min(o.length,s+1))}return o.reduceRight((function(e,r,a){var s=r.route.id?null==u?void 0:u[r.route.id]:null,c=null;n&&(c=r.route.errorElement||Ce);var l=t.concat(o.slice(0,a+1)),f=function(){var t;return t=s?c:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(De,{match:r,routeContext:{outlet:e,matches:l,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?i.createElement(Pe,{location:n.location,revalidation:n.revalidation,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}function Re(e){var t=i.useContext(ve);return t||M(!1),t}function Le(e){var t=i.useContext(me);return t||M(!1),t}function Fe(e){var t=function(e){var t=i.useContext(xe);return t||M(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||M(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(Ne||(Ne={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(Ae||(Ae={}));var Be;function Ue(e){var t=e.to,n=e.replace,r=e.state,a=e.relative;ke()||M(!1);var o=i.useContext(xe).matches,u=_e().pathname,s=Ee(),c=ae(t,ie(o).map((function(e){return e.pathnameBase})),u,"path"===a),l=JSON.stringify(c);return i.useEffect((function(){return s(JSON.parse(l),{replace:n,state:r,relative:a})}),[s,l,a,n,r]),null}function Ve(e){M(!1)}function ze(e){var t=e.basename,n=void 0===t?"/":t,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?r.Pop:s,l=e.navigator,f=e.static,d=void 0!==f&&f;ke()&&M(!1);var h=n.replace(/^\/*/,"/"),p=i.useMemo((function(){return{basename:h,navigator:l,static:d}}),[h,l,d]);"string"===typeof u&&(u=U(u));var v=u,m=v.pathname,y=void 0===m?"/":m,g=v.search,b=void 0===g?"":g,x=v.hash,w=void 0===x?"":x,k=v.state,_=void 0===k?null:k,S=v.key,E=void 0===S?"default":S,T=i.useMemo((function(){var e=ne(y,h);return null==e?null:{location:{pathname:e,search:b,hash:w,state:_,key:E},navigationType:c}}),[h,y,b,w,_,E,c]);return null==T?null:i.createElement(ge.Provider,{value:p},i.createElement(be.Provider,{children:o,value:T}))}function qe(e){var t=e.children,n=e.location;return je(We(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Be||(Be={}));var He=new Promise((function(){}));i.Component;function We(e,t){void 0===t&&(t=[]);var n=[];return i.Children.forEach(e,(function(e,r){if(i.isValidElement(e)){var a=[].concat(g(t),[r]);if(e.type!==i.Fragment){e.type!==Ve&&M(!1),e.props.index&&e.props.children&&M(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=We(e.props.children,a)),n.push(o)}else n.push.apply(n,We(e.props.children,a))}})),n}function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ge.apply(this,arguments)}function Ke(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Qe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];var Ye="startTransition";function $e(e){var t,n=e.basename,r=e.children,o=e.window,u=i.useRef();null==u.current&&(u.current=(void 0===(t={window:o,v5Compat:!0})&&(t={}),V((function(e,t){var n=e.location;return F("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:B(t)}),null,t)));var s=u.current,c=m(i.useState({action:s.action,location:s.location}),2),l=c[0],f=c[1],d=i.useCallback((function(e){Ye in a?a[Ye]((function(){return f(e)})):f(e)}),[f]);return i.useLayoutEffect((function(){return s.listen(d)}),[s,d]),i.createElement(ze,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:s})}var Xe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Je=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ze=i.forwardRef((function(e,t){var n,r=e.onClick,a=e.relative,o=e.reloadDocument,u=e.replace,s=e.state,c=e.target,l=e.to,f=e.preventScrollReset,d=Ke(e,Qe),h=i.useContext(ge).basename,p=!1;if("string"===typeof l&&Je.test(l)&&(n=l,Xe))try{var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),y=ne(m.pathname,h);m.origin===v.origin&&null!=y?l=y+m.search+m.hash:p=!0}catch(x){}var g=function(e,t){var n=(void 0===t?{}:t).relative;ke()||M(!1);var r=i.useContext(ge),a=r.basename,o=r.navigator,u=Ie(e,{relative:n}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:oe([a,c])),o.createHref({pathname:f,search:l,hash:s})}(l,{relative:a}),b=function(e,t){var n=void 0===t?{}:t,r=n.target,a=n.replace,o=n.state,u=n.preventScrollReset,s=n.relative,c=Ee(),l=_e(),f=Ie(e,{relative:s});return i.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();var n=void 0!==a?a:B(l)===B(f);c(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[l,c,f,a,o,r,e,u,s])}(l,{replace:u,state:s,target:c,preventScrollReset:f,relative:a});return i.createElement("a",Ge({},d,{href:n||g,onClick:p||o?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var et,tt;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(et||(et={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(tt||(tt={}));var nt=n(7248),rt=n(327),it=n(4164);var at=function(e){e()},ot=function(){return at},ut=null;var st=new Proxy({},new Proxy({},{get:function(e,t){var n=(ut||(ut=(0,i.createContext)(null)),ut);return function(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return Reflect[t].apply(Reflect,[n].concat(i))}}}));function ct(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st;return function(){return(0,i.useContext)(e)}}var lt=ct(),ft=function(){throw new Error("uSES not initialized!")},dt=function(e,t){return e===t};function ht(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=e===st?lt:ct(e);return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="function"===typeof n?{equalityFn:n}:n,a=r.equalityFn,o=void 0===a?dt:a,u=r.stabilityCheck,s=void 0===u?void 0:u;r.noopCheck;var l=t(),f=l.store,d=l.subscription,h=l.getServerState,p=l.stabilityCheck,v=(l.noopCheck,(0,i.useRef)(!0),(0,i.useCallback)(c({},e.name,(function(t){return e(t)}))[e.name],[e,p,s])),m=ft(d.addNestedSub,f.getState,h||f.getState,v,o);return(0,i.useDebugValue)(m),m}}var pt=ht();n(2110),n(6900);var vt={notify:function(){},get:function(){return[]}};function mt(e,t){var n,r=vt;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=ot(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=vt)},getListeners:function(){return r}};return o}var yt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?i.useLayoutEffect:i.useEffect;var gt=function(e){var t=e.store,n=e.context,r=e.children,a=e.serverState,o=e.stabilityCheck,u=void 0===o?"once":o,s=e.noopCheck,c=void 0===s?"once":s,l=(0,i.useMemo)((function(){var e=mt(t);return{store:t,subscription:e,getServerState:a?function(){return a}:void 0,stabilityCheck:u,noopCheck:c}}),[t,a,u,c]),f=(0,i.useMemo)((function(){return t.getState()}),[t]);yt((function(){var e=l.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),f!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[l,f]);var d=n||st;return i.createElement(d.Provider,{value:l},r)};function bt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=e===st?lt:ct(e);return function(){return t().store}}var xt=bt();function wt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=e===st?xt:bt(e);return function(){return t().dispatch}}var kt,_t=wt();!function(e){ft=e}(rt.useSyncExternalStoreWithSelector),function(e){e}(nt.useSyncExternalStore),kt=it.unstable_batchedUpdates,at=kt;var St=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Et={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,d=(15&u)<<2|c>>6,h=63&c;s||(h=64,o||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(St(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new Tt;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Tt=function(e){_(n,e);var t=I(n);function n(){var e;return b(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return w(n)}(O(Error)),It=function(e){return function(e){var t=St(e);return Et.encodeByteArray(t,!0)}(e).replace(/\./g,"")},jt=function(e){try{return Et.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ot(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ot(e[n],t[n]));return e}var Nt=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},At=function(){try{return Nt()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/HRMS-Web-App",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyD9nDmpauEzggx4tqALcWBcK1jMzvi7rzI",REACT_APP_FIREBASE_APP_ID:"1:921196746710:web:0b01e4a4250b49fb2cb677",REACT_APP_FIREBASE_AUTH_DOMAIN:"hrms-e4806.firebaseapp.com;",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-M5CM3RL67T",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"921196746710",REACT_APP_FIREBASE_PROJECT_ID:"hrms-e4806",REACT_APP_FIREBASE_STORAGE_BUCKET:"hrms-e4806.appspot.com"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&jt(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Ct=function(){var e;return null===(e=At())||void 0===e?void 0:e.config},Pt=function(){function e(){var t=this;b(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return w(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Dt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Mt(){var e,t=null===(e=At())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Rt(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Lt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ft(){var e=Dt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Bt(){try{return"object"===typeof indexedDB}catch(e){return!1}}var Ut=function(e){_(n,e);var t=I(n);function n(e,r,i){var a;return b(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(T(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(T(a),Vt.prototype.create),a}return w(n)}(O(Error)),Vt=function(){function e(t,n,r){b(this,e),this.service=t,this.serviceName=n,this.errors=r}return w(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(zt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Ut(n,a,t)}}]),e}();var zt=/\{\$([^}]+)}/g;function qt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ht(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Wt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Gt(u)&&Gt(s)){if(!Wt(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Gt(e){return null!==e&&"object"===typeof e}function Kt(e){for(var t=[],n=function(){var e=m(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Qt(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=m(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Yt(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function $t(e,t){var n=new Xt(e,t);return n.subscribe.bind(n)}var Xt=function(){function e(t,n){var r=this;b(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return w(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=A(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Jt),void 0===r.error&&(r.error=Jt),void 0===r.complete&&(r.complete=Jt);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Jt(){}function Zt(e){return e&&e._delegate?e._delegate:e}function en(){en=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(O){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new T(i||[]);return r(o,"_invoke",{value:k(e,n,u)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var d={};function h(){}function p(){}function v(){}var m={};c(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(I([])));g&&g!==t&&n.call(g,a)&&(m=g);var b=v.prototype=h.prototype=Object.create(m);function x(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,s){var c=f(e[r],e,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==u(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return i("throw",e,o,s)}))}s(c.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function k(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return j()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=_(o,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function I(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}return p.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=c(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},x(w.prototype),c(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(b),c(b,s,"Generator"),c(b,a,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function tn(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function nn(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){tn(a,r,i,o,u,"next",e)}function u(e){tn(a,r,i,o,u,"throw",e)}o(void 0)}))}}var rn=function(){function e(t,n,r){b(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return w(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),an="[DEFAULT]",on=function(){function e(t,n){b(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return w(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Pt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:an})}catch(s){}var t,n=A(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=m(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=nn(en().mark((function e(){var t;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(g(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),g(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=A(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=m(i.value,2),s=u[0],c=u[1];r===this.normalizeInstanceIdentifier(s)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(sg){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===an?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(sg){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an;return this.component?this.component.multipleInstances?e:an:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var un,sn,cn=function(){function e(t){b(this,e),this.name=t,this.providers=new Map}return w(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new on(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ln=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(sn||(sn={}));var fn={debug:sn.DEBUG,verbose:sn.VERBOSE,info:sn.INFO,warn:sn.WARN,error:sn.ERROR,silent:sn.SILENT},dn=sn.INFO,hn=(c(un={},sn.DEBUG,"log"),c(un,sn.VERBOSE,"log"),c(un,sn.INFO,"info"),c(un,sn.WARN,"warn"),c(un,sn.ERROR,"error"),un),pn=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=hn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},vn=function(){function e(t){b(this,e),this.name=t,this._logLevel=dn,this._logHandler=pn,this._userLogHandler=null,ln.push(this)}return w(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in sn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?fn[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,sn.DEBUG].concat(t)),this._logHandler.apply(this,[this,sn.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,sn.VERBOSE].concat(t)),this._logHandler.apply(this,[this,sn.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,sn.INFO].concat(t)),this._logHandler.apply(this,[this,sn.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,sn.WARN].concat(t)),this._logHandler.apply(this,[this,sn.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,sn.ERROR].concat(t)),this._logHandler.apply(this,[this,sn.ERROR].concat(t))}}]),e}();var mn,yn,gn=function(e,t){return t.some((function(t){return e instanceof t}))};var bn=new WeakMap,xn=new WeakMap,wn=new WeakMap,kn=new WeakMap,_n=new WeakMap;var Sn={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return xn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||wn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return In(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function En(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(yn||(yn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(jn(this),n),In(bn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return In(e.apply(jn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[jn(this),t].concat(r));return wn.set(a,t.sort?t.sort():[t]),In(a)}}function Tn(e){return"function"===typeof e?En(e):(e instanceof IDBTransaction&&function(e){if(!xn.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));xn.set(e,t)}}(e),gn(e,mn||(mn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Sn):e)}function In(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(In(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&bn.set(t,e)})).catch((function(){})),_n.set(t,e),t}(e);if(kn.has(e))return kn.get(e);var t=Tn(e);return t!==e&&(kn.set(e,t),_n.set(t,e)),t}var jn=function(e){return _n.get(e)};var On,Nn,An=["get","getKey","getAll","getAllKeys","count"],Cn=["put","add","delete","clear"],Pn=new Map;function Dn(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Pn.get(t))return Pn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Cn.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||An.includes(n))){var a=function(){var e=nn(en().mark((function e(t){var a,o,u,s,c,l,f=arguments;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Pn.set(t,a),a}}}Sn=function(e){return f(f({},e),{},{get:function(t,n,r){return Dn(t,n)||e.get(t,n,r)},has:function(t,n){return!!Dn(t,n)||e.has(t,n)}})}(Sn);var Mn=function(){function e(t){b(this,e),this.container=t}return w(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Rn="@firebase/app",Ln="0.9.12",Fn=new vn("@firebase/app"),Bn="[DEFAULT]",Un=(c(On={},Rn,"fire-core"),c(On,"@firebase/app-compat","fire-core-compat"),c(On,"@firebase/analytics","fire-analytics"),c(On,"@firebase/analytics-compat","fire-analytics-compat"),c(On,"@firebase/app-check","fire-app-check"),c(On,"@firebase/app-check-compat","fire-app-check-compat"),c(On,"@firebase/auth","fire-auth"),c(On,"@firebase/auth-compat","fire-auth-compat"),c(On,"@firebase/database","fire-rtdb"),c(On,"@firebase/database-compat","fire-rtdb-compat"),c(On,"@firebase/functions","fire-fn"),c(On,"@firebase/functions-compat","fire-fn-compat"),c(On,"@firebase/installations","fire-iid"),c(On,"@firebase/installations-compat","fire-iid-compat"),c(On,"@firebase/messaging","fire-fcm"),c(On,"@firebase/messaging-compat","fire-fcm-compat"),c(On,"@firebase/performance","fire-perf"),c(On,"@firebase/performance-compat","fire-perf-compat"),c(On,"@firebase/remote-config","fire-rc"),c(On,"@firebase/remote-config-compat","fire-rc-compat"),c(On,"@firebase/storage","fire-gcs"),c(On,"@firebase/storage-compat","fire-gcs-compat"),c(On,"@firebase/firestore","fire-fst"),c(On,"@firebase/firestore-compat","fire-fst-compat"),c(On,"fire-js","fire-js"),c(On,"firebase","fire-js-all"),On),Vn=new Map,zn=new Map;function qn(e,t){try{e.container.addComponent(t)}catch(n){Fn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Hn(e,t){e.container.addOrOverwriteComponent(t)}function Wn(e){var t=e.name;if(zn.has(t))return Fn.debug("There were multiple attempts to register component ".concat(t,".")),!1;zn.set(t,e);var n,r=A(Vn.values());try{for(r.s();!(n=r.n()).done;){qn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Gn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Kn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bn;Gn(e,t).clearInstance(n)}function Qn(){zn.clear()}var Yn=(c(Nn={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),c(Nn,"bad-app-name","Illegal App name: '{$appName}"),c(Nn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),c(Nn,"app-deleted","Firebase App named '{$appName}' already deleted"),c(Nn,"no-options","Need to provide options, when not being deployed to hosting via source."),c(Nn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),c(Nn,"invalid-log-argument","First argument to `onLog` must be null or a function."),c(Nn,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),c(Nn,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),c(Nn,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),c(Nn,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Nn),$n=new Vt("app","Firebase",Yn),Xn=function(){function e(t,n,r){var i=this;b(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rn("app",(function(){return i}),"PUBLIC"))}return w(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw $n.create("app-deleted",{appName:this._name})}}]),e}(),Jn="9.22.2";function Zn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Bn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw $n.create("bad-app-name",{appName:String(i)});if(n||(n=Ct()),!n)throw $n.create("no-options");var a=Vn.get(i);if(a){if(Wt(n,a.options)&&Wt(r,a.config))return a;throw $n.create("duplicate-app",{appName:i})}var o,u=new cn(i),s=A(zn.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Xn(n,r,u);return Vn.set(i,l),l}function er(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn,t=Vn.get(e);if(!t&&e===Bn&&Ct())return Zn();if(!t)throw $n.create("no-app",{appName:e});return t}function tr(){return Array.from(Vn.values())}function nr(e){return rr.apply(this,arguments)}function rr(){return(rr=nn(en().mark((function e(t){var n;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Vn.has(n)){e.next=6;break}return Vn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ir(e,t,n){var r,i=null!==(r=Un[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Fn.warn(u.join(" "))}Wn(new rn("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function ar(e,t){if(null!==e&&"function"!==typeof e)throw $n.create("invalid-log-argument");!function(e,t){var n,r=A(ln);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=fn[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:sn[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function or(e){var t;t=e,ln.forEach((function(e){e.setLogLevel(t)}))}var ur="firebase-heartbeat-database",sr=1,cr="firebase-heartbeat-store",lr=null;function fr(){return lr||(lr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=In(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(In(u.result),e.oldVersion,e.newVersion,In(u.transaction),e)})),r&&u.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),s}(ur,sr,{upgrade:function(e,t){if(0===t)e.createObjectStore(cr)}}).catch((function(e){throw $n.create("idb-open",{originalErrorMessage:e.message})}))),lr}function dr(e){return hr.apply(this,arguments)}function hr(){return hr=nn(en().mark((function e(t){var n,r,i;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fr();case 3:return n=e.sent,e.next=6,n.transaction(cr).objectStore(cr).get(mr(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof Ut?Fn.warn(e.t0.message):(i=$n.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Fn.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),hr.apply(this,arguments)}function pr(e,t){return vr.apply(this,arguments)}function vr(){return vr=nn(en().mark((function e(t,n){var r,i,a,o;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fr();case 3:return r=e.sent,i=r.transaction(cr,"readwrite"),a=i.objectStore(cr),e.next=8,a.put(n,mr(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof Ut?Fn.warn(e.t0.message):(o=$n.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Fn.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),vr.apply(this,arguments)}function mr(e){return"".concat(e.name,"!").concat(e.options.appId)}var yr=function(){function e(t){var n=this;b(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new kr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return w(e,[{key:"triggerHeartbeat",value:function(){var e=nn(en().mark((function e(){var t,n,r;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=gr(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=nn(en().mark((function e(){var t,n,r,i,a;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=gr(),n=br(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=It(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function gr(){return(new Date).toISOString().substring(0,10)}function br(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=A(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),_r(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),_r(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var xr,wr,kr=function(){function e(t){b(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return w(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=nn(en().mark((function e(){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bt()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=nn(en().mark((function e(){var t;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,dr(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=nn(en().mark((function e(t){var n,r;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",pr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=nn(en().mark((function e(t){var n,r;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",pr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(g(r.heartbeats),g(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function _r(e){return It(JSON.stringify({version:2,heartbeats:e})).length}xr="",Wn(new rn("platform-logger",(function(e){return new Mn(e)}),"PRIVATE")),Wn(new rn("heartbeat",(function(e){return new yr(e)}),"PRIVATE")),ir(Rn,Ln,xr),ir(Rn,Ln,"esm2017"),ir("fire-js","");var Sr=function(){function e(t,n){var r=this;b(this,e),this._delegate=t,this.firebase=n,qn(t,new rn("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return w(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),nr(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bn;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bn;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){qn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Hn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Er=(c(wr={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),c(wr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),wr),Tr=new Vt("app-compat","Firebase",Er);var Ir=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Zn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(qt(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:ir,setLogLevel:or,onLog:ar,apps:null,SDK_VERSION:Jn,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Wn(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Tr.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Ot(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!qt(n,e=e||Bn))throw Tr.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Sr);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ot(n,e)},createSubscribe:$t,ErrorFactory:Vt,deepExtend:Ot}),n}(),jr=new vn("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){jr.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Or=self.firebase.SDK_VERSION;Or&&Or.indexOf("LITE")>=0&&jr.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Nr=Ir;!function(e){ir("@firebase/app-compat","0.2.12",e)}();function Ar(){return Ar="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Ar.apply(this,arguments)}Nr.registerVersion("firebase","9.22.2","app-compat");var Cr,Pr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Dr={},Mr=Mr||{},Rr=Pr||self;function Lr(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Fr(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Br="closure_uid_"+(1e9*Math.random()>>>0),Ur=0;function Vr(e,t,n){return e.call.apply(e.bind,arguments)}function zr(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function qr(e,t,n){return(qr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Vr:zr).apply(null,arguments)}function Hr(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Wr(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Gr(){this.s=this.s,this.o=this.o}Gr.prototype.s=!1,Gr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,Br)&&e[Br]||(e[Br]=++Ur)}(this)},Gr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Kr=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Qr(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Yr(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Lr(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function $r(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}$r.prototype.h=function(){this.defaultPrevented=!0};var Xr=function(){if(!Rr.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Rr.addEventListener("test",(function(){}),t),Rr.removeEventListener("test",(function(){}),t)}catch(OO){}return e}();function Jr(e){return/^[\s\xa0]*$/.test(e)}function Zr(){var e=Rr.navigator;return e&&(e=e.userAgent)?e:""}function ei(e){return-1!=Zr().indexOf(e)}function ti(e){return ti[" "](e),e}ti[" "]=function(){};var ni,ri,ii=ei("Opera"),ai=ei("Trident")||ei("MSIE"),oi=ei("Edge"),ui=oi||ai,si=ei("Gecko")&&!(-1!=Zr().toLowerCase().indexOf("webkit")&&!ei("Edge"))&&!(ei("Trident")||ei("MSIE"))&&!ei("Edge"),ci=-1!=Zr().toLowerCase().indexOf("webkit")&&!ei("Edge");function li(){var e=Rr.document;return e?e.documentMode:void 0}e:{var fi="",di=function(){var e=Zr();return si?/rv:([^\);]+)(\)|;)/.exec(e):oi?/Edge\/([\d\.]+)/.exec(e):ai?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ci?/WebKit\/(\S+)/.exec(e):ii?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(di&&(fi=di?di[1]:""),ai){var hi=li();if(null!=hi&&hi>parseFloat(fi)){ni=String(hi);break e}}ni=fi}if(Rr.document&&ai){var pi=li();ri=pi||(parseInt(ni,10)||void 0)}else ri=void 0;var vi=ri;function mi(e,t){if($r.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(si){e:{try{ti(t.nodeName);var i=!0;break e}catch(jO){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:yi[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&mi.$.h.call(this)}}Wr(mi,$r);var yi={2:"touch",3:"pen",4:"mouse"};mi.prototype.h=function(){mi.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var gi="closure_listenable_"+(1e6*Math.random()|0),bi=0;function xi(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++bi,this.fa=this.ia=!1}function wi(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function ki(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function _i(e){var t={};for(var n in e)t[n]=e[n];return t}var Si="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ei(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Si.length;a++)n=Si[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ti(e){this.src=e,this.g={},this.h=0}function Ii(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Kr(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(wi(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ji(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Ti.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ji(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new xi(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Oi="closure_lm_"+(1e6*Math.random()|0),Ni={};function Ai(e,t,n,r,i){if(r&&r.once)return Pi(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ai(e,t[a],n,r,i);return null}return n=Ui(n),e&&e[gi]?e.O(t,n,Fr(r)?!!r.capture:!!r,i):Ci(e,t,n,!1,r,i)}function Ci(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Fr(i)?!!i.capture:!!i,u=Fi(e);if(u||(e[Oi]=u=new Ti(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Li;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Xr||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ri(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Pi(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Pi(e,t[a],n,r,i);return null}return n=Ui(n),e&&e[gi]?e.P(t,n,Fr(r)?!!r.capture:!!r,i):Ci(e,t,n,!0,r,i)}function Di(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Di(e,t[a],n,r,i);else r=Fr(r)?!!r.capture:!!r,n=Ui(n),e&&e[gi]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ji(a=e.g[t],n,r,i))&&(wi(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Fi(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ji(t,n,r,i)),(n=-1<e?t[e]:null)&&Mi(n))}function Mi(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[gi])Ii(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ri(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Fi(t))?(Ii(n,e),0==n.h&&(n.src=null,t[Oi]=null)):wi(e)}}}function Ri(e){return e in Ni?Ni[e]:Ni[e]="on"+e}function Li(e,t){if(e.fa)e=!0;else{t=new mi(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Mi(e),e=n.call(r,t)}return e}function Fi(e){return(e=e[Oi])instanceof Ti?e:null}var Bi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ui(e){return"function"===typeof e?e:(e[Bi]||(e[Bi]=function(t){return e.handleEvent(t)}),e[Bi])}function Vi(){Gr.call(this),this.i=new Ti(this),this.S=this,this.J=null}function zi(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new $r(t,e);else if(t instanceof $r)t.target=t.target||e;else{var i=t;Ei(t=new $r(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=qi(o,r,!0,t)&&i}if(i=qi(o=t.g=e,r,!0,t)&&i,i=qi(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=qi(o=t.g=n[a],r,!1,t)&&i}function qi(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var u=o.listener,s=o.la||o.src;o.ia&&Ii(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Wr(Vi,Gr),Vi.prototype[gi]=!0,Vi.prototype.removeEventListener=function(e,t,n,r){Di(this,e,t,n,r)},Vi.prototype.N=function(){if(Vi.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)wi(n[r]);delete t.g[e],t.h--}}this.J=null},Vi.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Vi.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Hi=Rr.JSON.stringify,Wi=function(){function e(t,n){b(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return w(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function Gi(){var e=ea,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ki=function(){function e(){b(this,e),this.h=this.g=null}return w(e,[{key:"add",value:function(e,t){var n=Qi.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Qi=new Wi((function(){return new Yi}),(function(e){return e.reset()})),Yi=function(){function e(){b(this,e),this.next=this.g=this.h=null}return w(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function $i(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Xi(e){Rr.setTimeout((function(){throw e}),0)}var Ji,Zi=!1,ea=new Ki,ta=function(){var e=Rr.Promise.resolve(void 0);Ji=function(){e.then(na)}},na=function(){for(var e;e=Gi();){try{e.h.call(e.g)}catch(OO){Xi(OO)}var t=Qi;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Zi=!1};function ra(e,t){Vi.call(this),this.h=e||1,this.g=t||Rr,this.j=qr(this.qb,this),this.l=Date.now()}function ia(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function aa(e,t,n){if("function"===typeof e)n&&(e=qr(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=qr(e.handleEvent,e)}return 2147483647<Number(t)?-1:Rr.setTimeout(e,t||0)}function oa(e){e.g=aa((function(){e.g=null,e.i&&(e.i=!1,oa(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Wr(ra,Vi),(Cr=ra.prototype).ga=!1,Cr.T=null,Cr.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),zi(this,"tick"),this.ga&&(ia(this),this.start()))}},Cr.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Cr.N=function(){ra.$.N.call(this),ia(this),delete this.g};var ua=function(e){_(n,e);var t=I(n);function n(e,r){var i;return b(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return w(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:oa(this)}},{key:"N",value:function(){Ar(S(n.prototype),"N",this).call(this),this.g&&(Rr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Gr);function sa(e){Gr.call(this),this.h=e,this.g={}}Wr(sa,Gr);var ca=[];function la(e,t,n,r){Array.isArray(n)||(n&&(ca[0]=n.toString()),n=ca);for(var i=0;i<n.length;i++){var a=Ai(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function fa(e){ki(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Mi(e)}),e),e.g={}}function da(){this.g=!0}function ha(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Hi(n)}catch(wO){return t}}(e,n)+(r?" "+r:"")}))}sa.prototype.N=function(){sa.$.N.call(this),fa(this)},sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},da.prototype.Ea=function(){this.g=!1},da.prototype.info=function(){};var pa={},va=null;function ma(){return va=va||new Vi}function ya(e){$r.call(this,pa.Ta,e)}function ga(e){var t=ma();zi(t,new ya(t))}function ba(e,t){$r.call(this,pa.STAT_EVENT,e),this.stat=t}function xa(e){var t=ma();zi(t,new ba(t,e))}function wa(e,t){$r.call(this,pa.Ua,e),this.size=t}function ka(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Rr.setTimeout((function(){e()}),t)}pa.Ta="serverreachability",Wr(ya,$r),pa.STAT_EVENT="statevent",Wr(ba,$r),pa.Ua="timingevent",Wr(wa,$r);var _a={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Sa={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ea(){}function Ta(e){return e.h||(e.h=e.i())}function Ia(){}Ea.prototype.h=null;var ja,Oa={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Na(){$r.call(this,"d")}function Aa(){$r.call(this,"c")}function Ca(){}function Pa(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new sa(this),this.P=Ma,e=ui?125:void 0,this.V=new ra(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Da}function Da(){this.i=null,this.g="",this.h=!1}Wr(Na,$r),Wr(Aa,$r),Wr(Ca,Ea),Ca.prototype.g=function(){return new XMLHttpRequest},Ca.prototype.i=function(){return{}},ja=new Ca;var Ma=45e3,Ra={},La={};function Fa(e,t,n){e.L=1,e.v=ro(Ja(t)),e.s=n,e.S=!0,Ba(e,null)}function Ba(e,t){e.G=Date.now(),qa(e),e.A=Ja(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),yo(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Da,e.g=yu(e.l,n?t:null,!e.s),0<e.O&&(e.M=new ua(qr(e.Pa,e,e.g),e.O)),la(e.U,e.g,"readystatechange",e.nb),t=e.I?_i(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),ga(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Ua(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Va(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=za(e,n))==La){4==t&&(e.o=4,xa(14),i=!1),ha(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ra){e.o=4,xa(15),ha(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ha(e.j,e.m,r,null),Qa(e,r)}Ua(e)&&r!=La&&r!=Ra&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,xa(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),cu(t),t.M=!0,xa(11))):(ha(e.j,e.m,n,"[Invalid Chunked Response]"),Ka(e),Ga(e))}function za(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?La:(n=Number(t.substring(n,r)),isNaN(n)?Ra:(r+=1)+n>t.length?La:(t=t.slice(r,r+n),e.C=r+n,t))}function qa(e){e.Y=Date.now()+e.P,Ha(e,e.P)}function Ha(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ka(qr(e.lb,e),t)}function Wa(e){e.B&&(Rr.clearTimeout(e.B),e.B=null)}function Ga(e){0==e.l.H||e.J||du(e.l,e)}function Ka(e){Wa(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,ia(e.V),fa(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Qa(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||So(n.i,e)))if(!e.K&&So(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;fu(n),tu(n)}su(n),xa(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=ka(qr(n.ib,n),6e3));if(1>=_o(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else pu(n,11)}else if((e.K||n.g==e)&&fu(n),!Jr(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var u=a[4];null!=u&&(n.Ga=u,n.l.info("SVER="+n.Ga));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Eo(f,f.h),f.h=null))}if(r.F){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.Da=d,no(r.I,r.F,d))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var h=e;if((r=n).wa=mu(r,r.J?r.pa:null,r.Y),h.K){To(r.i,h);var p=h,v=r.L;v&&p.setTimeout(v),p.B&&(Wa(p),qa(p)),r.g=h}else uu(r);0<n.j.length&&ru(n)}else"stop"!=a[0]&&"close"!=a[0]||pu(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?pu(n,7):eu(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}ga()}catch(a){}}function Ya(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Lr(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Lr(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Lr(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Cr=Pa.prototype).setTimeout=function(e){this.P=e},Cr.nb=function(e){e=e.target;var t=this.M;t&&3==Qo(e)?t.l():this.Pa(e)},Cr.Pa=function(e){try{if(e==this.g)e:{var t=Qo(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||ui||this.g&&(this.h.h||this.g.ja()||Yo(this.g)))){this.J||4!=t||7==n||ga(),Wa(this);var r=this.g.da();this.ca=r;t:if(Ua(this)){var i=Yo(this.g);e="";var a=i.length,o=4==Qo(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ka(this),Ga(this);var u="";break t}this.h.i=new Rr.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jr(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,xa(12),Ka(this),Ga(this);break e}ha(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qa(this,r)}this.S?(Va(this,t,u),ui&&this.i&&3==t&&(la(this.U,this.V,"tick",this.mb),this.V.start())):(ha(this.j,this.m,u,null),Qa(this,u)),4==t&&Ka(this),this.i&&!this.J&&(4==t?du(this.l,this):(this.i=!1,qa(this)))}else(function(e){var t={};e=(e.g&&2<=Qo(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!Jr(e[n])){var r=$i(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<u.indexOf("Unknown SID")?(this.o=3,xa(12)):(this.o=0,xa(13)),Ka(this),Ga(this)}}}catch(t){}},Cr.mb=function(){if(this.g){var e=Qo(this.g),t=this.g.ja();this.C<t.length&&(Wa(this),Va(this,e,t),this.i&&4!=e&&qa(this))}},Cr.cancel=function(){this.J=!0,Ka(this)},Cr.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(ga(),xa(17)),Ka(this),this.o=2,Ga(this)):Ha(this,this.Y-e)};var $a=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xa(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Xa){this.h=e.h,Za(this,e.j),this.s=e.s,this.g=e.g,eo(this,e.m),this.l=e.l;var t=e.i,n=new ho;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),to(this,n),this.o=e.o}else e&&(t=String(e).match($a))?(this.h=!1,Za(this,t[1]||"",!0),this.s=io(t[2]||""),this.g=io(t[3]||"",!0),eo(this,t[4]),this.l=io(t[5]||"",!0),to(this,t[6]||"",!0),this.o=io(t[7]||"")):(this.h=!1,this.i=new ho(null,this.h))}function Ja(e){return new Xa(e)}function Za(e,t,n){e.j=n?io(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function eo(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function to(e,t,n){t instanceof ho?(e.i=t,function(e,t){t&&!e.j&&(po(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(vo(this,t),yo(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ao(t,lo)),e.i=new ho(t,e.h))}function no(e,t,n){e.i.set(t,n)}function ro(e){return no(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function io(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ao(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,oo),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function oo(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Xa.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ao(t,uo,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ao(t,uo,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ao(n,"/"==n.charAt(0)?co:so,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ao(n,fo)),e.join("")};var uo=/[#\/\?@]/g,so=/[#\?:]/g,co=/[#\?]/g,lo=/[#\?@]/g,fo=/#/g;function ho(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function po(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function vo(e,t){po(e),t=go(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function mo(e,t){return po(e),t=go(e,t),e.g.has(t)}function yo(e,t,n){vo(e,t),0<n.length&&(e.i=null,e.g.set(go(e,t),Qr(n)),e.h+=n.length)}function go(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Cr=ho.prototype).add=function(e,t){po(this),this.i=null,e=go(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Cr.forEach=function(e,t){po(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Cr.ta=function(){po(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Cr.Z=function(e){po(this);var t=[];if("string"===typeof e)mo(this,e)&&(t=t.concat(this.g.get(go(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Cr.set=function(e,t){return po(this),this.i=null,mo(this,e=go(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Cr.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Cr.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var bo=w((function e(t,n){b(this,e),this.g=t,this.map=n}));function xo(e){this.l=e||wo,Rr.PerformanceNavigationTiming?e=0<(e=Rr.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Rr.g&&Rr.g.Ka&&Rr.g.Ka()&&Rr.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var wo=10;function ko(e){return!!e.h||!!e.g&&e.g.size>=e.j}function _o(e){return e.h?1:e.g?e.g.size:0}function So(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Eo(e,t){e.g?e.g.add(t):e.h=t}function To(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Io(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=A(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return Qr(e.i)}xo.prototype.cancel=function(){if(this.i=Io(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=A(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var jo=function(){function e(){b(this,e)}return w(e,[{key:"stringify",value:function(e){return Rr.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return Rr.JSON.parse(e,void 0)}}]),e}();function Oo(){this.g=new jo}function No(e,t,n){var r=n||"";try{Ya(e,(function(e,n){var i=e;Fr(e)&&(i=Hi(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ao(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(jO){}}function Co(e){this.l=e.fc||null,this.j=e.ob||!1}function Po(e,t){Vi.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Do,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Wr(Co,Ea),Co.prototype.g=function(){return new Po(this.l,this.j)},Co.prototype.i=function(e){return function(){return e}}({}),Wr(Po,Vi);var Do=0;function Mo(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Ro(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Lo(e)}function Lo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Cr=Po.prototype).open=function(e,t){if(this.readyState!=Do)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Lo(this)},Cr.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Rr).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Cr.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ro(this)),this.readyState=Do},Cr.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Lo(this)),this.g&&(this.readyState=3,Lo(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Rr.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Mo(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Cr.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ro(this):Lo(this),3==this.readyState&&Mo(this)}},Cr.Za=function(e){this.g&&(this.response=this.responseText=e,Ro(this))},Cr.Ya=function(e){this.g&&(this.response=e,Ro(this))},Cr.ka=function(){this.g&&Ro(this)},Cr.setRequestHeader=function(e,t){this.v.append(e,t)},Cr.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Cr.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Po.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Fo=Rr.JSON.parse;function Bo(e){Vi.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Uo,this.L=this.M=!1}Wr(Bo,Vi);var Uo="",Vo=/^https?$/i,zo=["POST","PUT"];function qo(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ho(e),Go(e)}function Ho(e){e.F||(e.F=!0,zi(e,"complete"),zi(e,"error"))}function Wo(e){if(e.h&&"undefined"!=typeof Mr&&(!e.C[1]||4!=Qo(e)||2!=e.da()))if(e.v&&4==Qo(e))aa(e.La,0,e);else if(zi(e,"readystatechange"),4==Qo(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match($a)[1]||null;!a&&Rr.self&&Rr.self.location&&(a=Rr.self.location.protocol.slice(0,-1)),i=!Vo.test(a?a.toLowerCase():"")}t=i}if(t)zi(e,"complete"),zi(e,"success");else{e.m=6;try{var o=2<Qo(e)?e.g.statusText:""}catch(wO){o=""}e.j=o+" ["+e.da()+"]",Ho(e)}}finally{Go(e)}}}function Go(e,t){if(e.g){Ko(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||zi(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Ko(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Rr.clearTimeout(e.A),e.A=null)}function Qo(e){return e.g?e.g.readyState:0}function Yo(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Uo:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(es){return null}}function $o(e){var t="";return ki(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Xo(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=$o(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):no(e,t,n))}function Jo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Zo(e){this.Ga=0,this.j=[],this.l=new da,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Jo("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Jo("baseRetryDelayMs",5e3,e),this.hb=Jo("retryDelaySeedMs",1e4,e),this.eb=Jo("forwardChannelMaxRetries",2,e),this.xa=Jo("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new xo(e&&e.concurrentRequestLimit),this.Ja=new Oo,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function eu(e){if(nu(e),3==e.H){var t=e.W++,n=Ja(e.I);if(no(n,"SID",e.K),no(n,"RID",t),no(n,"TYPE","terminate"),au(e,n),(t=new Pa(e,e.l,t)).L=2,t.v=ro(Ja(n)),n=!1,Rr.navigator&&Rr.navigator.sendBeacon)try{n=Rr.navigator.sendBeacon(t.v.toString(),"")}catch(DO){}!n&&Rr.Image&&((new Image).src=t.v,n=!0),n||(t.g=yu(t.l,null),t.g.ha(t.v)),t.G=Date.now(),qa(t)}vu(e)}function tu(e){e.g&&(cu(e),e.g.cancel(),e.g=null)}function nu(e){tu(e),e.u&&(Rr.clearTimeout(e.u),e.u=null),fu(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Rr.clearTimeout(e.m),e.m=null)}function ru(e){if(!ko(e.i)&&!e.m){e.m=!0;var t=e.Na;Ji||ta(),Zi||(Ji(),Zi=!0),ea.add(t,e),e.C=0}}function iu(e,t){var n;n=t?t.m:e.W++;var r=Ja(e.I);no(r,"SID",e.K),no(r,"RID",n),no(r,"AID",e.V),au(e,r),e.o&&e.s&&Xo(r,e.o,e.s),n=new Pa(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=ou(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Eo(e.i,n),Fa(n,r,t)}function au(e,t){e.na&&ki(e.na,(function(e,n){no(t,n,e)})),e.h&&Ya({},(function(e,n){no(t,n,e)}))}function ou(e,t,n){n=Math.min(e.j.length,n);var r=e.h?qr(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].g,l=i[s].map;if(0>(c-=a))a=Math.max(0,i[s].g-100),u=!1;else try{No(l,o,"req"+c+"_")}catch(fs){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function uu(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Ji||ta(),Zi||(Ji(),Zi=!0),ea.add(t,e),e.A=0}}function su(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=ka(qr(e.Ma,e),hu(e,e.A)),e.A++,!0)}function cu(e){null!=e.B&&(Rr.clearTimeout(e.B),e.B=null)}function lu(e){e.g=new Pa(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Ja(e.wa);no(t,"RID","rpc"),no(t,"SID",e.K),no(t,"AID",e.V),no(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&no(t,"TO",e.qa),no(t,"TYPE","xmlhttp"),au(e,t),e.o&&e.s&&Xo(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=ro(Ja(t)),n.s=null,n.S=!0,Ba(n,e)}function fu(e){null!=e.v&&(Rr.clearTimeout(e.v),e.v=null)}function du(e,t){var n=null;if(e.g==t){fu(e),cu(e),e.g=null;var r=2}else{if(!So(e.i,t))return;n=t.F,To(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;zi(r=ma(),new wa(r,n)),ru(e)}else uu(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(_o(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=ka(qr(e.Na,e,t),hu(e,e.C)),e.C++,!0))}(e,t)||2==r&&su(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:pu(e,5);break;case 4:pu(e,10);break;case 3:pu(e,6);break;default:pu(e,2)}}function hu(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function pu(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=qr(e.pb,e);n||(n=new Xa("//www.google.com/images/cleardot.gif"),Rr.location&&"http"==Rr.location.protocol||Za(n,"https"),ro(n)),function(e,t){var n=new da;if(Rr.Image){var r=new Image;r.onload=Hr(Ao,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Hr(Ao,n,r,"TestLoadImage: error",!1,t),r.onabort=Hr(Ao,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Hr(Ao,n,r,"TestLoadImage: timeout",!1,t),Rr.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else xa(2);e.H=0,e.h&&e.h.za(t),vu(e),nu(e)}function vu(e){if(e.H=0,e.ma=[],e.h){var t=Io(e.i);0==t.length&&0==e.j.length||(Yr(e.ma,t),Yr(e.ma,e.j),e.i.i.length=0,Qr(e.j),e.j.length=0),e.h.ya()}}function mu(e,t,n){var r=n instanceof Xa?Ja(n):new Xa(n);if(""!=r.g)t&&(r.g=t+"."+r.g),eo(r,r.m);else{var i=Rr.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Xa(null);r&&Za(a,r),t&&(a.g=t),i&&eo(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&no(r,n,t),no(r,"VER",e.ra),au(e,r),r}function yu(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Bo(new Co({ob:!0})):new Bo(e.va)).Oa(e.J),t}function gu(){}function bu(){if(ai&&!(10<=Number(vi)))throw Error("Environmental error: no available transport.")}function xu(e,t){Vi.call(this),this.g=new Zo(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Jr(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Jr(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new _u(this)}function wu(e){Na.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ku(){Aa.call(this),this.status=1}function _u(e){this.g=e}function Su(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Eu(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Tu(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Cr=Bo.prototype).Oa=function(e){this.M=e},Cr.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ja.g(),this.C=this.u?Ta(this.u):Ta(ja),this.g.onreadystatechange=qr(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){return void qo(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=A(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(h){o.e(h)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Rr.FormData&&e instanceof Rr.FormData,!(0<=Kr(zo,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=A(n);try{for(c.s();!(s=c.n()).done;){var l=m(s.value,2),f=l[0],d=l[1];this.g.setRequestHeader(f,d)}}catch(h){c.e(h)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ko(this),0<this.B&&((this.L=function(e){return ai&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qr(this.ua,this)):this.A=aa(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){qo(this,u)}},Cr.ua=function(){"undefined"!=typeof Mr&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zi(this,"timeout"),this.abort(8))},Cr.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,zi(this,"complete"),zi(this,"abort"),Go(this))},Cr.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Go(this,!0)),Bo.$.N.call(this)},Cr.La=function(){this.s||(this.G||this.v||this.l?Wo(this):this.kb())},Cr.kb=function(){Wo(this)},Cr.isActive=function(){return!!this.g},Cr.da=function(){try{return 2<Qo(this)?this.g.status:-1}catch(IO){return-1}},Cr.ja=function(){try{return this.g?this.g.responseText:""}catch(IO){return""}},Cr.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Fo(t)}},Cr.Ia=function(){return this.m},Cr.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Cr=Zo.prototype).ra=8,Cr.H=1,Cr.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Pa(this,this.l,e),n=this.s;if(this.U&&(n?Ei(n=_i(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=ou(this,t,r),no(i=Ja(this.I),"RID",e),no(i,"CVER",22),this.F&&no(i,"X-HTTP-Session-Id",this.F),au(this,i),n&&(this.O?r="headers="+encodeURIComponent(String($o(n)))+"&"+r:this.o&&Xo(i,this.o,n)),Eo(this.i,t),this.bb&&no(i,"TYPE","init"),this.P?(no(i,"$req",r),no(i,"SID","null"),t.aa=!0,Fa(t,i,null)):Fa(t,i,r),this.H=2}}else 3==this.H&&(e?iu(this,e):0==this.j.length||ko(this.i)||iu(this))},Cr.Ma=function(){if(this.u=null,lu(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=ka(qr(this.jb,this),e)}},Cr.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,xa(10),tu(this),lu(this))},Cr.ib=function(){null!=this.v&&(this.v=null,tu(this),su(this),xa(19))},Cr.pb=function(e){e?(this.l.info("Successfully pinged google.com"),xa(2)):(this.l.info("Failed to ping google.com"),xa(1))},Cr.isActive=function(){return!!this.h&&this.h.isActive(this)},(Cr=gu.prototype).Ba=function(){},Cr.Aa=function(){},Cr.za=function(){},Cr.ya=function(){},Cr.isActive=function(){return!0},Cr.Va=function(){},bu.prototype.g=function(e,t){return new xu(e,t)},Wr(xu,Vi),xu.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;xa(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=mu(e,null,e.Y),ru(e)},xu.prototype.close=function(){eu(this.g)},xu.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Hi(e),e=n);t.j.push(new bo(t.fb++,e)),3==t.H&&ru(t)},xu.prototype.N=function(){this.g.h=null,delete this.j,eu(this.g),delete this.g,xu.$.N.call(this)},Wr(wu,Na),Wr(ku,Aa),Wr(_u,gu),_u.prototype.Ba=function(){zi(this.g,"a")},_u.prototype.Aa=function(e){zi(this.g,new wu(e))},_u.prototype.za=function(e){zi(this.g,new ku)},_u.prototype.ya=function(){zi(this.g,"b")},Wr(Su,(function(){this.blockSize=-1})),Su.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Su.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Eu(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Eu(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Eu(this,r),i=0;break}}this.h=i,this.i+=t},Su.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Iu={};function ju(e){return-128<=e&&128>e?function(e,t){var n=Iu;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Tu([0|e],0>e?-1:0)})):new Tu([0|e],0>e?-1:0)}function Ou(e){if(isNaN(e)||!isFinite(e))return Au;if(0>e)return Ru(Ou(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Nu;return new Tu(t,0)}var Nu=4294967296,Au=ju(0),Cu=ju(1),Pu=ju(16777216);function Du(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Mu(e){return-1==e.h}function Ru(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Tu(n,~e.h).add(Cu)}function Lu(e,t){return e.add(Ru(t))}function Fu(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Bu(e,t){this.g=e,this.h=t}function Uu(e,t){if(Du(t))throw Error("division by zero");if(Du(e))return new Bu(Au,Au);if(Mu(e))return t=Uu(Ru(e),t),new Bu(Ru(t.g),Ru(t.h));if(Mu(t))return t=Uu(e,Ru(t)),new Bu(Ru(t.g),t.h);if(30<e.g.length){if(Mu(e)||Mu(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Cu,r=t;0>=r.X(e);)n=Vu(n),r=Vu(r);var i=zu(n,1),a=zu(r,1);for(r=zu(r,2),n=zu(n,2);!Du(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=zu(r,1),n=zu(n,1)}return t=Lu(e,i.R(t)),new Bu(i,t)}for(i=Au;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Ou(n)).R(t);Mu(o)||0<o.X(e);)o=(a=Ou(n-=r)).R(t);Du(a)&&(a=Cu),i=i.add(a),e=Lu(e,o)}return new Bu(i,e)}function Vu(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Tu(n,e.h)}function zu(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Tu(i,e.h)}(Cr=Tu.prototype).ea=function(){if(Mu(this))return-Ru(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Nu+r)*t,t*=Nu}return e},Cr.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Du(this))return"0";if(Mu(this))return"-"+Ru(this).toString(e);for(var t=Ou(Math.pow(e,6)),n=this,r="";;){var i=Uu(n,t).g,a=((0<(n=Lu(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Du(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Cr.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Cr.X=function(e){return Mu(e=Lu(this,e))?-1:Du(e)?0:1},Cr.abs=function(){return Mu(this)?Ru(this):this},Cr.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Tu(n,-2147483648&n[n.length-1]?-1:0)},Cr.R=function(e){if(Du(this)||Du(e))return Au;if(Mu(this))return Mu(e)?Ru(this).R(Ru(e)):Ru(Ru(this).R(e));if(Mu(e))return Ru(this.R(Ru(e)));if(0>this.X(Pu)&&0>e.X(Pu))return Ou(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),u=e.D(i)>>>16,s=65535&e.D(i);n[2*r+2*i]+=o*s,Fu(n,2*r+2*i),n[2*r+2*i+1]+=a*s,Fu(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,Fu(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,Fu(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Tu(n,0)},Cr.gb=function(e){return Uu(this,e).h},Cr.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Tu(n,this.h&e.h)},Cr.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Tu(n,this.h|e.h)},Cr.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Tu(n,this.h^e.h)},bu.prototype.createWebChannel=bu.prototype.g,xu.prototype.send=xu.prototype.u,xu.prototype.open=xu.prototype.m,xu.prototype.close=xu.prototype.close,_a.NO_ERROR=0,_a.TIMEOUT=8,_a.HTTP_ERROR=6,Sa.COMPLETE="complete",Ia.EventType=Oa,Oa.OPEN="a",Oa.CLOSE="b",Oa.ERROR="c",Oa.MESSAGE="d",Vi.prototype.listen=Vi.prototype.O,Bo.prototype.listenOnce=Bo.prototype.P,Bo.prototype.getLastError=Bo.prototype.Sa,Bo.prototype.getLastErrorCode=Bo.prototype.Ia,Bo.prototype.getStatus=Bo.prototype.da,Bo.prototype.getResponseJson=Bo.prototype.Wa,Bo.prototype.getResponseText=Bo.prototype.ja,Bo.prototype.send=Bo.prototype.ha,Bo.prototype.setWithCredentials=Bo.prototype.Oa,Su.prototype.digest=Su.prototype.l,Su.prototype.reset=Su.prototype.reset,Su.prototype.update=Su.prototype.j,Tu.prototype.add=Tu.prototype.add,Tu.prototype.multiply=Tu.prototype.R,Tu.prototype.modulo=Tu.prototype.gb,Tu.prototype.compare=Tu.prototype.X,Tu.prototype.toNumber=Tu.prototype.ea,Tu.prototype.toString=Tu.prototype.toString,Tu.prototype.getBits=Tu.prototype.D,Tu.fromNumber=Ou,Tu.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Ru(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Ou(Math.pow(n,8)),i=Au,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+o),n);8>o?(o=Ou(Math.pow(n,o)),i=i.R(o).add(Ou(u))):i=(i=i.R(r)).add(Ou(u))}return i};var qu=Dr.createWebChannelTransport=function(){return new bu},Hu=Dr.getStatEventTarget=function(){return ma()},Wu=Dr.ErrorCode=_a,Gu=Dr.EventType=Sa,Ku=Dr.Event=pa,Qu=Dr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Yu=Dr.FetchXmlHttpFactory=Co,$u=Dr.WebChannel=Ia,Xu=Dr.XhrIo=Bo,Ju=Dr.Md5=Su,Zu=Dr.Integer=Tu,es="@firebase/firestore",ts=function(){function e(t){b(this,e),this.uid=t}return w(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();ts.UNAUTHENTICATED=new ts(null),ts.GOOGLE_CREDENTIALS=new ts("google-credentials-uid"),ts.FIRST_PARTY=new ts("first-party-uid"),ts.MOCK_USER=new ts("mock-user");var ns="9.22.2",rs=new vn("@firebase/firestore");function is(){return rs.logLevel}function as(e){if(rs.logLevel<=sn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ss);rs.debug.apply(rs,["Firestore (".concat(ns,"): ").concat(e)].concat(g(i)))}}function os(e){if(rs.logLevel<=sn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ss);rs.error.apply(rs,["Firestore (".concat(ns,"): ").concat(e)].concat(g(i)))}}function us(e){if(rs.logLevel<=sn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ss);rs.warn.apply(rs,["Firestore (".concat(ns,"): ").concat(e)].concat(g(i)))}}function ss(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function cs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(ns,") INTERNAL ASSERTION FAILED: ")+e;throw os(t),new Error(t)}function ls(e,t){e||cs()}function fs(e,t){return e}var ds={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},hs=function(e){_(n,e);var t=I(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return w(n)}(Ut),ps=w((function e(){var t=this;b(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),vs=w((function e(t,n){b(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),ms=function(){function e(){b(this,e)}return w(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ts.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),ys=function(){function e(t){b(this,e),this.token=t,this.changeListener=null}return w(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),gs=function(){function e(t){b(this,e),this.t=t,this.currentUser=ts.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return w(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new ps;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new ps,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(nn(en().mark((function e(){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){as("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(as("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ps)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(as("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ls("string"==typeof n.accessToken),new vs(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return ls(null===e||"string"==typeof e),new ts(e)}}]),e}(),bs=function(){function e(t,n,r){b(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=ts.FIRST_PARTY,this.g=new Map}return w(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),xs=function(){function e(t,n,r){b(this,e),this.h=t,this.l=n,this.m=r}return w(e,[{key:"getToken",value:function(){return Promise.resolve(new bs(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ts.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),ws=w((function e(t){b(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),ks=function(){function e(t){b(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return w(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&as("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,as("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){as("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):as("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(ls("string"==typeof t.token),e.T=t.token,new ws(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function _s(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Ss=function(){function e(){b(this,e)}return w(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=_s(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function Es(e,t){return e<t?-1:e>t?1:0}function Ts(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Is(e){return e+"\0"}var js=function(){function e(t,n){if(b(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new hs(ds.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new hs(ds.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new hs(ds.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new hs(ds.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return w(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Es(this.nanoseconds,e.nanoseconds):Es(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Os=function(){function e(t){b(this,e),this.timestamp=t}return w(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new js(0,0))}},{key:"max",value:function(){return new e(new js(253402300799,999999999))}}]),e}(),Ns=function(){function e(t,n,r){b(this,e),void 0===n?n=0:n>t.length&&cs(),void 0===r?r=t.length-n:r>t.length-n&&cs(),this.segments=t,this.offset=n,this.len=r}return w(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),As=function(e){_(n,e);var t=I(n);function n(){return b(this,n),t.apply(this,arguments)}return w(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new hs(ds.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,g(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ns),Cs=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ps=function(e){_(n,e);var t=I(n);function n(){return b(this,n),t.apply(this,arguments)}return w(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Cs.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new hs(ds.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new hs(ds.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new hs(ds.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new hs(ds.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ns),Ds=function(){function e(t){b(this,e),this.path=t}return w(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===As.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(As.fromString(t))}},{key:"fromName",value:function(t){return new e(As.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(As.emptyPath())}},{key:"comparator",value:function(e,t){return As.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new As(t.slice()))}}]),e}(),Ms=w((function e(t,n,r,i){b(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Rs(e){return e.fields.find((function(e){return 2===e.kind}))}function Ls(e){return e.fields.filter((function(e){return 2!==e.kind}))}Ms.UNKNOWN_ID=-1;var Fs=w((function e(t,n){b(this,e),this.fieldPath=t,this.kind=n}));var Bs=function(){function e(t,n){b(this,e),this.sequenceNumber=t,this.offset=n}return w(e,null,[{key:"empty",value:function(){return new e(0,zs.min())}}]),e}();function Us(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Os.fromTimestamp(1e9===r?new js(n+1,0):new js(n,r));return new zs(i,Ds.empty(),t)}function Vs(e){return new zs(e.readTime,e.key,-1)}var zs=function(){function e(t,n,r){b(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return w(e,null,[{key:"min",value:function(){return new e(Os.min(),Ds.empty(),-1)}},{key:"max",value:function(){return new e(Os.max(),Ds.empty(),-1)}}]),e}();function qs(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Ds.comparator(e.documentKey,t.documentKey))?n:Es(e.largestBatchId,t.largestBatchId)}var Hs="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ws=function(){function e(){b(this,e),this.onCommittedListeners=[]}return w(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Gs(e){return Ks.apply(this,arguments)}function Ks(){return Ks=nn(en().mark((function e(t){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===ds.FAILED_PRECONDITION&&t.message===Hs){e.next=2;break}throw t;case 2:as("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Ks.apply(this,arguments)}var Qs=function(){function e(t){var n=this;b(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return w(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&cs(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=A(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Ys=function(){function e(t,n){var r=this;b(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.v=new ps,this.transaction.oncomplete=function(){r.v.resolve()},this.transaction.onabort=function(){n.error?r.v.reject(new Js(t,n.error)):r.v.resolve()},this.transaction.onerror=function(e){var n=rc(e.target.error);r.v.reject(new Js(t,n))}}return w(e,[{key:"R",get:function(){return this.v.promise}},{key:"abort",value:function(e){e&&this.v.reject(e),this.aborted||(as("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new ec(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Js(n,t)}}}]),e}(),$s=function(){function e(t,n,r){b(this,e),this.name=t,this.version=n,this.V=r,12.2===e.S(Dt())&&os("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return w(e,[{key:"$",value:function(){var e=nn(en().mark((function e(t){var n=this;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return as("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Js(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new hs(ds.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new hs(ds.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Js(t,n))},i.onupgradeneeded=function(e){as("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.O(t,i.transaction,e.oldVersion,n.version).next((function(){as("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=nn(en().mark((function e(t,n,r,i){var a,o,u,s,c=this;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=en().mark((function e(){var n,u,s,l;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.$(t);case 4:return c.db=e.sent,n=Ys.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.P(),e})).catch((function(e){return n.abort(e),Qs.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.R;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,as("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return as("SimpleDb","Removing database:",e),tc(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!Bt())return!1;if(e.C())return!0;var t=Dt(),n=e.S(t),r=0<n&&n<10,i=e.N(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/HRMS-Web-App",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyD9nDmpauEzggx4tqALcWBcK1jMzvi7rzI",REACT_APP_FIREBASE_APP_ID:"1:921196746710:web:0b01e4a4250b49fb2cb677",REACT_APP_FIREBASE_AUTH_DOMAIN:"hrms-e4806.firebaseapp.com;",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-M5CM3RL67T",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"921196746710",REACT_APP_FIREBASE_PROJECT_ID:"hrms-e4806",REACT_APP_FIREBASE_STORAGE_BUCKET:"hrms-e4806.appspot.com"})||void 0===e?void 0:e.k)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Xs=function(){function e(t){b(this,e),this.L=t,this.q=!1,this.U=null}return w(e,[{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}},{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return tc(this.L.delete())}}]),e}(),Js=function(e){_(n,e);var t=I(n);function n(e,r){var i;return b(this,n),(i=t.call(this,ds.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return w(n)}(hs);function Zs(e){return"IndexedDbTransactionError"===e.name}var ec=function(){function e(t){b(this,e),this.store=t}return w(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(as("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(as("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),tc(n)}},{key:"add",value:function(e){return as("SimpleDb","ADD",this.store.name,e,e),tc(this.store.add(e))}},{key:"get",value:function(e){var t=this;return tc(this.store.get(e)).next((function(n){return void 0===n&&(n=null),as("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return as("SimpleDb","DELETE",this.store.name,e),tc(this.store.delete(e))}},{key:"count",value:function(){return as("SimpleDb","COUNT",this.store.name),tc(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Qs((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Qs((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){as("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new Qs((function(n,r){t.onerror=function(e){var t=rc(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"W",value:function(e,t){var n=[];return new Qs((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Xs(i),o=t(i.primaryKey,i.value,a);if(o instanceof Qs){var u=o.catch((function(e){return a.done(),Qs.reject(e)}));n.push(u)}a.isDone?r():null===a.K?i.continue():i.continue(a.K)}else r()}})).next((function(){return Qs.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function tc(e){return new Qs((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=rc(e.target.error);n(t)}}))}var nc=!1;function rc(e){var t=$s.S(Dt());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new hs("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return nc||(nc=!0,setTimeout((function(){throw r}),0)),r}}return e}var ic=function(){function e(t,n){b(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return w(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"et",value:function(e){var t=this;as("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,nn(en().mark((function e(){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=as,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Zs(e.t4)){e.next=17;break}as("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Gs(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),ac=function(){function e(t,n){b(this,e),this.localStore=t,this.persistence=n}return w(e,[{key:"nt",value:function(){var e=nn(en().mark((function e(){var t,n=this,r=arguments;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.st(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Qs.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return as("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.rt(i,n)})).next((function(n){return as("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Vs(t);qs(r,n)>0&&(n=r)})),new zs(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),oc=function(){function e(t,n){var r=this;b(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return w(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function uc(e){return null==e}function sc(e){return 0===e&&1/e==-1/0}function cc(e){return"number"==typeof e&&Number.isInteger(e)&&!sc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function lc(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=dc(t)),t=fc(e.get(n),t);return dc(t)}function fc(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function dc(e){return e+"\x01\x01"}function hc(e){var t=e.length;if(ls(t>=2),2===t)return ls("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),As.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&cs(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:cs()}a=o+2}return new As(r)}oc.ct=-1;var pc=["userId","batchId"];function vc(e,t){return[e,lc(t)]}function mc(e,t,n){return[e,lc(t),n]}var yc={},gc=["prefixPath","collectionGroup","readTime","documentId"],bc=["prefixPath","collectionGroup","documentId"],xc=["collectionGroup","readTime","prefixPath","documentId"],wc=["canonicalId","targetId"],kc=["targetId","path"],_c=["path","targetId"],Sc=["collectionId","parent"],Ec=["indexId","uid"],Tc=["uid","sequenceNumber"],Ic=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],jc=["indexId","uid","orderedDocumentKey"],Oc=["userId","collectionPath","documentId"],Nc=["userId","collectionPath","largestBatchId"],Ac=["userId","collectionGroup","largestBatchId"],Cc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Pc=[].concat(g(Cc),["documentOverlays"]),Dc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Mc=Dc,Rc=[].concat(Mc,["indexConfiguration","indexState","indexEntries"]),Lc=function(e){_(n,e);var t=I(n);function n(e,r){var i;return b(this,n),(i=t.call(this)).ht=e,i.currentSequenceNumber=r,i}return w(n)}(Ws);function Fc(e,t){var n=fs(e);return $s.M(n.ht,t)}function Bc(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Uc(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Vc(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var zc=function(){function e(t,n){b(this,e),this.comparator=t,this.root=n||Hc.EMPTY}return w(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Hc.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Hc.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new qc(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new qc(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new qc(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new qc(this.root,e,this.comparator,!0)}}]),e}(),qc=function(){function e(t,n,r,i){b(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return w(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Hc=function(){function e(t,n,r,i,a){b(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return w(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw cs();if(this.right.isRed())throw cs();var e=this.left.check();if(e!==this.right.check())throw cs();return e+(this.isRed()?0:1)}}]),e}();Hc.EMPTY=null,Hc.RED=!0,Hc.BLACK=!1,Hc.EMPTY=new(function(){function e(){b(this,e),this.size=0}return w(e,[{key:"key",get:function(){throw cs()}},{key:"value",get:function(){throw cs()}},{key:"color",get:function(){throw cs()}},{key:"left",get:function(){throw cs()}},{key:"right",get:function(){throw cs()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Hc(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Wc=function(){function e(t){b(this,e),this.comparator=t,this.data=new zc(this.comparator)}return w(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Gc(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Gc(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Gc=function(){function e(t){b(this,e),this.iter=t}return w(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Kc(e){return e.hasNext()?e.getNext():void 0}var Qc=function(){function e(t){b(this,e),this.fields=t,t.sort(Ps.comparator)}return w(e,[{key:"unionWith",value:function(t){var n,r=new Wc(Ps.comparator),i=A(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=A(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=A(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Ts(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Yc=function(e){_(n,e);var t=I(n);function n(){var e;return b(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return w(n)}(O(Error));var $c=function(e){function t(e){b(this,t),this.binaryString=e}return w(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Es(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Yc("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();$c.EMPTY_BYTE_STRING=new $c("");var Xc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jc(e){if(ls(!!e),"string"==typeof e){var t=0,n=Xc.exec(e);if(ls(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Zc(e.seconds),nanos:Zc(e.nanos)}}function Zc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function el(e){return"string"==typeof e?$c.fromBase64String(e):$c.fromUint8Array(e)}function tl(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function nl(e){var t=e.mapValue.fields.__previous_value__;return tl(t)?nl(t):t}function rl(e){var t=Jc(e.mapValue.fields.__local_write_time__.timestampValue);return new js(t.seconds,t.nanos)}var il=w((function e(t,n,r,i,a,o,u,s,c){b(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=s,this.useFetchStreams=c})),al=function(){function e(t,n){b(this,e),this.projectId=t,this.database=n||"(default)"}return w(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),ol={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ul={nullValue:"NULL_VALUE"};function sl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?tl(e)?4:kl(e)?9007199254740991:10:cs()}function cl(e,t){if(e===t)return!0;var n=sl(e);if(n!==sl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return rl(e).isEqual(rl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Jc(e.timestampValue),r=Jc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return el(e.bytesValue).isEqual(el(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Zc(e.geoPointValue.latitude)===Zc(t.geoPointValue.latitude)&&Zc(e.geoPointValue.longitude)===Zc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Zc(e.integerValue)===Zc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Zc(e.doubleValue),r=Zc(t.doubleValue);return n===r?sc(n)===sc(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ts(e.arrayValue.values||[],t.arrayValue.values||[],cl);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Bc(n)!==Bc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!cl(n[i],r[i])))return!1;return!0}(e,t);default:return cs()}}function ll(e,t){return void 0!==(e.values||[]).find((function(e){return cl(e,t)}))}function fl(e,t){if(e===t)return 0;var n=sl(e),r=sl(t);if(n!==r)return Es(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Es(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Zc(e.integerValue||e.doubleValue),r=Zc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return dl(e.timestampValue,t.timestampValue);case 4:return dl(rl(e),rl(t));case 5:return Es(e.stringValue,t.stringValue);case 6:return function(e,t){var n=el(e),r=el(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Es(n[i],r[i]);if(0!==a)return a}return Es(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Es(Zc(e.latitude),Zc(t.latitude));return 0!==n?n:Es(Zc(e.longitude),Zc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=fl(n[i],r[i]);if(a)return a}return Es(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===ol.mapValue&&t===ol.mapValue)return 0;if(e===ol.mapValue)return 1;if(t===ol.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Es(r[o],a[o]);if(0!==u)return u;var s=fl(n[r[o]],i[a[o]]);if(0!==s)return s}return Es(r.length,a.length)}(e.mapValue,t.mapValue);default:throw cs()}}function dl(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Es(e,t);var n=Jc(e),r=Jc(t),i=Es(n.seconds,r.seconds);return 0!==i?i:Es(n.nanos,r.nanos)}function hl(e){return pl(e)}function pl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Jc(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?el(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ds.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=A(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=pl(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=A(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(pl(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):cs();var t,n}function vl(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function ml(e){return!!e&&"integerValue"in e}function yl(e){return!!e&&"arrayValue"in e}function gl(e){return!!e&&"nullValue"in e}function bl(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function xl(e){return!!e&&"mapValue"in e}function wl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Uc(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=wl(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=wl(e.arrayValue.values[r]);return n}return Object.assign({},e)}function kl(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function _l(e){return"nullValue"in e?ul:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?vl(al.empty(),Ds.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:cs()}function Sl(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?vl(al.empty(),Ds.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?ol:cs()}function El(e,t){var n=fl(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Tl(e,t){var n=fl(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Il=function(){function e(t){b(this,e),this.value=t}return w(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!xl(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wl(t)}},{key:"setAll",value:function(e){var t=this,n=Ps.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=wl(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());xl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return cl(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];xl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Uc(t,(function(t,n){return e[t]=n}));var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(wl(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function jl(e){var t=[];return Uc(e.fields,(function(e,n){var r=new Ps([e]);if(xl(n)){var i=jl(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=A(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Qc(t)}var Ol=function(){function e(t,n,r,i,a,o,u){b(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return w(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Os.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Il.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Il.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Os.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Os.min(),Os.min(),Os.min(),Il.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Os.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Os.min(),Os.min(),Il.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Os.min(),Os.min(),Il.empty(),2)}}]),e}(),Nl=w((function e(t,n){b(this,e),this.position=t,this.inclusive=n}));function Al(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Ds.comparator(Ds.fromName(o.referenceValue),n.key):fl(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Cl(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!cl(e.position[n],t.position[n]))return!1;return!0}var Pl=w((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";b(this,e),this.field=t,this.dir=n}));function Dl(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Ml=w((function e(){b(this,e)})),Rl=function(e){_(n,e);var t=I(n);function n(e,r,i){var a;return b(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return w(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(fl(t,this.value)):null!==t&&sl(this.value)===sl(t)&&this.matchesComparison(fl(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return cs()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Gl(e,t,r):"array-contains"===t?new $l(e,r):"in"===t?new Xl(e,r):"not-in"===t?new Jl(e,r):"array-contains-any"===t?new Zl(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Kl(e,n):new Ql(e,n)}}]),n}(Ml),Ll=function(e){_(n,e);var t=I(n);function n(e,r){var i;return b(this,n),(i=t.call(this)).filters=e,i.op=r,i.lt=null,i}return w(n,[{key:"matches",value:function(e){return Fl(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.lt||(this.lt=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.lt}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.ft((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"ft",value:function(e){var t,n=A(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Ml);function Fl(e){return"and"===e.op}function Bl(e){return"or"===e.op}function Ul(e){return Vl(e)&&Fl(e)}function Vl(e){var t,n=A(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Ll)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function zl(e){if(e instanceof Rl)return e.field.canonicalString()+e.op.toString()+hl(e.value);if(Ul(e))return e.filters.map((function(e){return zl(e)})).join(",");var t=e.filters.map((function(e){return zl(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function ql(e,t){return e instanceof Rl?function(e,t){return t instanceof Rl&&e.op===t.op&&e.field.isEqual(t.field)&&cl(e.value,t.value)}(e,t):e instanceof Ll?function(e,t){return t instanceof Ll&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&ql(n,t.filters[r])}),!0)}(e,t):void cs()}function Hl(e,t){var n=e.filters.concat(t);return Ll.create(n,e.op)}function Wl(e){return e instanceof Rl?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(hl(e.value))}(e):e instanceof Ll?function(e){return e.op.toString()+" {"+e.getFilters().map(Wl).join(" ,")+"}"}(e):"Filter"}var Gl=function(e){_(n,e);var t=I(n);function n(e,r,i){var a;return b(this,n),(a=t.call(this,e,r,i)).key=Ds.fromName(i.referenceValue),a}return w(n,[{key:"matches",value:function(e){var t=Ds.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Rl),Kl=function(e){_(n,e);var t=I(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e,"in",r)).keys=Yl("in",r),i}return w(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Rl),Ql=function(e){_(n,e);var t=I(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e,"not-in",r)).keys=Yl("not-in",r),i}return w(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Rl);function Yl(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Ds.fromName(e.referenceValue)}))}var $l=function(e){_(n,e);var t=I(n);function n(e,r){return b(this,n),t.call(this,e,"array-contains",r)}return w(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return yl(t)&&ll(t.arrayValue,this.value)}}]),n}(Rl),Xl=function(e){_(n,e);var t=I(n);function n(e,r){return b(this,n),t.call(this,e,"in",r)}return w(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&ll(this.value.arrayValue,t)}}]),n}(Rl),Jl=function(e){_(n,e);var t=I(n);function n(e,r){return b(this,n),t.call(this,e,"not-in",r)}return w(n,[{key:"matches",value:function(e){if(ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!ll(this.value.arrayValue,t)}}]),n}(Rl),Zl=function(e){_(n,e);var t=I(n);function n(e,r){return b(this,n),t.call(this,e,"array-contains-any",r)}return w(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!yl(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return ll(t.value.arrayValue,e)}))}}]),n}(Rl),ef=w((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;b(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.dt=null}));function tf(e){return new ef(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function nf(e){var t=fs(e);if(null===t.dt){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return zl(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),uc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return hl(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return hl(e)})).join(",")),t.dt=n}return t.dt}function rf(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Dl(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!ql(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Cl(e.startAt,t.startAt)&&Cl(e.endAt,t.endAt)}function af(e){return Ds.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function of(e,t){return e.filters.filter((function(e){return e instanceof Rl&&e.field.isEqual(t)}))}function uf(e,t,n){var r,i=ul,a=!0,o=A(of(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=ul,c=!0;switch(u.op){case"<":case"<=":s=_l(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=ul}El({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];El({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function sf(e,t,n){var r,i=ol,a=!0,o=A(of(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=ol,c=!0;switch(u.op){case">=":case">":s=Sl(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=ol}Tl({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Tl({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var cf=w((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;b(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.wt=null,this._t=null,this.startAt,this.endAt}));function lf(e,t,n,r,i,a,o,u){return new cf(e,t,n,r,i,a,o,u)}function ff(e){return new cf(e)}function df(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function hf(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function pf(e){var t,n=A(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function vf(e){return null!==e.collectionGroup}function mf(e){var t=fs(e);if(null===t.wt){t.wt=[];var n=pf(t),r=hf(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new Pl(n)),t.wt.push(new Pl(Ps.keyField(),"asc"));else{var i,a=!1,o=A(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.wt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Pl(Ps.keyField(),s))}}}return t.wt}function yf(e){var t=fs(e);if(!t._t)if("F"===t.limitType)t._t=tf(t.path,t.collectionGroup,mf(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=A(mf(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Pl(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Nl(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Nl(t.startAt.position,t.startAt.inclusive):null;t._t=tf(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t._t}function gf(e,t){t.getFirstInequalityField(),pf(e);var n=e.filters.concat([t]);return new cf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function bf(e,t,n){return new cf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function xf(e,t){return rf(yf(e),yf(t))&&e.limitType===t.limitType}function wf(e){return"".concat(nf(yf(e)),"|lt:").concat(e.limitType)}function kf(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Wl(e)})).join(", "),"]")),uc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return hl(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return hl(e)})).join(",")),"Target(".concat(t,")")}(yf(e)),"; limitType=").concat(e.limitType,")")}function _f(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ds.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=A(mf(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=A(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Al(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,mf(e),t))&&!(e.endAt&&!function(e,t,n){var r=Al(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,mf(e),t))}(e,t)}function Sf(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ef(e){return function(t,n){var r,i=!1,a=A(mf(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Tf(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Tf(e,t,n){var r=e.field.isKeyField()?Ds.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?fl(r,i):cs()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return cs()}}var If=function(){function e(t,n){b(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return w(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=m(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Uc(this.inner,(function(t,n){var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=m(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Vc(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),jf=new zc(Ds.comparator);function Of(){return jf}var Nf=new zc(Ds.comparator);function Af(){for(var e=Nf,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Cf(e){var t=Nf;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Pf(){return Mf()}function Df(){return Mf()}function Mf(){return new If((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Rf=new zc(Ds.comparator),Lf=new Wc(Ds.comparator);function Ff(){for(var e=Lf,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Bf=new Wc(Es);function Uf(){return Bf}function Vf(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sc(t)?"-0":t}}function zf(e){return{integerValue:""+e}}function qf(e,t){return cc(t)?zf(t):Vf(e,t)}var Hf=w((function e(){b(this,e),this._=void 0}));function Wf(e,t,n){return e instanceof Qf?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&tl(t)&&(t=nl(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Yf?$f(e,t):e instanceof Xf?Jf(e,t):function(e,t){var n=Kf(e,t),r=ed(n)+ed(e.gt);return ml(n)&&ml(e.gt)?zf(r):Vf(e.serializer,r)}(e,t)}function Gf(e,t,n){return e instanceof Yf?$f(e,t):e instanceof Xf?Jf(e,t):n}function Kf(e,t){return e instanceof Zf?ml(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Qf=function(e){_(n,e);var t=I(n);function n(){return b(this,n),t.apply(this,arguments)}return w(n)}(Hf),Yf=function(e){_(n,e);var t=I(n);function n(e){var r;return b(this,n),(r=t.call(this)).elements=e,r}return w(n)}(Hf);function $f(e,t){var n,r=td(t),i=A(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return cl(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Xf=function(e){_(n,e);var t=I(n);function n(e){var r;return b(this,n),(r=t.call(this)).elements=e,r}return w(n)}(Hf);function Jf(e,t){var n,r=td(t),i=A(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!cl(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Zf=function(e){_(n,e);var t=I(n);function n(e,r){var i;return b(this,n),(i=t.call(this)).serializer=e,i.gt=r,i}return w(n)}(Hf);function ed(e){return Zc(e.integerValue||e.doubleValue)}function td(e){return yl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var nd=w((function e(t,n){b(this,e),this.field=t,this.transform=n}));var rd=w((function e(t,n){b(this,e),this.version=t,this.transformResults=n})),id=function(){function e(t,n){b(this,e),this.updateTime=t,this.exists=n}return w(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function ad(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var od=w((function e(){b(this,e)}));function ud(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new bd(e.key,id.none()):new dd(e.key,e.data,id.none());var n,r=e.data,i=Il.empty(),a=new Wc(Ps.comparator),o=A(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new hd(e.key,i,new Qc(a.toArray()),id.none())}function sd(e,t,n){e instanceof dd?function(e,t,n){var r=e.value.clone(),i=vd(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof hd?function(e,t,n){if(ad(e.precondition,t)){var r=vd(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(pd(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function cd(e,t,n,r){return e instanceof dd?function(e,t,n,r){if(!ad(e.precondition,t))return n;var i=e.value.clone(),a=md(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof hd?function(e,t,n,r){if(!ad(e.precondition,t))return n;var i=md(e.fieldTransforms,r,t),a=t.data;return a.setAll(pd(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return ad(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ld(e,t){var n,r=null,i=A(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Kf(a.transform,o||null);null!=u&&(null===r&&(r=Il.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function fd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ts(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Yf&&t instanceof Yf||e instanceof Xf&&t instanceof Xf?Ts(e.elements,t.elements,cl):e instanceof Zf&&t instanceof Zf?cl(e.gt,t.gt):e instanceof Qf&&t instanceof Qf}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var dd=function(e){_(n,e);var t=I(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return b(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return w(n,[{key:"getFieldMask",value:function(){return null}}]),n}(od),hd=function(e){_(n,e);var t=I(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return b(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return w(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(od);function pd(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function vd(e,t,n){var r=new Map;ls(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Gf(o,u,n[i]))}return r}function md(e,t,n){var r,i=new Map,a=A(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Wf(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var yd,gd,bd=function(e){_(n,e);var t=I(n);function n(e,r){var i;return b(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return w(n,[{key:"getFieldMask",value:function(){return null}}]),n}(od),xd=function(e){_(n,e);var t=I(n);function n(e,r){var i;return b(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return w(n,[{key:"getFieldMask",value:function(){return null}}]),n}(od),wd=function(){function e(t,n,r,i){b(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return w(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&sd(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=A(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=cd(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=A(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=cd(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Df();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=ud(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Os.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ff())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Ts(this.mutations,e.mutations,(function(e,t){return fd(e,t)}))&&Ts(this.baseMutations,e.baseMutations,(function(e,t){return fd(e,t)}))}}]),e}(),kd=function(){function e(t,n,r,i){b(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return w(e,null,[{key:"from",value:function(t,n,r){ls(t.mutations.length===r.length);for(var i=Rf,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),_d=function(){function e(t,n){b(this,e),this.largestBatchId=t,this.mutation=n}return w(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Sd=w((function e(t,n){b(this,e),this.count=t,this.unchangedNames=n}));function Ed(e){switch(e){default:return cs();case ds.CANCELLED:case ds.UNKNOWN:case ds.DEADLINE_EXCEEDED:case ds.RESOURCE_EXHAUSTED:case ds.INTERNAL:case ds.UNAVAILABLE:case ds.UNAUTHENTICATED:return!1;case ds.INVALID_ARGUMENT:case ds.NOT_FOUND:case ds.ALREADY_EXISTS:case ds.PERMISSION_DENIED:case ds.FAILED_PRECONDITION:case ds.ABORTED:case ds.OUT_OF_RANGE:case ds.UNIMPLEMENTED:case ds.DATA_LOSS:return!0}}function Td(e){if(void 0===e)return os("GRPC error has no .code"),ds.UNKNOWN;switch(e){case yd.OK:return ds.OK;case yd.CANCELLED:return ds.CANCELLED;case yd.UNKNOWN:return ds.UNKNOWN;case yd.DEADLINE_EXCEEDED:return ds.DEADLINE_EXCEEDED;case yd.RESOURCE_EXHAUSTED:return ds.RESOURCE_EXHAUSTED;case yd.INTERNAL:return ds.INTERNAL;case yd.UNAVAILABLE:return ds.UNAVAILABLE;case yd.UNAUTHENTICATED:return ds.UNAUTHENTICATED;case yd.INVALID_ARGUMENT:return ds.INVALID_ARGUMENT;case yd.NOT_FOUND:return ds.NOT_FOUND;case yd.ALREADY_EXISTS:return ds.ALREADY_EXISTS;case yd.PERMISSION_DENIED:return ds.PERMISSION_DENIED;case yd.FAILED_PRECONDITION:return ds.FAILED_PRECONDITION;case yd.ABORTED:return ds.ABORTED;case yd.OUT_OF_RANGE:return ds.OUT_OF_RANGE;case yd.UNIMPLEMENTED:return ds.UNIMPLEMENTED;case yd.DATA_LOSS:return ds.DATA_LOSS;default:return cs()}}(gd=yd||(yd={}))[gd.OK=0]="OK",gd[gd.CANCELLED=1]="CANCELLED",gd[gd.UNKNOWN=2]="UNKNOWN",gd[gd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gd[gd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gd[gd.NOT_FOUND=5]="NOT_FOUND",gd[gd.ALREADY_EXISTS=6]="ALREADY_EXISTS",gd[gd.PERMISSION_DENIED=7]="PERMISSION_DENIED",gd[gd.UNAUTHENTICATED=16]="UNAUTHENTICATED",gd[gd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gd[gd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gd[gd.ABORTED=10]="ABORTED",gd[gd.OUT_OF_RANGE=11]="OUT_OF_RANGE",gd[gd.UNIMPLEMENTED=12]="UNIMPLEMENTED",gd[gd.INTERNAL=13]="INTERNAL",gd[gd.UNAVAILABLE=14]="UNAVAILABLE",gd[gd.DATA_LOSS=15]="DATA_LOSS";var Id=function(){function e(){b(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return w(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return jd}},{key:"getOrCreateInstance",value:function(){return null===jd&&(jd=new e),jd}}]),e}(),jd=null;function Od(){return new TextEncoder}var Nd=new Zu([4294967295,4294967295],0);function Ad(e){var t=Od().encode(e),n=new Ju;return n.update(t),new Uint8Array(n.digest())}function Cd(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Zu([n,r],0),new Zu([i,a],0)]}var Pd=function(){function e(t,n,r){if(b(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Dd("Invalid padding: ".concat(n));if(r<0)throw new Dd("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new Dd("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new Dd("Invalid padding when bitmap length is 0: ".concat(n));this.It=8*t.length-n,this.Tt=Zu.fromNumber(this.It)}return w(e,[{key:"Et",value:function(e,t,n){var r=e.add(t.multiply(Zu.fromNumber(n)));return 1===r.compare(Nd)&&(r=new Zu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}},{key:"At",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"vt",value:function(e){if(0===this.It)return!1;for(var t=m(Cd(Ad(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);if(!this.At(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.It)for(var t=m(Cd(Ad(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);this.Rt(a)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),Dd=function(e){_(n,e);var t=I(n);function n(){var e;return b(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return w(n)}(O(Error)),Md=function(){function e(t,n,r,i,a){b(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return w(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Rd.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Os.min(),i,new zc(Es),Of(),Ff())}}]),e}(),Rd=function(){function e(t,n,r,i,a){b(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return w(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Ff(),Ff(),Ff())}}]),e}(),Ld=w((function e(t,n,r,i){b(this,e),this.Pt=t,this.removedTargetIds=n,this.key=r,this.bt=i})),Fd=w((function e(t,n){b(this,e),this.targetId=t,this.Vt=n})),Bd=w((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$c.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;b(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Ud=function(){function e(){b(this,e),this.St=0,this.Dt=qd(),this.Ct=$c.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}return w(e,[{key:"current",get:function(){return this.xt}},{key:"resumeToken",get:function(){return this.Ct}},{key:"kt",get:function(){return 0!==this.St}},{key:"Mt",get:function(){return this.Nt}},{key:"$t",value:function(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}},{key:"Ot",value:function(){var e=Ff(),t=Ff(),n=Ff();return this.Dt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:cs()}})),new Rd(this.Ct,this.xt,e,t,n)}},{key:"Ft",value:function(){this.Nt=!1,this.Dt=qd()}},{key:"Bt",value:function(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}},{key:"Lt",value:function(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}},{key:"qt",value:function(){this.St+=1}},{key:"Ut",value:function(){this.St-=1}},{key:"Kt",value:function(){this.Nt=!0,this.xt=!0}}]),e}(),Vd=function(){function e(t){b(this,e),this.Gt=t,this.Qt=new Map,this.jt=Of(),this.zt=zd(),this.Wt=new zc(Es)}return w(e,[{key:"Ht",value:function(e){var t,n=A(e.Pt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.bt&&e.bt.isFoundDocument()?this.Jt(r,e.bt):this.Yt(r,e.key,e.bt)}}catch(u){n.e(u)}finally{n.f()}var i,a=A(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Yt(o,e.key,e.bt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Xt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Zt(n);switch(e.state){case 0:t.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||t.removeTarget(n);break;case 3:t.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:t.te(n)&&(t.ee(n),r.$t(e.resumeToken));break;default:cs()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((function(e,r){n.te(r)&&t(r)}))}},{key:"ne",value:function(e){var t,n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){var a=i.target;if(af(a))if(0===r){var o=new Ds(a.path);this.Yt(n,o,Ol.newNoDocument(o,Os.min()))}else ls(1===r);else{var u=this.ie(n);if(u!==r){var s=this.re(e,u);if(0!==s){this.ee(n);var c=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,c)}null===(t=Id.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,u,s,c={localCacheCount:t,existenceFilterCount:n.count},l=n.unchangedNames;return l&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==l?void 0:l.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(s=null===(u=null==l?void 0:l.bits)||void 0===u?void 0:u.padding)&&void 0!==s?s:0}),c}(s,u,e.Vt))}}}}},{key:"re",value:function(e,t){var n=e.Vt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var a,o,u=r.bits,s=u.bitmap,c=void 0===s?"":s,l=u.padding,f=void 0===l?0:l,d=r.hashCount,h=void 0===d?0:d;try{a=el(c).toUint8Array()}catch(e){if(e instanceof Yc)return us("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{o=new Pd(a,f,h)}catch(e){return us(e instanceof Dd?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===o.It?1:i!==t-this.oe(e.targetId,o)?2:0}},{key:"oe",value:function(e,t){var n=this,r=this.Gt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var a=n.Gt.ue(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());t.vt(o)||(n.Yt(e,r,null),i++)})),i}},{key:"ce",value:function(e){var t=this,n=new Map;this.Qt.forEach((function(r,i){var a=t.se(i);if(a){if(r.current&&af(a.target)){var o=new Ds(a.target.path);null!==t.jt.get(o)||t.ae(i,o)||t.Yt(i,o,Ol.newNoDocument(o,e))}r.Mt&&(n.set(i,r.Ot()),r.Ft())}}));var r=Ff();this.zt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.se(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.jt.forEach((function(t,n){return n.setReadTime(e)}));var i=new Md(e,n,this.Wt,this.jt,r);return this.jt=Of(),this.zt=zd(),this.Wt=new zc(Es),i}},{key:"Jt",value:function(e,t){if(this.te(e)){var n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}}},{key:"Yt",value:function(e,t,n){if(this.te(e)){var r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qt.delete(e)}},{key:"ie",value:function(e){var t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"qt",value:function(e){this.Zt(e).qt()}},{key:"Zt",value:function(e){var t=this.Qt.get(e);return t||(t=new Ud,this.Qt.set(e,t)),t}},{key:"he",value:function(e){var t=this.zt.get(e);return t||(t=new Wc(Es),this.zt=this.zt.insert(e,t)),t}},{key:"te",value:function(e){var t=null!==this.se(e);return t||as("WatchChangeAggregator","Detected inactive target",e),t}},{key:"se",value:function(e){var t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}},{key:"ee",value:function(e){var t=this;this.Qt.set(e,new Ud),this.Gt.getRemoteKeysForTarget(e).forEach((function(n){t.Yt(e,n,null)}))}},{key:"ae",value:function(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}]),e}();function zd(){return new zc(Ds.comparator)}function qd(){return new zc(Ds.comparator)}var Hd={asc:"ASCENDING",desc:"DESCENDING"},Wd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gd={and:"AND",or:"OR"},Kd=w((function e(t,n){b(this,e),this.databaseId=t,this.useProto3Json=n}));function Qd(e,t){return e.useProto3Json||uc(t)?t:{value:t}}function Yd(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function $d(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Xd(e,t){return Yd(e,t.toTimestamp())}function Jd(e){return ls(!!e),Os.fromTimestamp(function(e){var t=Jc(e);return new js(t.seconds,t.nanos)}(e))}function Zd(e,t){return function(e){return new As(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function eh(e){var t=As.fromString(e);return ls(_h(t)),t}function th(e,t){return Zd(e.databaseId,t.path)}function nh(e,t){var n=eh(t);if(n.get(1)!==e.databaseId.projectId)throw new hs(ds.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new hs(ds.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ds(oh(n))}function rh(e,t){return Zd(e.databaseId,t)}function ih(e){var t=eh(e);return 4===t.length?As.emptyPath():oh(t)}function ah(e){return new As(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function oh(e){return ls(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function uh(e,t,n){return{name:th(e,t),fields:n.value.mapValue.fields}}function sh(e,t,n){var r=nh(e,t.name),i=Jd(t.updateTime),a=t.createTime?Jd(t.createTime):Os.min(),o=new Il({mapValue:{fields:t.fields}}),u=Ol.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function ch(e,t){return"found"in t?function(e,t){ls(!!t.found),t.found.name,t.found.updateTime;var n=nh(e,t.found.name),r=Jd(t.found.updateTime),i=t.found.createTime?Jd(t.found.createTime):Os.min(),a=new Il({mapValue:{fields:t.found.fields}});return Ol.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){ls(!!t.missing),ls(!!t.readTime);var n=nh(e,t.missing),r=Jd(t.readTime);return Ol.newNoDocument(n,r)}(e,t):cs()}function lh(e,t){var n;if(t instanceof dd)n={update:uh(e,t.key,t.value)};else if(t instanceof bd)n={delete:th(e,t.key)};else if(t instanceof hd)n={update:uh(e,t.key,t.data),updateMask:kh(t.fieldMask)};else{if(!(t instanceof xd))return cs();n={verify:th(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Qf)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Yf)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Xf)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Zf)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw cs()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Xd(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:cs()}(e,t.precondition)),n}function fh(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?id.updateTime(Jd(e.updateTime)):void 0!==e.exists?id.exists(e.exists):id.none()}(t.currentDocument):id.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)ls("REQUEST_TIME"===t.setToServerValue),n=new Qf;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Yf(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Xf(i)}else"increment"in t?n=new Zf(e,t.increment):cs();var a=Ps.fromServerFormat(t.fieldPath);return new nd(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=nh(e,t.update.name),a=new Il({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Qc(t.map((function(e){return Ps.fromServerFormat(e)})))}(t.updateMask);return new hd(i,a,o,n,r)}return new dd(i,a,n,r)}if(t.delete){var u=nh(e,t.delete);return new bd(u,n)}if(t.verify){var s=nh(e,t.verify);return new xd(s,n)}return cs()}function dh(e,t){return{documents:[rh(e,t.path)]}}function hh(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=rh(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=rh(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return wh(Ll.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:bh(e.field),direction:mh(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=Qd(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function ph(e){var t=ih(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ls(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=vh(e);return t instanceof Ll&&Ul(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Pl(xh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return uc(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Nl(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Nl(n,t)}(n.endAt)),lf(t,i,u,o,s,"F",c,l)}function vh(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=xh(e.unaryFilter.field);return Rl.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=xh(e.unaryFilter.field);return Rl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=xh(e.unaryFilter.field);return Rl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=xh(e.unaryFilter.field);return Rl.create(i,"!=",{nullValue:"NULL_VALUE"});default:return cs()}}(e):void 0!==e.fieldFilter?function(e){return Rl.create(xh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return cs()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ll.create(e.compositeFilter.filters.map((function(e){return vh(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return cs()}}(e.compositeFilter.op))}(e):cs()}function mh(e){return Hd[e]}function yh(e){return Wd[e]}function gh(e){return Gd[e]}function bh(e){return{fieldPath:e.canonicalString()}}function xh(e){return Ps.fromServerFormat(e.fieldPath)}function wh(e){return e instanceof Rl?function(e){if("=="===e.op){if(bl(e.value))return{unaryFilter:{field:bh(e.field),op:"IS_NAN"}};if(gl(e.value))return{unaryFilter:{field:bh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(bl(e.value))return{unaryFilter:{field:bh(e.field),op:"IS_NOT_NAN"}};if(gl(e.value))return{unaryFilter:{field:bh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bh(e.field),op:yh(e.op),value:e.value}}}(e):e instanceof Ll?function(e){var t=e.getFilters().map((function(e){return wh(e)}));return 1===t.length?t[0]:{compositeFilter:{op:gh(e.op),filters:t}}}(e):cs()}function kh(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function _h(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Sh=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Os.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Os.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:$c.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;b(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=s}return w(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),Eh=w((function e(t){b(this,e),this.fe=t}));function Th(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ih(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:th(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Yd(e,t.version.toTimestamp()),createTime:Yd(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:jh(t.version)};else{if(!t.isUnknownDocument())return cs();r.unknownDocument={path:n.path.toArray(),version:jh(t.version)}}return r}function Ih(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function jh(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Oh(e){var t=new js(e.seconds,e.nanoseconds);return Os.fromTimestamp(t)}function Nh(e,t){for(var n=(t.baseMutations||[]).map((function(t){return fh(e.fe,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return fh(e.fe,t)})),u=js.fromMillis(t.localWriteTimeMs);return new wd(t.batchId,u,n,o)}function Ah(e){var t,n,r=Oh(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Oh(e.lastLimboFreeSnapshotVersion):Os.min();return void 0!==e.query.documents?(ls(1===(n=e.query).documents.length),t=yf(ff(ih(n.documents[0])))):t=function(e){return yf(ph(e))}(e.query),new Sh(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,i,$c.fromBase64String(e.resumeToken))}function Ch(e,t){var n,r=jh(t.snapshotVersion),i=jh(t.lastLimboFreeSnapshotVersion);n=af(t.target)?dh(e.fe,t.target):hh(e.fe,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:nf(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Ph(e){var t=ph({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?bf(t,t.limit,"L"):t}function Dh(e,t){return new _d(t.largestBatchId,fh(e.fe,t.overlayMutation))}function Mh(e,t){var n=t.path.lastSegment();return[e,lc(t.path.popLast()),n]}function Rh(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:jh(r.readTime),documentKey:lc(r.documentKey.path),largestBatchId:r.largestBatchId}}var Lh=function(){function e(){b(this,e)}return w(e,[{key:"getBundleMetadata",value:function(e,t){return Fh(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Oh(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Fh(e).put({bundleId:(n=t).id,createTime:jh(Jd(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Bh(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ph(t.bundledQuery),readTime:Oh(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Bh(e).put(function(e){return{name:e.name,readTime:jh(Jd(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Fh(e){return Fc(e,"bundles")}function Bh(e){return Fc(e,"namedQueries")}var Uh=function(){function e(t,n){b(this,e),this.serializer=t,this.userId=n}return w(e,[{key:"getOverlay",value:function(e,t){var n=this;return Vh(e).get(Mh(this.userId,t)).next((function(e){return e?Dh(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Pf();return Qs.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new _d(t,a);i.push(r.we(e,o))})),Qs.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(lc(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Vh(e).J("collectionPathOverlayIndex",i))})),Qs.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Pf(),a=lc(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Vh(e).j("collectionPathOverlayIndex",o).next((function(e){var t,n=A(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Dh(r.serializer,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Pf(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Vh(e).X({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Dh(a.serializer,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"we",value:function(e,t){return Vh(e).put(function(e,t,n){var r=m(Mh(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:lh(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"de",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Vh(e){return Fc(e,"documentOverlays")}var zh=function(){function e(){b(this,e)}return w(e,[{key:"_e",value:function(e,t){this.me(e,t),t.ge()}},{key:"me",value:function(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Zc(e.integerValue));else if("doubleValue"in e){var n=Zc(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),sc(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie("".concat(r.seconds||"")),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(el(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?kl(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):cs()}},{key:"Te",value:function(e,t){this.ye(t,25),this.be(e,t)}},{key:"be",value:function(e,t){t.Ie(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ye(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Te(a,t),this.me(n[a],t)}}},{key:"Pe",value:function(e,t){var n=e.values||[];this.ye(t,50);var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.me(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ve",value:function(e,t){var n=this;this.ye(t,37),Ds.fromName(e).path.forEach((function(e){n.ye(t,60),n.be(e,t)}))}},{key:"ye",value:function(e,t){e.pe(t)}},{key:"Ee",value:function(e){e.pe(2)}}]),e}();function qh(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Hh(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=qh(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}zh.Ve=new zh;var Wh=function(){function e(){b(this,e),this.buffer=new Uint8Array(1024),this.position=0}return w(e,[{key:"Se",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.De(n.value),n=t.next();this.Ce()}},{key:"xe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ne(n.value),n=t.next();this.ke()}},{key:"Me",value:function(e){var t,n=A(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{var a=r.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ce()}},{key:"$e",value:function(e){var t,n=A(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{var a=r.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ke()}},{key:"Oe",value:function(e){var t=this.Fe(e),n=Hh(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Le",value:function(e){var t=this.Fe(e),n=Hh(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"qe",value:function(){this.Ue(255),this.Ue(255)}},{key:"Ke",value:function(){this.Ge(255),this.Ge(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Qe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Fe",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"De",value:function(e){var t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}},{key:"Ne",value:function(e){var t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}},{key:"Ce",value:function(){this.Ue(0),this.Ue(1)}},{key:"ke",value:function(){this.Ge(0),this.Ge(1)}},{key:"Ue",value:function(e){this.Be(1),this.buffer[this.position++]=e}},{key:"Ge",value:function(e){this.Be(1),this.buffer[this.position++]=~e}},{key:"Be",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Gh=function(){function e(t){b(this,e),this.je=t}return w(e,[{key:"Ae",value:function(e){this.je.Se(e)}},{key:"Ie",value:function(e){this.je.Me(e)}},{key:"pe",value:function(e){this.je.Oe(e)}},{key:"ge",value:function(){this.je.qe()}}]),e}(),Kh=function(){function e(t){b(this,e),this.je=t}return w(e,[{key:"Ae",value:function(e){this.je.xe(e)}},{key:"Ie",value:function(e){this.je.$e(e)}},{key:"pe",value:function(e){this.je.Le(e)}},{key:"ge",value:function(){this.je.Ke()}}]),e}(),Qh=function(){function e(){b(this,e),this.je=new Wh,this.ze=new Gh(this.je),this.We=new Kh(this.je)}return w(e,[{key:"seed",value:function(e){this.je.seed(e)}},{key:"He",value:function(e){return 0===e?this.ze:this.We}},{key:"Qe",value:function(){return this.je.Qe()}},{key:"reset",value:function(){this.je.reset()}}]),e}(),Yh=function(){function e(t,n,r,i){b(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return w(e,[{key:"Je",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function $h(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Xh(e.arrayValue,t.arrayValue))?n:0!==(n=Xh(e.directionalValue,t.directionalValue))?n:Ds.comparator(e.documentKey,t.documentKey)}function Xh(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Jh=function(){function e(t){b(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];var n,r=A(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Ze=i:this.Xe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return w(e,[{key:"tn",value:function(e){ls(e.collectionGroup===this.collectionId);var t=Rs(e);if(void 0!==t&&!this.en(t))return!1;for(var n=Ls(e),r=new Set,i=0,a=0;i<n.length&&this.en(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){var o=n[i];if(!this.nn(this.Ze,o)||!this.sn(this.Ye[a++],o))return!1}++i}for(;i<n.length;++i){var u=n[i];if(a>=this.Ye.length||!this.sn(this.Ye[a++],u))return!1}return!0}},{key:"en",value:function(e){var t,n=A(this.Xe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.nn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"nn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"sn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function Zh(e){var t,n;if(ls(e instanceof Rl||e instanceof Ll),e instanceof Rl){if(e instanceof Xl){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return Rl.create(e.field,"==",t)})))||[];return Ll.create(r,"or")}return e}var i=e.filters.map((function(e){return Zh(e)}));return Ll.create(i,e.op)}function ep(e){if(0===e.getFilters().length)return[];var t=ip(Zh(e));return ls(rp(t)),tp(t)||np(t)?[t]:t.getFilters()}function tp(e){return e instanceof Rl}function np(e){return e instanceof Ll&&Ul(e)}function rp(e){return tp(e)||np(e)||function(e){if(e instanceof Ll&&Bl(e)){var t,n=A(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!tp(r)&&!np(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function ip(e){if(ls(e instanceof Rl||e instanceof Ll),e instanceof Rl)return e;if(1===e.filters.length)return ip(e.filters[0]);var t=e.filters.map((function(e){return ip(e)})),n=Ll.create(t,e.op);return rp(n=up(n))?n:(ls(n instanceof Ll),ls(Fl(n)),ls(n.filters.length>1),n.filters.reduce((function(e,t){return ap(e,t)})))}function ap(e,t){var n;return ls(e instanceof Rl||e instanceof Ll),ls(t instanceof Rl||t instanceof Ll),n=e instanceof Rl?t instanceof Rl?function(e,t){return Ll.create([e,t],"and")}(e,t):op(e,t):t instanceof Rl?op(t,e):function(e,t){if(ls(e.filters.length>0&&t.filters.length>0),Fl(e)&&Fl(t))return Hl(e,t.getFilters());var n=Bl(e)?e:t,r=Bl(e)?t:e,i=n.filters.map((function(e){return ap(e,r)}));return Ll.create(i,"or")}(e,t),up(n)}function op(e,t){if(Fl(t))return Hl(t,e.getFilters());var n=t.filters.map((function(t){return ap(e,t)}));return Ll.create(n,"or")}function up(e){if(ls(e instanceof Rl||e instanceof Ll),e instanceof Rl)return e;var t=e.getFilters();if(1===t.length)return up(t[0]);if(Vl(e))return e;var n=t.map((function(e){return up(e)})),r=[];return n.forEach((function(t){t instanceof Rl?r.push(t):t instanceof Ll&&(t.op===e.op?r.push.apply(r,g(t.filters)):r.push(t))})),1===r.length?r[0]:Ll.create(r,e.op)}var sp=function(){function e(){b(this,e),this.rn=new cp}return w(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.rn.add(t),Qs.resolve()}},{key:"getCollectionParents",value:function(e,t){return Qs.resolve(this.rn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Qs.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Qs.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Qs.resolve(null)}},{key:"getIndexType",value:function(e,t){return Qs.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Qs.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Qs.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Qs.resolve(zs.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Qs.resolve(zs.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Qs.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Qs.resolve()}}]),e}(),cp=function(){function e(){b(this,e),this.index={}}return w(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Wc(As.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Wc(As.comparator)).toArray()}}]),e}(),lp=new Uint8Array(0),fp=function(){function e(t,n){b(this,e),this.user=t,this.databaseId=n,this.on=new cp,this.un=new If((function(e){return nf(e)}),(function(e,t){return rf(e,t)})),this.uid=t.uid||""}return w(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.on.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.on.add(t)}));var a={collectionId:r,parent:lc(i)};return dp(e).put(a)}return Qs.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Is(t),""],!1,!0);return dp(e).j(r).next((function(e){var r,i=A(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(hc(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=pp(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=vp(e);return a.next((function(e){o.put(Rh(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=pp(e),r=vp(e),i=hp(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=hp(e),i=!0,a=new Map;return Qs.forEach(this.cn(t),(function(t){return n.an(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Ff(),o=[];return Qs.forEach(a,(function(i,a){var u;as("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(nf(t)));var s=function(e,t){var n=Rs(t);if(void 0===n)return null;var r,i=A(of(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=A(Ls(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=A(of(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=A(Ls(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?uf(e,o.fieldPath,e.startAt):sf(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Nl(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=A(Ls(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?sf(e,o.fieldPath,e.endAt):uf(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Nl(r,i)}(a,i),d=n.hn(i,a,l),h=n.hn(i,a,f),p=n.ln(i,a,c),v=n.fn(i.indexId,s,d,l.inclusive,h,f.inclusive,p);return Qs.forEach(v,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=Ds.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Qs.resolve(null)}))}},{key:"cn",value:function(e){var t=this.un.get(e);return t||(t=0===e.filters.length?[e]:ep(Ll.create(e.filters,"and")).map((function(t){return tf(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.un.set(e,t),t)}},{key:"fn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.dn(t[d/c]):lp,f=u.wn(e,s,n[d%c],r),h=u._n(e,s,i[d%c],a),p=o.map((function(t){return u.wn(e,s,t,!0)}));l.push.apply(l,g(u.createRange(f,h,p)))},d=0;d<s;++d)f();return l}},{key:"wn",value:function(e,t,n,r){var i=new Yh(e,Ds.empty(),t,n);return r?i:i.Je()}},{key:"_n",value:function(e,t,n,r){var i=new Yh(e,Ds.empty(),t,n);return r?i.Je():i}},{key:"an",value:function(e,t){var n=new Jh(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=A(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.tn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.cn(t);return Qs.forEach(i,(function(t){return n.an(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Wc(Ps.comparator),r=!1,i=A(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=A(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=A(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"mn",value:function(e,t){var n,r=new Qh,i=A(Ls(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.He(a.kind);zh.Ve._e(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Qe()}},{key:"dn",value:function(e){var t=new Qh;return zh.Ve._e(e,t.He(0)),t.Qe()}},{key:"gn",value:function(e,t){var n=new Qh;return zh.Ve._e(vl(this.databaseId,t),n.He(function(e){var t=Ls(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}},{key:"ln",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Qh);var i,a=0,o=A(Ls(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=A(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.yn(t,s.fieldPath)&&yl(c))r=this.pn(r,s,c);else{var d=f.He(s.kind);zh.Ve._e(c,d)}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){o.e(h)}finally{o.f()}return this.In(r)}},{key:"hn",value:function(e,t,n){return this.ln(e,t,n.position)}},{key:"In",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Qe();return t}},{key:"pn",value:function(e,t,n){var r,i=g(e),a=[],o=A(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=A(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Qh;f.seed(l.Qe()),zh.Ve._e(s,f.He(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"yn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Rl&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=pp(e),i=vp(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next((function(e){var t=[];return Qs.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Bs(t.sequenceNumber,new zs(Oh(t.readTime),new Ds(hc(t.documentKey)),t.largestBatchId)):Bs.empty(),r=e.fields.map((function(e){var t=m(e,2),n=t[0],r=t[1];return new Fs(Ps.fromServerFormat(n),r)}));return new Ms(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Es(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=pp(e),a=vp(e);return this.Tn(e).next((function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Qs.forEach(t,(function(t){return a.put(Rh(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Qs.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Qs.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Qs.forEach(a,(function(r){return n.En(e,t,r).next((function(t){var a=n.An(i,r);return t.isEqual(a)?Qs.resolve():n.vn(e,i,r,t,a)}))}))}))}))}},{key:"Rn",value:function(e,t,n,r){return hp(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Pn",value:function(e,t,n,r){return hp(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}},{key:"En",value:function(e,t,n){var r=hp(e),i=new Wc($h);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},(function(e,r){i=i.add(new Yh(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"An",value:function(e,t){var n=new Wc($h),r=this.mn(t,e);if(null==r)return n;var i=Rs(t);if(null!=i){var a=e.data.field(i.fieldPath);if(yl(a)){var o,u=A(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Yh(t.indexId,e.key,this.dn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Yh(t.indexId,e.key,lp,r));return n}},{key:"vn",value:function(e,t,n,r,i){var a=this;as("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Kc(a),s=Kc(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Kc(o)):l?(i(u),u=Kc(a)):(u=Kc(a),s=Kc(o))}}(r,i,$h,(function(r){o.push(a.Rn(e,t,n,r))}),(function(r){o.push(a.Pn(e,t,n,r))})),Qs.waitFor(o)}},{key:"Tn",value:function(e){var t=1;return vp(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return $h(e,t)})).filter((function(e,t,n){return!t||0!==$h(e,n[t-1])}));var r=[];r.push(e);var i,a=A(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=$h(o,e),s=$h(o,t);if(0===u)r[0]=e.Je();else if(u>0&&s<0)r.push(o),r.push(o.Je());else if(s>0)break}}catch(h){a.e(h)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,lp,[]],d=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,lp,[]];c.push(IDBKeyRange.bound(f,d))}return c}},{key:"bn",value:function(e,t){return $h(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(mp)}},{key:"getMinOffset",value:function(e,t){var n=this;return Qs.mapArray(this.cn(t),(function(t){return n.an(e,t).next((function(e){return e||cs()}))})).next(mp)}}]),e}();function dp(e){return Fc(e,"collectionParents")}function hp(e){return Fc(e,"indexEntries")}function pp(e){return Fc(e,"indexConfiguration")}function vp(e){return Fc(e,"indexState")}function mp(e){ls(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;qs(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new zs(t.readTime,t.documentKey,n)}var yp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gp=function(){function e(t,n,r){b(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return w(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function bp(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.X({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){ls(1===u)})));var c,l=[],f=A(n.mutations);try{for(f.s();!(c=f.n()).done;){var d=c.value,h=mc(t,d.key.path,n.batchId);a.push(i.delete(h)),l.push(d.key)}}catch(p){f.e(p)}finally{f.f()}return Qs.waitFor(a).next((function(){return l}))}function xp(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw cs();t=e.noDocument}return JSON.stringify(t).length}gp.DEFAULT_COLLECTION_PERCENTILE=10,gp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gp.DEFAULT=new gp(41943040,gp.DEFAULT_COLLECTION_PERCENTILE,gp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gp.DISABLED=new gp(-1,0,0);var wp=function(){function e(t,n,r,i){b(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}return w(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _p(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Sp(e),o=_p(e);return o.add({}).next((function(u){ls("number"==typeof u);var s,c=new wd(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return lh(e.fe,t)})),i=n.mutations.map((function(t){return lh(e.fe,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],d=new Wc((function(e,t){return Es(e.canonicalString(),t.canonicalString())})),h=A(r);try{for(h.s();!(s=h.n()).done;){var p=s.value,v=mc(i.userId,p.key.path,u);d=d.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,yc))}}catch(m){h.e(m)}finally{h.f()}return d.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Vn[u]=c.keys()})),Qs.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return _p(e).get(t).next((function(e){return e?(ls(e.userId===n.userId),Nh(n.serializer,e)):null}))}},{key:"Sn",value:function(e,t){var n=this;return this.Vn[t]?Qs.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Vn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return _p(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(ls(t.batchId>=r),a=Nh(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return _p(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _p(e).j("userMutationsIndex",n).next((function(e){return e.map((function(e){return Nh(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=vc(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Sp(e).X({range:i},(function(r,i,o){var u=m(r,3),s=u[0],c=u[1],l=u[2],f=hc(c);if(s===n.userId&&t.path.isEqual(f))return _p(e).get(l).next((function(e){if(!e)throw cs();ls(e.userId===n.userId),a.push(Nh(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Wc(Es),i=[];return t.forEach((function(t){var a=vc(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Sp(e).X({range:o},(function(e,i,a){var o=m(e,3),u=o[0],s=o[1],c=o[2],l=hc(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),Qs.waitFor(i).next((function(){return n.Dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=vc(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Wc(Es);return Sp(e).X({range:o},(function(e,t,a){var o=m(e,3),s=o[0],c=o[1],l=o[2],f=hc(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.Dn(e,u)}))}},{key:"Dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(_p(e).get(t).next((function(e){if(null===e)throw cs();ls(e.userId===n.userId),r.push(Nh(n.serializer,e))})))})),Qs.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return bp(e.ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Cn(t.batchId)})),Qs.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Cn",value:function(e){delete this.Vn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Qs.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Sp(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=hc(e[1]);i.push(a)}else r.done()})).next((function(){ls(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return kp(e,this.userId,t)}},{key:"xn",value:function(e){var t=this;return Ep(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"de",value:function(t,n,r,i){return ls(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function kp(e,t,n){var r=vc(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Sp(e).X({range:a,Y:!0},(function(e,n,r){var a=m(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function _p(e){return Fc(e,"mutations")}function Sp(e){return Fc(e,"documentMutations")}function Ep(e){return Fc(e,"mutationQueues")}var Tp=function(){function e(t){b(this,e),this.Nn=t}return w(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"kn",value:function(){return new e(0)}},{key:"Mn",value:function(){return new e(-1)}}]),e}(),Ip=function(){function e(t,n){b(this,e),this.referenceDelegate=t,this.serializer=n}return w(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.$n(e).next((function(n){var r=new Tp(n.highestTargetId);return n.highestTargetId=r.next(),t.On(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.$n(e).next((function(e){return Os.fromTimestamp(new js(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.$n(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.$n(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.On(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Fn(e,t).next((function(){return n.$n(e).next((function(r){return r.targetCount+=1,n.Bn(t,r),n.On(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Fn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return jp(e).delete(t.targetId)})).next((function(){return n.$n(e)})).next((function(t){return ls(t.targetCount>0),t.targetCount-=1,n.On(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return jp(e).X((function(o,u){var s=Ah(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Qs.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return jp(e).X((function(e,n){var r=Ah(n);t(r)}))}},{key:"$n",value:function(e){return Op(e).get("targetGlobalKey").next((function(e){return ls(null!==e),e}))}},{key:"On",value:function(e,t){return Op(e).put("targetGlobalKey",t)}},{key:"Fn",value:function(e,t){return jp(e).put(Ch(this.serializer,t))}},{key:"Bn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.$n(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=nf(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return jp(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Ah(n);rf(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Np(e);return t.forEach((function(t){var o=lc(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Qs.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Np(e);return Qs.forEach(t,(function(t){var a=lc(t.path);return Qs.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Np(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Np(e),i=Ff();return r.X({range:n,Y:!0},(function(e,t,n){var r=hc(e[1]),a=new Ds(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=lc(t.path),r=IDBKeyRange.bound([n],[Is(n)],!1,!0),i=0;return Np(e).X({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=m(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"le",value:function(e,t){return jp(e).get(t).next((function(e){return e?Ah(e):null}))}}]),e}();function jp(e){return Fc(e,"targets")}function Op(e){return Fc(e,"targetGlobal")}function Np(e){return Fc(e,"targetDocuments")}function Ap(e,t){var n=m(e,2),r=n[0],i=n[1],a=m(t,2),o=a[0],u=a[1],s=Es(r,o);return 0===s?Es(i,u):s}var Cp=function(){function e(t){b(this,e),this.Ln=t,this.buffer=new Wc(Ap),this.qn=0}return w(e,[{key:"Un",value:function(){return++this.qn}},{key:"Kn",value:function(e){var t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Ap(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Pp=function(){function e(t,n,r){b(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Gn=null}return w(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}},{key:"stop",value:function(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}},{key:"started",get:function(){return null!==this.Gn}},{key:"Qn",value:function(e){var t=this;as("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,nn(en().mark((function e(){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Gn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Zs(e.t0)){e.next=12;break}as("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Gs(e.t0);case 14:return e.next=16,t.Qn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Dp=function(){function e(t,n){b(this,e),this.jn=t,this.params=n}return w(e,[{key:"calculateTargetCount",value:function(e,t){return this.jn.zn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Qs.resolve(oc.ct);var r=new Cp(t);return this.jn.forEachTarget(e,(function(e){return r.Kn(e.sequenceNumber)})).next((function(){return n.jn.Wn(e,(function(e){return r.Kn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.jn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.jn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(as("LruGarbageCollector","Garbage collection skipped; disabled"),Qs.resolve(yp)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(as("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),yp):n.Hn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.jn.getCacheSize(e)}},{key:"Hn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(as("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),is()<=sn.DEBUG&&as("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Qs.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function Mp(e,t){return new Dp(e,t)}var Rp=function(){function e(t,n){b(this,e),this.db=t,this.garbageCollector=Mp(this,n)}return w(e,[{key:"zn",value:function(e){var t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Jn",value:function(e){var t=0;return this.Wn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Wn",value:function(e,t){return this.Yn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Lp(e,n)}},{key:"removeReference",value:function(e,t,n){return Lp(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Lp(e,t)}},{key:"Xn",value:function(e,t){return function(e,t){var n=!1;return Ep(e).Z((function(r){return kp(e,r,t).next((function(e){return e&&(n=!0),Qs.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Yn(e,(function(o,u){if(u<=t){var s=n.Xn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Os.min()),Np(e).delete([0,lc(o.path)])}))}));i.push(s)}})).next((function(){return Qs.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Lp(e,t)}},{key:"Yn",value:function(e,t){var n,r=Np(e),i=oc.ct;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=m(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==oc.ct&&t(new Ds(hc(n)),i),i=s,n=u):i=oc.ct})).next((function(){i!==oc.ct&&t(new Ds(hc(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Lp(e,t){return Np(e).put(function(e,t){return{targetId:0,path:lc(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Fp=function(){function e(){b(this,e),this.changes=new If((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return w(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Ol.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Qs.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Bp=function(){function e(t){b(this,e),this.serializer=t}return w(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return qp(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return qp(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Ih(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Zn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Ol.newInvalidDocument(t);return qp(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Hp(t))},(function(e,i){r=n.ts(t,i)})).next((function(){return r}))}},{key:"es",value:function(e,t){var n=this,r={size:0,document:Ol.newInvalidDocument(t)};return qp(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Hp(t))},(function(e,i){r={document:n.ts(t,i),size:xp(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Of();return this.ns(e,t,(function(e,t){var i=n.ts(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ss",value:function(e,t){var n=this,r=Of(),i=new zc(Ds.comparator);return this.ns(e,t,(function(e,t){var a=n.ts(e,t);r=r.insert(e,a),i=i.insert(e,xp(t))})).next((function(){return{documents:r,rs:i}}))}},{key:"ns",value:function(e,t,n){if(t.isEmpty())return Qs.resolve();var r=new Wc(Gp);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Hp(r.first()),Hp(r.last())),a=r.getIterator(),o=a.getNext();return qp(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Ds.fromSegments([].concat(g(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Gp(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.G(Hp(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),Ih(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return qp(e).j(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=Of(),o=A(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.ts(Ds.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(_f(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Of(),o=Wp(t,n),u=Wp(t,zs.max());return qp(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.ts(Ds.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Vp(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return zp(e).get("remoteDocumentGlobalKey").next((function(e){return ls(!!e),e}))}},{key:"Zn",value:function(e,t){return zp(e).put("remoteDocumentGlobalKey",t)}},{key:"ts",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=sh(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Ds.fromSegments(t.noDocument.path),i=Oh(t.noDocument.readTime);n=Ol.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return cs();var a=Ds.fromSegments(t.unknownDocument.path),o=Oh(t.unknownDocument.version);n=Ol.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new js(e[0],e[1]);return Os.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(Os.min()))return n}return Ol.newInvalidDocument(e)}}]),e}();function Up(e){return new Bp(e)}var Vp=function(e){_(n,e);var t=I(n);function n(e,r){var i;return b(this,n),(i=t.call(this)).os=e,i.trackRemovals=r,i.us=new If((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return w(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Wc((function(e,t){return Es(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.us.get(a);if(n.push(t.os.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Th(t.os.serializer,o);i=i.add(a.path.popLast());var c=xp(s);r+=c-u.size,n.push(t.os.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Th(t.os.serializer,o.convertToNoDocument(Os.min()));n.push(t.os.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.os.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.os.updateMetadata(e,r)),Qs.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.os.es(e,t).next((function(e){return n.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.os.ss(e,t).next((function(e){var t=e.documents;return e.rs.forEach((function(e,r){n.us.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Fp);function zp(e){return Fc(e,"remoteDocumentGlobal")}function qp(e){return Fc(e,"remoteDocumentsV14")}function Hp(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Wp(e,t){var n=t.documentKey.path.toArray();return[e,Ih(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Gp(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Es(n[a],r[a]))return i;return(i=Es(n.length,r.length))||((i=Es(n[n.length-2],r[r.length-2]))||Es(n[n.length-1],r[r.length-1]))}var Kp=w((function e(t,n){b(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Qp=function(){function e(t,n,r,i){b(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return w(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&cd(r.mutation,e,Qc.empty(),js.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Ff()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ff(),i=Pf();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Af();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Pf();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Ff())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Of(),a=Mf(),o=Mf();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof hd)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),cd(o.mutation,t,o.mutation.getFieldMask(),js.now())):a.set(t.key,Qc.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Kp(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Mf(),i=new zc((function(e,t){return e-t})),a=Ff();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=A(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Qc.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Ff()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Df();c.forEach((function(e){if(!a.has(e)){var n=ud(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Qs.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Ds.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vf(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Qs.resolve(Pf()),u=-1,s=a;return o.next((function(t){return Qs.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Qs.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Ff())})).next((function(e){return{batchId:u,changes:Cf(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Ds(t)).next((function(e){var t=Af();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Af();return this.indexManager.getCollectionParents(e,i).next((function(o){return Qs.forEach(o,(function(o){var u=function(e,t){return new cf(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Ol.newInvalidDocument(r)))}));var n=Af();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&cd(a.mutation,i,Qc.empty(),js.now()),_f(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),Yp=function(){function e(t){b(this,e),this.serializer=t,this.cs=new Map,this.hs=new Map}return w(e,[{key:"getBundleMetadata",value:function(e,t){return Qs.resolve(this.cs.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:Jd(n.createTime)}),Qs.resolve()}},{key:"getNamedQuery",value:function(e,t){return Qs.resolve(this.hs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Ph(e.bundledQuery),readTime:Jd(e.readTime)}}(t)),Qs.resolve()}}]),e}(),$p=function(){function e(){b(this,e),this.overlays=new zc(Ds.comparator),this.ls=new Map}return w(e,[{key:"getOverlay",value:function(e,t){return Qs.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Pf();return Qs.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.we(e,t,i)})),Qs.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ls.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ls.delete(n)),Qs.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Pf(),i=t.length+1,a=new Ds(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Qs.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new zc((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Pf(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Pf(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Qs.resolve(s)}},{key:"we",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new _d(t,n));var a=this.ls.get(t);void 0===a&&(a=Ff(),this.ls.set(t,a)),this.ls.set(t,a.add(n.key))}}]),e}(),Xp=function(){function e(){b(this,e),this.fs=new Wc(Jp.ds),this.ws=new Wc(Jp._s)}return w(e,[{key:"isEmpty",value:function(){return this.fs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Jp(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}},{key:"gs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ys(new Jp(e,t))}},{key:"ps",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Is",value:function(e){var t=this,n=new Ds(new As([])),r=new Jp(n,e),i=new Jp(n,e+1),a=[];return this.ws.forEachInRange([r,i],(function(e){t.ys(e),a.push(e.key)})),a}},{key:"Ts",value:function(){var e=this;this.fs.forEach((function(t){return e.ys(t)}))}},{key:"ys",value:function(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}},{key:"Es",value:function(e){var t=new Ds(new As([])),n=new Jp(t,e),r=new Jp(t,e+1),i=Ff();return this.ws.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Jp(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Jp=function(){function e(t,n){b(this,e),this.key=t,this.As=n}return w(e,null,[{key:"ds",value:function(e,t){return Ds.comparator(e.key,t.key)||Es(e.As,t.As)}},{key:"_s",value:function(e,t){return Es(e.As,t.As)||Ds.comparator(e.key,t.key)}}]),e}(),Zp=function(){function e(t,n){b(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Wc(Jp.ds)}return w(e,[{key:"checkEmpty",value:function(e){return Qs.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new wd(i,t,n,r);this.mutationQueue.push(a);var o,u=A(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Rs=this.Rs.add(new Jp(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Qs.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Qs.resolve(this.Ps(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.bs(n),i=r<0?0:r;return Qs.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Qs.resolve(0===this.mutationQueue.length?-1:this.vs-1)}},{key:"getAllMutationBatches",value:function(e){return Qs.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Jp(t,0),i=new Jp(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.Ps(e.As);a.push(t)})),Qs.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Wc(Es);return t.forEach((function(e){var t=new Jp(e,0),i=new Jp(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.As)}))})),Qs.resolve(this.Vs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Ds.isDocumentKey(i)||(i=i.child(""));var a=new Jp(new Ds(i),0),o=new Wc(Es);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)}),a),Qs.resolve(this.Vs(o))}},{key:"Vs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ps(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;ls(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return Qs.forEach(t.mutations,(function(i){var a=new Jp(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Jp(t,0),r=this.Rs.firstAfterOrEqual(n);return Qs.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Qs.resolve()}},{key:"Ss",value:function(e,t){return this.bs(e)}},{key:"bs",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Ps",value:function(e){var t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),ev=function(){function e(t){b(this,e),this.Ds=t,this.docs=new zc(Ds.comparator),this.size=0}return w(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Qs.resolve(n?n.document.mutableCopy():Ol.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Of();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Ol.newInvalidDocument(e))})),Qs.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Of(),a=t.path,o=new Ds(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||qs(Vs(l),n)<=0||(r.has(l.key)||_f(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Qs.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){cs()}},{key:"Cs",value:function(e,t){return Qs.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new tv(this)}},{key:"getSize",value:function(e){return Qs.resolve(this.size)}}]),e}(),tv=function(e){_(n,e);var t=I(n);function n(e){var r;return b(this,n),(r=t.call(this)).os=e,r}return w(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.os.addEntry(e,i)):t.os.removeEntry(r)})),Qs.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.os.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.os.getEntries(e,t)}}]),n}(Fp),nv=function(){function e(t){b(this,e),this.persistence=t,this.xs=new If((function(e){return nf(e)}),rf),this.lastRemoteSnapshotVersion=Os.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Xp,this.targetCount=0,this.Ms=Tp.kn()}return w(e,[{key:"forEachTarget",value:function(e,t){return this.xs.forEach((function(e,n){return t(n)})),Qs.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Qs.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Qs.resolve(this.Ns)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ms.next(),Qs.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Qs.resolve()}},{key:"Fn",value:function(e){this.xs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ms=new Tp(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Fn(t),this.targetCount+=1,Qs.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Fn(t),Qs.resolve()}},{key:"removeTargetData",value:function(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Qs.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.xs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.xs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Qs.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Qs.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.xs.get(t)||null;return Qs.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.ks.gs(t,n),Qs.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.ks.ps(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Qs.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.ks.Is(t),Qs.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.ks.Es(t);return Qs.resolve(n)}},{key:"containsKey",value:function(e,t){return Qs.resolve(this.ks.containsKey(t))}}]),e}(),rv=function(){function e(t,n){var r=this;b(this,e),this.$s={},this.overlays={},this.Os=new oc(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new nv(this),this.indexManager=new sp,this.remoteDocumentCache=new ev((function(e){return r.referenceDelegate.Ls(e)})),this.serializer=new Eh(n),this.qs=new Yp(this.serializer)}return w(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Fs=!1,Promise.resolve()}},{key:"started",get:function(){return this.Fs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new $p,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.$s[e.toKey()];return n||(n=new Zp(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;as("MemoryPersistence","Starting transaction:",e);var i=new iv(this.Os.next());return this.referenceDelegate.Us(),n(i).next((function(e){return r.referenceDelegate.Ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gs",value:function(e,t){return Qs.or(Object.values(this.$s).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),iv=function(e){_(n,e);var t=I(n);function n(e){var r;return b(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return w(n)}(Ws),av=function(){function e(t){b(this,e),this.persistence=t,this.Qs=new Xp,this.js=null}return w(e,[{key:"Ws",get:function(){if(this.js)return this.js;throw cs()}},{key:"addReference",value:function(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Qs.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Qs.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ws.add(t.toString()),Qs.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qs.Is(t.targetId).forEach((function(e){return n.Ws.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ws.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Us",value:function(){this.js=new Set}},{key:"Ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Qs.forEach(this.Ws,(function(r){var i=Ds.fromPath(r);return t.Hs(e,i).next((function(e){e||n.removeEntry(i,Os.min())}))})).next((function(){return t.js=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hs(e,t).next((function(e){e?n.Ws.delete(t.toString()):n.Ws.add(t.toString())}))}},{key:"Ls",value:function(e){return 0}},{key:"Hs",value:function(e,t){var n=this;return Qs.or([function(){return Qs.resolve(n.Qs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gs(e,t)}])}}],[{key:"zs",value:function(t){return new e(t)}}]),e}(),ov=function(){function e(t){b(this,e),this.serializer=t}return w(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new Ys("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pc,{unique:!0}),e.createObjectStore("documentMutations")}(e),uv(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Qs.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),uv(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Os.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").j().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pc,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Qs.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ys(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Xs(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Zs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ti(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ei(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Oc});t.createIndex("collectionPathOverlayIndex",Nc,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Ac,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:gc});t.createIndex("documentKeyIndex",bc),t.createIndex("collectionGroupIndex",xc)}(e)})).next((function(){return i.ni(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.si(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Ec}).createIndex("sequenceNumberIndex",Tc,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Ic}).createIndex("documentKeyIndex",jc,{unique:!1})}(e)}))),o}},{key:"Xs",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=xp(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Ys",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next((function(n){return Qs.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next((function(r){return Qs.forEach(r,(function(r){ls(r.userId===n.userId);var i=Nh(t.serializer,r);return bp(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Zs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new As(n),o=function(e){return[0,lc(e)]}(a);r.push(t.get(o).next((function(n){return n?Qs.resolve():function(n){return t.put({targetId:0,path:lc(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Qs.waitFor(r)}))}))}},{key:"ti",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Sc});var n=t.store("collectionParents"),r=new cp,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:lc(i)})}};return t.store("remoteDocuments").X({Y:!0},(function(e,t){var n=new As(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Y:!0},(function(e,t){var n=m(e,3),r=(n[0],n[1]),a=(n[2],hc(r));return i(a.popLast())}))}))}},{key:"ei",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=Ah(r),a=Ch(t.serializer,i);return n.put(a)}))}},{key:"ni",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Ds(As.fromString(i.document.name).popFirst(5)):i.noDocument?Ds.fromSegments(i.noDocument.path):i.unknownDocument?Ds.fromSegments(i.unknownDocument.path):cs()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Qs.waitFor(r)}))}},{key:"si",value:function(e,t){var n=this,r=t.store("mutations"),i=Up(this.serializer),a=new rv(av.zs,this.serializer.fe);return r.j().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Ff();Nh(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Qs.forEach(r,(function(e,r){var o=new ts(r),u=Uh.de(n.serializer,o),s=a.getIndexManager(o),c=wp.de(o,n.serializer,s,a.referenceDelegate);return new Qp(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Lc(t,oc.ct),e).next()}))}))}}]),e}();function uv(e){e.createObjectStore("targetDocuments",{keyPath:kc}).createIndex("documentTargetsIndex",_c,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",wc,{unique:!0}),e.createObjectStore("targetGlobal")}var sv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",cv=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(b(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.ii=a,this.window=o,this.document=u,this.ri=c,this.oi=l,this.ui=f,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=function(e){return Promise.resolve()},!e.D())throw new hs(ds.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Rp(this,i),this.di=n+"main",this.serializer=new Eh(s),this.wi=new $s(this.di,this.ui,new ov(this.serializer)),this.Bs=new Ip(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Up(this.serializer),this.qs=new Lh,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===l&&os("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return w(e,[{key:"start",value:function(){var e=this;return this.mi().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new hs(ds.FAILED_PRECONDITION,sv);return e.gi(),e.yi(),e.pi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Bs.getHighestSequenceNumber(t)}))})).then((function(t){e.Os=new oc(t,e.ri)})).then((function(){e.Fs=!0})).catch((function(t){return e.wi&&e.wi.close(),Promise.reject(t)}))}},{key:"Ii",value:function(e){var t=this;return this.fi=function(){var n=nn(en().mark((function n(r){return en().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.wi.B(function(){var t=nn(en().mark((function t(n){return en().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(nn(en().mark((function e(){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.mi();case 4:case"end":return e.stop()}}),e)})))))}},{key:"mi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return fv(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ti(t).next((function(t){t||(e.isPrimary=!1,e.ii.enqueueRetryable((function(){return e.fi(!1)})))}))})).next((function(){return e.Ei(t)})).next((function(n){return e.isPrimary&&!n?e.Ai(t).next((function(){return!1})):!!n&&e.vi(t).next((function(){return!0}))}))})).catch((function(t){if(Zs(t))return as("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return as("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.ii.enqueueRetryable((function(){return e.fi(t)})),e.isPrimary=t}))}},{key:"Ti",value:function(e){var t=this;return lv(e).get("owner").next((function(e){return Qs.resolve(t.Ri(e))}))}},{key:"Pi",value:function(e){return fv(e).delete(this.clientId)}},{key:"bi",value:function(){var e=nn(en().mark((function e(){var t,n,r,i,a=this;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Vi(this.li,18e5)){e.next=6;break}return this.li=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Fc(e,"clientMetadata");return t.j().next((function(e){var n=a.Si(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Qs.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._i){n=A(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._i.removeItem(this.Di(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pi",value:function(){var e=this;this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.mi().then((function(){return e.bi()})).then((function(){return e.pi()}))}))}},{key:"Ri",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ei",value:function(e){var t=this;return this.oi?Qs.resolve(!0):lv(e).get("owner").next((function(n){if(null!==n&&t.Vi(n.leaseTimestampMs,5e3)&&!t.Ci(n.ownerId)){if(t.Ri(n)&&t.networkEnabled)return!0;if(!t.Ri(n)){if(!n.allowTabSynchronization)throw new hs(ds.FAILED_PRECONDITION,sv);return!1}}return!(!t.networkEnabled||!t.inForeground)||fv(e).j().next((function(e){return void 0===t.Si(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&as("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=nn(en().mark((function e(){var t=this;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),e.next=7,this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Lc(e,oc.ct);return t.Ai(n).next((function(){return t.Pi(n)}))}));case 7:this.wi.close(),this.Mi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Si",value:function(e,t){var n=this;return e.filter((function(e){return n.Vi(e.updateTimeMs,t)&&!n.Ci(e.clientId)}))}},{key:"$i",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return fv(t).j().next((function(t){return e.Si(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Fs}},{key:"getMutationQueue",value:function(e,t){return wp.de(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new fp(e,this.serializer.fe.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Uh.de(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;as("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.ui)?Rc:14===i?Mc:13===i?Dc:12===i?Pc:11===i?Cc:void cs();return this.wi.runTransaction(e,o,u,(function(i){return a=new Lc(i,r.Os?r.Os.next():oc.ct),"readwrite-primary"===t?r.Ti(a).next((function(e){return!!e||r.Ei(a)})).next((function(t){if(!t)throw os("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.ii.enqueueRetryable((function(){return r.fi(!1)})),new hs(ds.FAILED_PRECONDITION,Hs);return n(a)})).next((function(e){return r.vi(a).next((function(){return e}))})):r.Oi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Oi",value:function(e){var t=this;return lv(e).get("owner").next((function(e){if(null!==e&&t.Vi(e.leaseTimestampMs,5e3)&&!t.Ci(e.ownerId)&&!t.Ri(e)&&!(t.oi||t.allowTabSynchronization&&e.allowTabSynchronization))throw new hs(ds.FAILED_PRECONDITION,sv)}))}},{key:"vi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return lv(e).put("owner",t)}},{key:"Ai",value:function(e){var t=this,n=lv(e);return n.get("owner").next((function(e){return t.Ri(e)?(as("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Qs.resolve()}))}},{key:"Vi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(os("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=function(){e.ii.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.mi()}))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ni",value:function(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}},{key:"yi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=function(){t.xi();var e=/(?:Version|Mobile)\/1[456]/;!Mt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.ii.enterRestrictedMode(!0),t.ii.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ci))}},{key:"ki",value:function(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}},{key:"Ci",value:function(e){var t;try{var n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return as("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return os("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xi",value:function(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(_O){os("Failed to set zombie client id.",_O)}}},{key:"Mi",value:function(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(_O){}}},{key:"Di",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return $s.D()}}]),e}();function lv(e){return Fc(e,"owner")}function fv(e){return Fc(e,"clientMetadata")}function dv(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var hv=function(){function e(t,n,r,i){b(this,e),this.targetId=t,this.fromCache=n,this.Fi=r,this.Bi=i}return w(e,null,[{key:"Li",value:function(t,n){var r,i=Ff(),a=Ff(),o=A(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),pv=function(){function e(){b(this,e),this.qi=!1}return w(e,[{key:"initialize",value:function(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ki(e,t).next((function(a){return a||i.Gi(e,t,r,n)})).next((function(n){return n||i.Qi(e,t)}))}},{key:"Ki",value:function(e,t){var n=this;if(df(t))return Qs.resolve(null);var r=yf(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=bf(t,null,"F"),r=yf(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Ff.apply(void 0,g(i));return n.Ui.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ji(t,i);return n.zi(t,o,a,r.readTime)?n.Ki(e,bf(t,null,"F")):n.Wi(e,o,t,r)}))}))})))}))}},{key:"Gi",value:function(e,t,n,r){var i=this;return df(t)||r.isEqual(Os.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((function(a){var o=i.ji(t,a);return i.zi(t,o,n,r)?i.Qi(e,t):(is()<=sn.DEBUG&&as("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),kf(t)),i.Wi(e,o,t,Us(r,-1)))}))}},{key:"ji",value:function(e,t){var n=new Wc(Ef(e));return t.forEach((function(t,r){_f(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Qi",value:function(e,t){return is()<=sn.DEBUG&&as("QueryEngine","Using full collection scan to execute query:",kf(t)),this.Ui.getDocumentsMatchingQuery(e,t,zs.min())}},{key:"Wi",value:function(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),vv=function(){function e(t,n,r,i){b(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new zc(Es),this.Yi=new If((function(e){return nf(e)}),rf),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}return w(e,[{key:"tr",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qp(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function mv(e,t,n,r){return new vv(e,t,n,r)}function yv(e,t){return gv.apply(this,arguments)}function gv(){return gv=nn(en().mark((function e(t,n){var r;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fs(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.tr(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Ff(),s=A(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=A(c.mutations);try{for(f.s();!(l=f.n()).done;){var d=l.value;u=u.add(d.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var h,p=A(n);try{for(p.s();!(h=p.n()).done;){var v=h.value;o.push(v.batchId);var m,y=A(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{er:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),gv.apply(this,arguments)}function bv(e,t){var n=fs(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Qs.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);ls(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Ff(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function xv(e){var t=fs(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Bs.getLastRemoteSnapshotVersion(e)}))}function wv(e,t){var n=fs(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Bs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Bs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(u)?c=c.withResumeToken($c.EMPTY_BYTE_STRING,Os.min()).withLastLimboFreeSnapshotVersion(Os.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Bs.updateTargetData(e,c))}}));var u=Of(),s=Ff();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(kv(e,a,t.documentUpdates).next((function(e){u=e.nr,s=e.sr}))),!r.isEqual(Os.min())){var c=n.Bs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Qs.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ji=i,e}))}function kv(e,t,n){var r=Ff(),i=Ff();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Of();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Os.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):as("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{nr:r,sr:i}}))}function _v(e,t){var n=fs(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Sv(e,t){var n=fs(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Bs.getTargetData(e,t).next((function(i){return i?(r=i,Qs.resolve(r)):n.Bs.allocateTargetId(e).next((function(i){return r=new Sh(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function Ev(e,t,n){return Tv.apply(this,arguments)}function Tv(){return Tv=nn(en().mark((function e(t,n,r){var i,a,o;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=fs(t),a=i.Ji.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Zs(e.t1)){e.next=12;break}throw e.t1;case 12:as("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ji=i.Ji.remove(n),i.Yi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Tv.apply(this,arguments)}function Iv(e,t,n){var r=fs(e),i=Os.min(),a=Ff();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=fs(e),i=r.Yi.get(n);return void 0!==i?Qs.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,yf(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:Os.min(),n?a:Ff())})).next((function(e){return Nv(r,Sf(t),e),{documents:e,ir:a}}))}))}function jv(e,t){var n=fs(e),r=fs(n.Bs),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.le(e,t).next((function(e){return e?e.target:null}))}))}function Ov(e,t){var n=fs(e),r=n.Xi.get(t)||Os.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Zi.getAllFromCollectionGroup(e,t,Us(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Nv(n,t,e),e}))}function Nv(e,t,n){var r=e.Xi.get(t)||Os.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}function Av(e,t,n,r){return Cv.apply(this,arguments)}function Cv(){return Cv=nn(en().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,d,h,p;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=fs(t),o=Ff(),u=Of(),s=A(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.rr(l.metadata.name),l.document&&(o=o.add(f)),(d=n.ur(l)).setReadTime(n.cr(l.metadata.readTime)),u=u.insert(f,d)}catch(v){s.e(v)}finally{s.f()}return h=a.Zi.newChangeBuffer({trackRemovals:!0}),e.next=7,Sv(a,function(e){return yf(ff(As.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return kv(e,h,u).next((function(t){return h.apply(e),t})).next((function(t){return a.Bs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Bs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr)})).next((function(){return t.nr}))}))})));case 9:case"end":return e.stop()}}),e)}))),Cv.apply(this,arguments)}function Pv(e,t){return Dv.apply(this,arguments)}function Dv(){return Dv=nn(en().mark((function e(t,n){var r,i,a,o=arguments;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Ff(),e.next=3,Sv(t,yf(Ph(n.bundledQuery)));case 3:return i=e.sent,a=fs(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Jd(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.qs.saveNamedQuery(e,n);var o=i.withResumeToken($c.EMPTY_BYTE_STRING,t);return a.Ji=a.Ji.insert(o.targetId,o),a.Bs.updateTargetData(e,o).next((function(){return a.Bs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Bs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.qs.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Dv.apply(this,arguments)}function Mv(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Rv(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Lv(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Fv=function(){function e(t,n,r,i){b(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return w(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new hs(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(os("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Bv=function(){function e(t,n,r){b(this,e),this.targetId=t,this.state=n,this.error=r}return w(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new hs(i.error.code,i.error.message))),a?new e(t,i.state,r):(os("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Uv=function(){function e(t,n){b(this,e),this.clientId=t,this.activeTargetIds=n}return w(e,null,[{key:"ar",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Uf(),o=0;i&&o<r.activeTargetIds.length;++o)i=cc(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(os("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Vv=function(){function e(t,n){b(this,e),this.clientId=t,this.onlineState=n}return w(e,null,[{key:"ar",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(os("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),zv=function(){function e(){b(this,e),this.activeTargetIds=Uf()}return w(e,[{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"dr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"hr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),qv=function(){function e(t,n,r,i,a){b(this,e),this.window=t,this.ii=n,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new zc(Es),this.started=!1,this.yr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=Mv(this.persistenceKey,this.wr),this.Ir=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new zv),this.Tr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Er=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ar=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}return w(e,[{key:"start",value:function(){var e=nn(en().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,d=this;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.$i();case 2:t=e.sent,n=A(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.wr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Mv(this.persistenceKey,i)))&&(o=Uv.ar(i,a))&&(this.gr=this.gr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Pr(),(u=this.storage.getItem(this.vr))&&(s=this.br(u))&&this.Vr(s),c=A(this.yr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.mr(f)}catch(h){c.e(h)}finally{c.f()}this.yr=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ir,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Sr(this.gr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.gr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Dr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Dr(e,t,n),this.Cr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Lv(this.persistenceKey,e));if(n){var r=Bv.ar(e,n);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Nr.dr(e),this.Pr()}},{key:"isLocalQueryTarget",value:function(e){return this.Nr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Lv(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.kr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Cr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Mr(e)}},{key:"notifyBundleLoaded",value:function(e){this.$r(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return as("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){as("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){as("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"mr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(as("SharedClientState","EVENT",n.key,n.newValue),n.key===this.pr)return void os("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(nn(en().mark((function e(){var r,i,a,o,u,s,c;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Tr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Or(n.key),e.abrupt("return",t.Fr(r,null));case 6:if(!(i=t.Br(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Fr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Er.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Lr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.qr(a));case 16:e.next=41;break;case 18:if(!t.Ar.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Ur(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.vr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.br(n.newValue))){e.next=30;break}return e.abrupt("return",t.Vr(u));case 30:e.next=41;break;case 32:if(n.key!==t.Ir){e.next=37;break}s=function(e){var t=oc.ct;if(null!=e)try{var n=JSON.parse(e);ls("number"==typeof n),t=n}catch(e){os("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==oc.ct&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.Rr){e.next=41;break}return c=t.Gr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Qr(e)})));case 41:e.next=44;break;case 43:t.yr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Nr",get:function(){return this.gr.get(this.wr)}},{key:"Pr",value:function(){this.setItem(this.pr,this.Nr.hr())}},{key:"Dr",value:function(e,t,n){var r=new Fv(this.currentUser,e,t,n),i=Rv(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hr())}},{key:"Cr",value:function(e){var t=Rv(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Mr",value:function(e){var t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}},{key:"kr",value:function(e,t,n){var r=Lv(this.persistenceKey,e),i=new Bv(e,t,n);this.setItem(r,i.hr())}},{key:"$r",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}},{key:"Or",value:function(e){var t=this.Tr.exec(e);return t?t[1]:null}},{key:"Br",value:function(e,t){var n=this.Or(e);return Uv.ar(n,t)}},{key:"Lr",value:function(e,t){var n=this.Er.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Fv.ar(new ts(i),r,t)}},{key:"Ur",value:function(e,t){var n=this.Ar.exec(e),r=Number(n[1]);return Bv.ar(r,t)}},{key:"br",value:function(e){return Vv.ar(e)}},{key:"Gr",value:function(e){return JSON.parse(e)}},{key:"qr",value:function(){var e=nn(en().mark((function e(t){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.jr(t.batchId,t.state,t.error));case 2:as("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Kr",value:function(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}},{key:"Fr",value:function(e,t){var n=this,r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Wr(o,u).then((function(){n.gr=r}))}},{key:"Vr",value:function(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Sr",value:function(e){var t=Uf();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Hv=function(){function e(){b(this,e),this.Hr=new zv,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return w(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Jr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hr.dr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Jr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hr=new zv,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Wv=function(){function e(){b(this,e)}return w(e,[{key:"Yr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Gv=function(){function e(){var t=this;b(this,e),this.Xr=function(){return t.Zr()},this.eo=function(){return t.no()},this.so=[],this.io()}return w(e,[{key:"Yr",value:function(e){this.so.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}},{key:"Zr",value:function(){as("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=A(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){as("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=A(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Kv=null;function Qv(){return null===Kv?Kv=268435456+Math.round(2147483648*Math.random()):Kv++,"0x"+Kv.toString(16)}var Yv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},$v=function(){function e(t){b(this,e),this.ro=t.ro,this.oo=t.oo}return w(e,[{key:"uo",value:function(e){this.co=e}},{key:"ao",value:function(e){this.ho=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.ro(e)}},{key:"fo",value:function(){this.co()}},{key:"wo",value:function(e){this.ho(e)}},{key:"_o",value:function(e){this.lo(e)}}]),e}(),Xv="WebChannelConnection",Jv=function(e){_(n,e);var t=I(n);function n(e){var r;return b(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return w(n,[{key:"Ao",value:function(e,t,n,r){var i=Qv();return new Promise((function(a,o){var u=new Xu;u.setWithCredentials(!0),u.listenOnce(Gu.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case Wu.NO_ERROR:var t=u.getResponseJson();as(Xv,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Wu.TIMEOUT:as(Xv,"RPC '".concat(e,"' ").concat(i," timed out")),o(new hs(ds.DEADLINE_EXCEEDED,"Request time out"));break;case Wu.HTTP_ERROR:var n=u.getStatus();if(as(Xv,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(ds).indexOf(t)>=0?t:ds.UNKNOWN}(s.status);o(new hs(c,s.message))}else o(new hs(ds.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new hs(ds.UNAVAILABLE,"Connection failed."));break;default:cs()}}finally{as(Xv,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);as(Xv,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=Qv(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=qu(),o=Hu(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},s=this.longPollingOptions.timeoutSeconds;void 0!==s&&(u.longPollingTimeout=Math.round(1e3*s)),this.useFetchStreams&&(u.xmlHttpFactory=new Yu({})),this.Eo(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var c=i.join("");as(Xv,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),u);var l=a.createWebChannel(c,u),f=!1,d=!1,h=new $v({ro:function(t){d?as(Xv,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(as(Xv,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),as(Xv,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},oo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,$u.EventType.OPEN,(function(){d||as(Xv,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,$u.EventType.CLOSE,(function(){d||(d=!0,as(Xv,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.wo())})),p(l,$u.EventType.ERROR,(function(t){d||(d=!0,us(Xv,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.wo(new hs(ds.UNAVAILABLE,"The operation could not be completed")))})),p(l,$u.EventType.MESSAGE,(function(t){var n;if(!d){var i=t.data[0];ls(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){as(Xv,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=yd[e];if(void 0!==t)return Td(t)}(u),c=o.message;void 0===s&&(s=ds.INTERNAL,c="Unknown error status: "+u+" with message "+o.message),d=!0,h.wo(new hs(s,c)),l.close()}else as(Xv,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h._o(i)}})),p(o,Ku.STAT_EVENT,(function(t){t.stat===Qu.PROXY?as(Xv,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Qu.NOPROXY&&as(Xv,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){h.fo()}),0),h}}]),n}(function(){function e(t){b(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return w(e,[{key:"po",get:function(){return!1}},{key:"Io",value:function(e,t,n,r,i){var a=Qv(),o=this.To(e,t);as("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={};return this.Eo(u,r,i),this.Ao(e,o,u,n).then((function(t){return as("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw us("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.Io(e,t,n,r,i)}},{key:"Eo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ns,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"To",value:function(e,t){var n=Yv[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}]),e}());function Zv(){return"undefined"!=typeof window?window:null}function em(){return"undefined"!=typeof document?document:null}function tm(e){return new Kd(e,!0)}var nm=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;b(this,e),this.ii=t,this.timerId=n,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}return w(e,[{key:"reset",value:function(){this.So=0}},{key:"xo",value:function(){this.So=this.Vo}},{key:"No",value:function(e){var t=this;this.cancel();var n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&as("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Co=Date.now(),e()})),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}},{key:"Mo",value:function(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}},{key:"cancel",value:function(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"ko",value:function(){return(Math.random()-.5)*this.So}}]),e}(),rm=function(){function e(t,n,r,i,a,o,u,s){b(this,e),this.ii=t,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new nm(t,n)}return w(e,[{key:"Uo",value:function(){return 1===this.state||5===this.state||this.Ko()}},{key:"Ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Go()}},{key:"stop",value:function(){var e=nn(en().mark((function e(){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Uo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Qo",value:function(){this.state=0,this.qo.reset()}},{key:"jo",value:function(){var e=this;this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(function(){return e.zo()})))}},{key:"Wo",value:function(e){this.Ho(),this.stream.send(e)}},{key:"zo",value:function(){var e=nn(en().mark((function e(){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Jo",value:function(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"close",value:function(){var e=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==t?this.qo.reset():n&&n.code===ds.RESOURCE_EXHAUSTED?(os(n.toString()),os("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===ds.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.ao(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=m(t,2),i=r[0],a=r[1];e.Fo===n&&e.Zo(i,a)}),(function(n){t((function(){var t=new hs(ds.UNKNOWN,"Fetching auth token failed: "+n.message);return e.tu(t)}))}))}},{key:"Zo",value:function(e,t){var n=this,r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((function(){r((function(){return n.state=2,n.Lo=n.ii.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Ko()&&(n.state=3),Promise.resolve()})),n.listener.uo()}))})),this.stream.ao((function(e){r((function(){return n.tu(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Go",value:function(){var e=this;this.state=5,this.qo.No(nn(en().mark((function t(){return en().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"tu",value:function(e){return as("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Xo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.Fo===e?n():(as("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),im=function(e){_(n,e);var t=I(n);function n(e,r,i,a,o,u){var s;return b(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return w(n,[{key:"eu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.qo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:cs()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(ls(void 0===t||"string"==typeof t),$c.fromBase64String(t||"")):(ls(void 0===t||t instanceof Uint8Array),$c.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?ds.UNKNOWN:Td(e.code);return new hs(t,e.message||"")}(o);n=new Bd(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=nh(e,s.document.name),l=Jd(s.document.updateTime),f=s.document.createTime?Jd(s.document.createTime):Os.min(),d=new Il({mapValue:{fields:s.document.fields}}),h=Ol.newFoundDocument(c,l,f,d),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Ld(p,v,h.key,h)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=nh(e,m.document),g=m.readTime?Jd(m.readTime):Os.min(),b=Ol.newNoDocument(y,g),x=m.removedTargetIds||[];n=new Ld([],x,b.key,b)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var k=nh(e,w.document),_=w.removedTargetIds||[];n=new Ld([],_,k,null)}else{if(!("filter"in t))return cs();t.filter;var S=t.filter;S.targetId;var E=S.count,T=void 0===E?0:E,I=S.unchangedNames,j=new Sd(T,I),O=S.targetId;n=new Fd(O,j)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Os.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Os.min():t.readTime?Jd(t.readTime):Os.min()}(e);return this.listener.nu(t,n)}},{key:"su",value:function(e){var t={};t.database=ah(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=af(r)?{documents:dh(e,r)}:{query:hh(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=$d(e,t.resumeToken);var i=Qd(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Os.min())>0){n.readTime=Yd(e,t.snapshotVersion.toTimestamp());var a=Qd(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return cs()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}},{key:"iu",value:function(e){var t={};t.database=ah(this.serializer),t.removeTarget=e,this.Wo(t)}}]),n}(rm),am=function(e){_(n,e);var t=I(n);function n(e,r,i,a,o,u){var s;return b(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.ru=!1,s}return w(n,[{key:"ou",get:function(){return this.ru}},{key:"start",value:function(){this.ru=!1,this.lastStreamToken=void 0,Ar(S(n.prototype),"start",this).call(this)}},{key:"Yo",value:function(){this.ru&&this.uu([])}},{key:"eu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(ls(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();var t=function(e,t){return e&&e.length>0?(ls(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Jd(e.updateTime):Jd(t);return n.isEqual(Os.min())&&(n=Jd(t)),new rd(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Jd(e.commitTime);return this.listener.cu(n,t)}return ls(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}},{key:"hu",value:function(){var e={};e.database=ah(this.serializer),this.Wo(e)}},{key:"uu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return lh(t.serializer,e)}))};this.Wo(n)}}]),n}(rm),om=function(e){_(n,e);var t=I(n);function n(e,r,i,a){var o;return b(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.lu=!1,o}return w(n,[{key:"fu",value:function(){if(this.lu)throw new hs(ds.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Io",value:function(e,t,n){var r=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=m(i,2),o=a[0],u=a[1];return r.connection.Io(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ds.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new hs(ds.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r){var i=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=m(a,2),u=o[0],s=o[1];return i.connection.vo(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ds.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new hs(ds.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.lu=!0}}]),n}(function(){return w((function e(){b(this,e)}))}());var um=function(){function e(t,n){b(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}return w(e,[{key:"gu",value:function(){var e=this;0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.pu("Backend didn't respond within 10 seconds."),e.yu("Offline"),Promise.resolve()})))}},{key:"Iu",value:function(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}},{key:"set",value:function(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}},{key:"yu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"pu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(os(t),this.mu=!1):as("OnlineStateTracker",t)}},{key:"Tu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),sm=w((function e(t,n,r,i,a){var o=this;b(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr((function(e){r.enqueueAndForget(nn(en().mark((function e(){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=bm(o),!e.t0){e.next=5;break}return as("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=nn(en().mark((function e(t){var n;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=fs(t)).vu.add(4),e.next=4,fm(n);case 4:return n.bu.set("Unknown"),n.vu.delete(4),e.next=8,cm(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.bu=new um(r,i)}));function cm(e){return lm.apply(this,arguments)}function lm(){return lm=nn(en().mark((function e(t){var n,r,i;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!bm(t)){e.next=18;break}n=A(t.Ru),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),lm.apply(this,arguments)}function fm(e){return dm.apply(this,arguments)}function dm(){return dm=nn(en().mark((function e(t){var n,r,i;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=A(t.Ru),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),dm.apply(this,arguments)}function hm(e,t){var n=fs(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),gm(n)?ym(n):Qm(n).Ko()&&vm(n,t))}function pm(e,t){var n=fs(e),r=Qm(n);n.Au.delete(t),r.Ko()&&mm(n,t),0===n.Au.size&&(r.Ko()?r.jo():bm(n)&&n.bu.set("Unknown"))}function vm(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Os.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Qm(e).su(t)}function mm(e,t){e.Vu.qt(t),Qm(e).iu(t)}function ym(e){e.Vu=new Vd({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},le:function(t){return e.Au.get(t)||null},ue:function(){return e.datastore.serializer.databaseId}}),Qm(e).start(),e.bu.gu()}function gm(e){return bm(e)&&!Qm(e).Uo()&&e.Au.size>0}function bm(e){return 0===fs(e).vu.size}function xm(e){e.Vu=void 0}function wm(e){return km.apply(this,arguments)}function km(){return km=nn(en().mark((function e(t){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Au.forEach((function(e,n){vm(t,e)}));case 1:case"end":return e.stop()}}),e)}))),km.apply(this,arguments)}function _m(e,t){return Sm.apply(this,arguments)}function Sm(){return Sm=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xm(t),gm(t)?(t.bu.Iu(n),ym(t)):t.bu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Sm.apply(this,arguments)}function Em(e,t,n){return Tm.apply(this,arguments)}function Tm(){return Tm=nn(en().mark((function e(t,n,r){var i;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.bu.set("Online"),!(n instanceof Bd&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=nn(en().mark((function e(t,n){var r,i,a,o;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=A(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Au.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Au.delete(o),t.Vu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),as("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Im(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Ld?t.Vu.Ht(n):n instanceof Fd?t.Vu.ne(n):t.Vu.Xt(n),r.isEqual(Os.min())){e.next=29;break}return e.prev=14,e.next=17,xv(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Vu.ce(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Au.get(t);if(r){e.Au.set(t,r.withResumeToken($c.EMPTY_BYTE_STRING,r.snapshotVersion)),mm(e,t);var i=new Sh(r.target,t,n,r.sequenceNumber);vm(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),as("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Im(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Tm.apply(this,arguments)}function Im(e,t,n){return jm.apply(this,arguments)}function jm(){return jm=nn(en().mark((function e(t,n,r){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Zs(n)){e.next=2;break}throw n;case 2:return t.vu.add(1),e.next=5,fm(t);case 5:t.bu.set("Offline"),r||(r=function(){return xv(t.localStore)}),t.asyncQueue.enqueueRetryable(nn(en().mark((function e(){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return as("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.vu.delete(1),e.next=6,cm(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),jm.apply(this,arguments)}function Om(e,t){return t().catch((function(n){return Im(e,n,t)}))}function Nm(e){return Am.apply(this,arguments)}function Am(){return Am=nn(en().mark((function e(t){var n,r,i,a;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=fs(t),r=Ym(n),i=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;case 2:if(!Cm(n)){e.next=19;break}return e.prev=3,e.next=6,_v(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Eu.length&&r.jo(),e.abrupt("break",19);case 10:i=a.batchId,Pm(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Im(n,e.t0);case 17:e.next=2;break;case 19:Dm(n)&&Mm(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Am.apply(this,arguments)}function Cm(e){return bm(e)&&e.Eu.length<10}function Pm(e,t){e.Eu.push(t);var n=Ym(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function Dm(e){return bm(e)&&!Ym(e).Uo()&&e.Eu.length>0}function Mm(e){Ym(e).start()}function Rm(e){return Lm.apply(this,arguments)}function Lm(){return Lm=nn(en().mark((function e(t){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ym(t).hu();case 1:case"end":return e.stop()}}),e)}))),Lm.apply(this,arguments)}function Fm(e){return Bm.apply(this,arguments)}function Bm(){return Bm=nn(en().mark((function e(t){var n,r,i,a;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ym(t),r=A(t.Eu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.uu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Bm.apply(this,arguments)}function Um(e,t,n){return Vm.apply(this,arguments)}function Vm(){return Vm=nn(en().mark((function e(t,n,r){var i,a;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Eu.shift(),a=kd.from(i,n,r),e.next=3,Om(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Nm(t);case 5:case"end":return e.stop()}}),e)}))),Vm.apply(this,arguments)}function zm(e,t){return qm.apply(this,arguments)}function qm(){return qm=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Ym(t).ou,!e.t0){e.next=4;break}return e.next=4,function(){var e=nn(en().mark((function e(t,n){var r,i;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ed(i=n.code)||i===ds.ABORTED){e.next=7;break}return r=t.Eu.shift(),Ym(t).Qo(),e.next=5,Om(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Nm(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Dm(t)&&Mm(t);case 5:case"end":return e.stop()}}),e)}))),qm.apply(this,arguments)}function Hm(e,t){return Wm.apply(this,arguments)}function Wm(){return Wm=nn(en().mark((function e(t,n){var r,i;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=fs(t)).asyncQueue.verifyOperationInProgress(),as("RemoteStore","RemoteStore received new credentials"),i=bm(r),r.vu.add(3),e.next=6,fm(r);case 6:return i&&r.bu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.vu.delete(3),e.next=12,cm(r);case 12:case"end":return e.stop()}}),e)}))),Wm.apply(this,arguments)}function Gm(e,t){return Km.apply(this,arguments)}function Km(){return Km=nn(en().mark((function e(t,n){var r;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fs(t),!n){e.next=7;break}return r.vu.delete(2),e.next=5,cm(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.vu.add(2),e.next=12,fm(r);case 12:r.bu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Km.apply(this,arguments)}function Qm(e){return e.Su||(e.Su=function(e,t,n){var r=fs(e);return r.fu(),new im(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:wm.bind(null,e),ao:_m.bind(null,e),nu:Em.bind(null,e)}),e.Ru.push(function(){var t=nn(en().mark((function t(n){return en().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Su.Qo(),gm(e)?ym(e):e.bu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Su.stop();case 6:xm(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}function Ym(e){return e.Du||(e.Du=function(e,t,n){var r=fs(e);return r.fu(),new am(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Rm.bind(null,e),ao:zm.bind(null,e),au:Fm.bind(null,e),cu:Um.bind(null,e)}),e.Ru.push(function(){var t=nn(en().mark((function t(n){return en().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Du.Qo(),t.next=4,Nm(e);case 4:t.next=9;break;case 6:return t.next=8,e.Du.stop();case 8:e.Eu.length>0&&(as("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Du}var $m=function(){function e(t,n,r,i,a){b(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return w(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new hs(ds.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Xm(e,t){if(os("AsyncQueue","".concat(t,": ").concat(e)),Zs(e))return new hs(ds.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Jm=function(){function e(t){b(this,e),this.comparator=t?function(e,n){return t(e,n)||Ds.comparator(e.key,n.key)}:function(e,t){return Ds.comparator(e.key,t.key)},this.keyedMap=Af(),this.sortedSet=new zc(this.comparator)}return w(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Zm=function(){function e(){b(this,e),this.Cu=new zc(Ds.comparator)}return w(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):cs():this.Cu=this.Cu.insert(t,e)}},{key:"xu",value:function(){var e=[];return this.Cu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),ey=function(){function e(t,n,r,i,a,o,u,s,c){b(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return w(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Jm.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),ty=w((function e(){b(this,e),this.Nu=void 0,this.listeners=[]})),ny=w((function e(){b(this,e),this.queries=new If((function(e){return wf(e)}),xf),this.onlineState="Unknown",this.ku=new Set}));function ry(e,t){return iy.apply(this,arguments)}function iy(){return iy=nn(en().mark((function e(t,n){var r,i,a,o,u;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fs(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new ty),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Nu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Xm(e.t0,"Initialization of query '".concat(kf(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Mu(r.onlineState),o.Nu&&n.$u(o.Nu)&&cy(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),iy.apply(this,arguments)}function ay(e,t){return oy.apply(this,arguments)}function oy(){return oy=nn(en().mark((function e(t,n){var r,i,a,o,u;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fs(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),oy.apply(this,arguments)}function uy(e,t){var n,r=fs(e),i=!1,a=A(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=A(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.$u(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Nu=o}}}catch(f){a.e(f)}finally{a.f()}i&&cy(r)}function sy(e,t,n){var r=fs(e),i=r.queries.get(t);if(i){var a,o=A(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function cy(e){e.ku.forEach((function(e){e.next()}))}var ly=function(){function e(t,n,r){b(this,e),this.query=t,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}return w(e,[{key:"$u",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=A(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new ey(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),a=!0):this.qu(e,this.onlineState)&&(this.Uu(e),a=!0),this.Bu=e,a}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"Mu",value:function(e){this.onlineState=e;var t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}},{key:"qu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Lu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Uu",value:function(e){e=ey.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}]),e}(),fy=function(){function e(t,n){b(this,e),this.Gu=t,this.byteLength=n}return w(e,[{key:"Qu",value:function(){return"metadata"in this.Gu}}]),e}(),dy=function(){function e(t){b(this,e),this.serializer=t}return w(e,[{key:"rr",value:function(e){return nh(this.serializer,e)}},{key:"ur",value:function(e){return e.metadata.exists?sh(this.serializer,e.document,!1):Ol.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}},{key:"cr",value:function(e){return Jd(e)}}]),e}(),hy=function(){function e(t,n,r){b(this,e),this.ju=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=py(t)}return w(e,[{key:"zu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;var n=As.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Wu",value:function(e){var t,n=new Map,r=new dy(this.serializer),i=A(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.rr(a.metadata.name),s=A(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Ff()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=nn(en().mark((function e(){var t,n,r,i,a;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Av(this.localStore,new dy(this.serializer),this.documents,this.ju.id);case 2:t=e.sent,n=this.Wu(this.documents),r=A(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Pv(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function py(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var vy=w((function e(t){b(this,e),this.key=t})),my=w((function e(t){b(this,e),this.key=t})),yy=function(){function e(t,n){b(this,e),this.query=t,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Ff(),this.mutatedKeys=Ff(),this.tc=Ef(t),this.ec=new Jm(this.tc)}return w(e,[{key:"nc",get:function(){return this.Yu}},{key:"sc",value:function(e,t){var n=this,r=t?t.ic:new Zm,i=t?t.ec:this.ec,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=_f(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),h=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?d!==h&&(r.track({type:3,doc:f}),p=!0):n.rc(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.tc(f,s)>0||c&&n.tc(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=h?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:u,mutatedKeys:a}}},{key:"rc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;var a=e.ic.xu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return cs()}};return n(e)-n(t)}(e.type,t.type)||r.tc(e.doc,t.doc)})),this.oc(n);var o=t?this.uc():[],u=0===this.Zu.size&&this.current?1:0,s=u!==this.Xu;return this.Xu=u,0!==a.length||s?{snapshot:new ey(this.query,e.ec,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}},{key:"Mu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Zm,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}},{key:"ac",value:function(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}},{key:"oc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Yu=t.Yu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Yu=t.Yu.delete(e)})),this.current=e.current)}},{key:"uc",value:function(){var e=this;if(!this.current)return[];var t=this.Zu;this.Zu=Ff(),this.ec.forEach((function(t){e.ac(t.key)&&(e.Zu=e.Zu.add(t.key))}));var n=[];return t.forEach((function(t){e.Zu.has(t)||n.push(new my(t))})),this.Zu.forEach((function(e){t.has(e)||n.push(new vy(e))})),n}},{key:"hc",value:function(e){this.Yu=e.ir,this.Zu=Ff();var t=this.sc(e.documents);return this.applyChanges(t,!0)}},{key:"lc",value:function(){return ey.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}]),e}(),gy=w((function e(t,n,r){b(this,e),this.query=t,this.targetId=n,this.view=r})),by=w((function e(t){b(this,e),this.key=t,this.fc=!1})),xy=function(){function e(t,n,r,i,a,o){b(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new If((function(e){return wf(e)}),xf),this._c=new Map,this.mc=new Set,this.gc=new zc(Ds.comparator),this.yc=new Map,this.Ic=new Xp,this.Tc={},this.Ec=new Map,this.Ac=Tp.Mn(),this.onlineState="Unknown",this.vc=void 0}return w(e,[{key:"isPrimaryClient",get:function(){return!0===this.vc}}]),e}();function wy(e,t){return ky.apply(this,arguments)}function ky(){return ky=nn(en().mark((function e(t,n){var r,i,a,o,u,s;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=pg(t),!(o=r.wc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.lc(),e.next=15;break;case 6:return e.next=8,Sv(r.localStore,yf(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,_y(r,n,i,"current"===s,u.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&hm(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),ky.apply(this,arguments)}function _y(e,t,n,r,i){return Sy.apply(this,arguments)}function Sy(){return Sy=nn(en().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,n,r){return function(){var e=nn(en().mark((function e(t,n,r,i){var a,o,u;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.sc(r),e.t0=a.zi,!e.t0){e.next=6;break}return e.next=5,Iv(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.sc(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Hy(t,n.targetId,u.cc),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Iv(t.localStore,n,!0);case 3:return o=e.sent,u=new yy(n,o.ir),s=u.sc(o.documents),c=Rd.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),Hy(t,r,l.cc),f=new gy(n,r,u),e.abrupt("return",(t.wc.set(n,f),t._c.has(r)?t._c.get(r).push(n):t._c.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),Sy.apply(this,arguments)}function Ey(e,t){return Ty.apply(this,arguments)}function Ty(){return Ty=nn(en().mark((function e(t,n){var r,i,a;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fs(t),i=r.wc.get(n),!((a=r._c.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r._c.set(i.targetId,a.filter((function(e){return!xf(e,n)}))),void r.wc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Ev(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),pm(r.remoteStore,i.targetId),zy(r,i.targetId)})).catch(Gs);case 9:e.next=14;break;case 11:return zy(r,i.targetId),e.next=14,Ev(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Ty.apply(this,arguments)}function Iy(e,t,n){return jy.apply(this,arguments)}function jy(){return jy=nn(en().mark((function e(t,n,r){var i,a,o;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vg(t),e.prev=1,e.next=4,function(e,t){var n,r,i=fs(e),a=js.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Ff());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Of(),s=Ff();return i.Zi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=A(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=ld(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new hd(c.key,l,jl(l.value.mapValue),id.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Cf(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Tc[e.currentUser.toKey()];r||(r=new zc(Es)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Ky(i,a.changes);case 9:return e.next=11,Nm(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Xm(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),jy.apply(this,arguments)}function Oy(e,t){return Ny.apply(this,arguments)}function Ny(){return Ny=nn(en().mark((function e(t,n){var r,i;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fs(t),e.prev=1,e.next=4,wv(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.yc.get(t);n&&(ls(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.fc=!0:e.modifiedDocuments.size>0?ls(n.fc):e.removedDocuments.size>0&&(ls(n.fc),n.fc=!1))})),e.next=8,Ky(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Gs(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Ny.apply(this,arguments)}function Ay(e,t,n){var r=fs(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.wc.forEach((function(e,n){var r=n.view.Mu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=fs(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=A(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Mu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&cy(n)}(r.eventManager,t),i.length&&r.dc.nu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Cy(e,t,n){return Py.apply(this,arguments)}function Py(){return Py=nn(en().mark((function e(t,n,r){var i,a,o,u,s,c;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=fs(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.yc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new zc(Ds.comparator)).insert(o,Ol.newNoDocument(o,Os.min())),s=Ff().add(o),c=new Md(Os.min(),new Map,new zc(Es),u,s),e.next=9,Oy(i,c);case 9:i.gc=i.gc.remove(o),i.yc.delete(n),Gy(i),e.next=16;break;case 14:return e.next=16,Ev(i.localStore,n,!1).then((function(){return zy(i,n,r)})).catch(Gs);case 16:case"end":return e.stop()}}),e)}))),Py.apply(this,arguments)}function Dy(e,t){return My.apply(this,arguments)}function My(){return My=nn(en().mark((function e(t,n){var r,i,a;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fs(t),i=n.batch.batchId,e.prev=1,e.next=4,bv(r.localStore,n);case 4:return a=e.sent,Vy(r,i,null),Uy(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Ky(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Gs(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),My.apply(this,arguments)}function Ry(e,t,n){return Ly.apply(this,arguments)}function Ly(){return Ly=nn(en().mark((function e(t,n,r){var i,a;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fs(t),e.prev=1,e.next=4,function(e,t){var n=fs(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return ls(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Vy(i,n,r),Uy(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Ky(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Gs(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Ly.apply(this,arguments)}function Fy(e,t){return By.apply(this,arguments)}function By(){return By=nn(en().mark((function e(t,n){var r,i,a,o;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bm((r=fs(t)).remoteStore)||as("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=fs(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Ec.get(i)||[]).push(n),r.Ec.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Xm(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),By.apply(this,arguments)}function Uy(e,t){(e.Ec.get(t)||[]).forEach((function(e){e.resolve()})),e.Ec.delete(t)}function Vy(e,t,n){var r=fs(e),i=r.Tc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function zy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=A(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.wc.delete(a),n&&e.dc.Pc(a,n)}}catch(o){i.e(o)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((function(t){e.Ic.containsKey(t)||qy(e,t)}))}function qy(e,t){e.mc.delete(t.path.canonicalString());var n=e.gc.get(t);null!==n&&(pm(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),Gy(e))}function Hy(e,t,n){var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof vy?(e.Ic.addReference(a.key,t),Wy(e,a)):a instanceof my?(as("SyncEngine","Document no longer in limbo: "+a.key),e.Ic.removeReference(a.key,t),e.Ic.containsKey(a.key)||qy(e,a.key)):cs()}}catch(o){i.e(o)}finally{i.f()}}function Wy(e,t){var n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(as("SyncEngine","New document in limbo: "+n),e.mc.add(r),Gy(e))}function Gy(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){var t=e.mc.values().next().value;e.mc.delete(t);var n=new Ds(As.fromString(t)),r=e.Ac.next();e.yc.set(r,new by(n)),e.gc=e.gc.insert(n,r),hm(e.remoteStore,new Sh(yf(ff(n.path)),r,"TargetPurposeLimboResolution",oc.ct))}}function Ky(e,t,n){return Qy.apply(this,arguments)}function Qy(){return Qy=nn(en().mark((function e(t,n,r){var i,a,o,u;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=fs(t),a=[],o=[],u=[],e.t0=i.wc.isEmpty(),e.t0){e.next=9;break}return i.wc.forEach((function(e,t){u.push(i.Rc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=hv.Li(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.dc.nu(a),e.next=9,function(){var e=nn(en().mark((function e(t,n){var r,i,a,o,u,s,c,l;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fs(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Qs.forEach(n,(function(t){return Qs.forEach(t.Fi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Qs.forEach(t.Bi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Zs(e.t0)){e.next=10;break}throw e.t0;case 10:as("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=A(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ji.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ji=r.Ji.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Qy.apply(this,arguments)}function Yy(e,t){return $y.apply(this,arguments)}function $y(){return $y=nn(en().mark((function e(t,n){var r,i;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=fs(t)).currentUser.isEqual(n)){e.next=11;break}return as("SyncEngine","User change. New user:",n.toKey()),e.next=5,yv(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ec.forEach((function(e){e.forEach((function(e){e.reject(new hs(ds.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Ky(r,i.er);case 11:case"end":return e.stop()}}),e)}))),$y.apply(this,arguments)}function Xy(e,t){var n=fs(e),r=n.yc.get(t);if(r&&r.fc)return Ff().add(r.key);var i=Ff(),a=n._c.get(t);if(!a)return i;var o,u=A(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.wc.get(s);i=i.unionWith(c.view.nc)}}catch(l){u.e(l)}finally{u.f()}return i}function Jy(e,t){return Zy.apply(this,arguments)}function Zy(){return Zy=nn(en().mark((function e(t,n){var r,i,a;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fs(t),e.next=3,Iv(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.hc(i),e.abrupt("return",(r.isPrimaryClient&&Hy(r,n.targetId,a.cc),a));case 6:case"end":return e.stop()}}),e)}))),Zy.apply(this,arguments)}function eg(e,t){return tg.apply(this,arguments)}function tg(){return tg=nn(en().mark((function e(t,n){var r;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fs(t),e.abrupt("return",Ov(r.localStore,n).then((function(e){return Ky(r,e)})));case 2:case"end":return e.stop()}}),e)}))),tg.apply(this,arguments)}function ng(e,t,n,r){return rg.apply(this,arguments)}function rg(){return rg=nn(en().mark((function e(t,n,r,i){var a,o;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=fs(t),e.next=3,function(e,t){var n=fs(e),r=fs(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Sn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Qs.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Nm(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Vy(a,n,i||null),Uy(a,n),function(e,t){fs(fs(e).mutationQueue).Cn(t)}(a.localStore,n)):cs();case 11:return e.next=13,Ky(a,o);case 13:e.next=16;break;case 15:as("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),rg.apply(this,arguments)}function ig(e,t){return ag.apply(this,arguments)}function ag(){return ag=nn(en().mark((function e(t,n){var r,i,a,o,u,s,c,l;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pg(r=fs(t)),vg(r),!0!==n||!0===r.vc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,og(r,i.toArray());case 5:return a=e.sent,r.vc=!0,e.next=9,Gm(r.remoteStore,!0);case 9:o=A(a);try{for(o.s();!(u=o.n()).done;)s=u.value,hm(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.vc){e.next=25;break}return c=[],l=Promise.resolve(),r._c.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return zy(r,t),Ev(r.localStore,t,!0)})),pm(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,og(r,c);case 21:return function(e){var t=fs(e);t.yc.forEach((function(e,n){pm(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new zc(Ds.comparator)}(r),r.vc=!1,e.next=25,Gm(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),ag.apply(this,arguments)}function og(e,t,n){return ug.apply(this,arguments)}function ug(){return ug=nn(en().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d,h,p,v,m,y;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=fs(t),a=[],o=[],u=A(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i._c.get(c))||0===f.length){e.next=34;break}return e.next=11,Sv(i.localStore,yf(f[0]));case 11:l=e.sent,d=A(f),e.prev=13,d.s();case 15:if((h=d.n()).done){e.next=24;break}return p=h.value,v=i.wc.get(p),e.next=20,Jy(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,jv(i.localStore,c);case 36:return y=e.sent,e.next=39,Sv(i.localStore,y);case 39:return l=e.sent,e.next=42,_y(i,sg(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.dc.nu(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),ug.apply(this,arguments)}function sg(e){return lf(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function cg(e){var t=fs(e);return fs(fs(t.localStore).persistence).$i()}function lg(e,t,n,r){return fg.apply(this,arguments)}function fg(){return fg=nn(en().mark((function e(t,n,r,i){var a,o,u,s;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=fs(t)).vc){e.next=3;break}return e.abrupt("return",void as("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a._c.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Ov(a.localStore,Sf(o[0]));case 10:return u=e.sent,s=Md.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,$c.EMPTY_BYTE_STRING),e.next=14,Ky(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Ev(a.localStore,n,!0);case 17:return zy(a,n,i),e.abrupt("break",20);case 19:cs();case 20:case"end":return e.stop()}}),e)}))),fg.apply(this,arguments)}function dg(e,t,n){return hg.apply(this,arguments)}function hg(){return hg=nn(en().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=pg(t)).vc){e.next=45;break}a=A(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i._c.has(u)){e.next=10;break}return as("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,jv(i.localStore,u);case 12:return s=e.sent,e.next=15,Sv(i.localStore,s);case 15:return c=e.sent,e.next=18,_y(i,sg(s),c.targetId,!1,c.resumeToken);case 18:hm(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=A(r),e.prev=30,d=en().mark((function e(){var t;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i._c.has(t),!e.t0){e.next=5;break}return e.next=5,Ev(i.localStore,t,!1).then((function(){pm(i.remoteStore,t),zy(i,t)})).catch(Gs);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),hg.apply(this,arguments)}function pg(e){var t=fs(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Oy.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xy.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Cy.bind(null,t),t.dc.nu=uy.bind(null,t.eventManager),t.dc.Pc=sy.bind(null,t.eventManager),t}function vg(e){var t=fs(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Dy.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ry.bind(null,t),t}function mg(e,t,n){var r=fs(e);(function(){var e=nn(en().mark((function e(t,n,r){var i,a,o,u,s;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=fs(e),r=Jd(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.qs.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(py(i)),a=new hy(i,t.localStore,n.serializer),e.next=15,n.bc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.zu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.bc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,Ky(t,s.Ju,void 0);case 31:return e.next=33,function(e,t){var n=fs(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.qs.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Hu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(us("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var yg=function(){function e(){b(this,e),this.synchronizeTabs=!1}return w(e,[{key:"initialize",value:function(){var e=nn(en().mark((function e(t){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=tm(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return mv(this.persistence,new pv,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new rv(av.zs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new Hv}},{key:"terminate",value:function(){var e=nn(en().mark((function e(){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),gg=function(e){_(n,e);var t=I(n);function n(e,r,i){var a;return b(this,n),(a=t.call(this)).Vc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return w(n,[{key:"initialize",value:function(){var e=nn(en().mark((function e(t){var r=this;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ar(S(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Vc.initialize(this,t);case 4:return e.next=6,vg(this.Vc.syncEngine);case 6:return e.next=8,Nm(this.Vc.remoteStore);case 8:return e.next=10,this.persistence.Ii((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return mv(this.persistence,new pv,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Pp(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new ac(t,this.persistence);return new ic(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=dv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?gp.withCacheSize(this.cacheSizeBytes):gp.DEFAULT;return new cv(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Zv(),em(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new Hv}}]),n}(yg),bg=function(e){_(n,e);var t=I(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e,r,!1)).Vc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return w(n,[{key:"initialize",value:function(){var e=nn(en().mark((function e(t){var r,i=this;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ar(S(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Vc.syncEngine,e.t0=this.sharedClientState instanceof qv,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={jr:ng.bind(null,r),zr:lg.bind(null,r),Wr:dg.bind(null,r),$i:cg.bind(null,r),Qr:eg.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ii(function(){var e=nn(en().mark((function e(t){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ig(i.Vc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=Zv();if(!qv.D(t))throw new hs(ds.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=dv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new qv(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(gg),xg=function(){function e(){b(this,e)}return w(e,[{key:"initialize",value:function(){var e=nn(en().mark((function e(t,n){var r=this;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Ay(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Yy.bind(null,this.syncEngine),e.next=12,Gm(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new ny}},{key:"createDatastore",value:function(e){var t,n=tm(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Jv(t));return function(e,t,n,r){return new om(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Ay(o.syncEngine,e,0)},a=Gv.D()?new Gv:new Wv,new sm(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new xy(e,t,n,r,i,a);return o&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=nn(en().mark((function e(t){var n;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fs(t),as("RemoteStore","RemoteStore shutting down."),n.vu.add(5),e.next=5,fm(n);case 5:n.Pu.shutdown(),n.bu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function wg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return nn(en().mark((function r(){var i;return en().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return nn(en().mark((function e(){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var kg=function(){function e(t){b(this,e),this.observer=t,this.muted=!1}return w(e,[{key:"next",value:function(e){this.observer.next&&this.Sc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Sc(this.observer.error,e):os("Uncaught Error in snapshot listener:",e.toString())}},{key:"Dc",value:function(){this.muted=!0}},{key:"Sc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),_g=function(){function e(t,n){var r=this;b(this,e),this.Cc=t,this.serializer=n,this.metadata=new ps,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((function(e){e&&e.Qu()?r.metadata.resolve(e.Gu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Gu))))}),(function(e){return r.metadata.reject(e)}))}return w(e,[{key:"close",value:function(){return this.Cc.cancel()}},{key:"getMetadata",value:function(){var e=nn(en().mark((function e(){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bc",value:function(){var e=nn(en().mark((function e(){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Nc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Nc",value:function(){var e=nn(en().mark((function e(){var t,n,r,i;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.kc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.xc.decode(t),r=Number(n),isNaN(r)&&this.Mc("length string (".concat(n,") is not valid number")),e.next=9,this.$c(r);case 9:return i=e.sent,e.abrupt("return",new fy(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"kc",value:function(){var e=nn(en().mark((function e(){var t,n;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Oc()<0)){e.next=7;break}return e.next=3,this.Fc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Oc())<0&&this.Mc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$c",value:function(){var e=nn(en().mark((function e(t){var n;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Fc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Mc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.xc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mc",value:function(e){throw this.Cc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Fc",value:function(){var e=nn(en().mark((function e(){var t,n;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Cc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Sg=function(){function e(t){b(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return w(e,[{key:"lookup",value:function(){var e=nn(en().mark((function e(t){var n,r=this;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new hs(ds.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=nn(en().mark((function e(t,n){var r,i,a,o,u,s;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fs(t),i=ah(r.serializer)+"/documents",a={documents:n.map((function(e){return th(r.serializer,e)}))},e.next=5,r.vo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=ch(r.serializer,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());ls(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new bd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=nn(en().mark((function e(){var t,n=this;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Ds.fromPath(t);n.mutations.push(new xd(r,n.precondition(r)))})),e.next=7,function(){var e=nn(en().mark((function e(t,n){var r,i,a;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fs(t),i=ah(r.serializer)+"/documents",a={writes:n.map((function(e){return lh(r.serializer,e)}))},e.next=3,r.Io("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw cs();t=Os.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new hs(ds.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Os.min())?id.exists(!1):id.updateTime(t):id.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Os.min()))throw new hs(ds.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return id.updateTime(t)}return id.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Eg=function(){function e(t,n,r,i,a){b(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new nm(this.asyncQueue,"transaction_retry")}return w(e,[{key:"run",value:function(){this.Bc-=1,this.Lc()}},{key:"Lc",value:function(){var e=this;this.qo.No(nn(en().mark((function t(){var n,r;return en().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Sg(e.datastore),(r=e.qc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Uc(t)}))}))})).catch((function(t){e.Uc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"qc",value:function(e){try{var t=this.updateFunction(e);return!uc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Uc",value:function(e){var t=this;this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Lc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Ed(t)}return!1}}]),e}(),Tg=function(){function e(t,n,r,i){var a=this;b(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ts.UNAUTHENTICATED,this.clientId=Ss.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=nn(en().mark((function e(t){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return as("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return as("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return w(e,[{key:"getConfiguration",value:function(){var e=nn(en().mark((function e(){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new hs(ds.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(nn(en().mark((function n(){var r;return en().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Xm(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Ig(e,t){return jg.apply(this,arguments)}function jg(){return jg=nn(en().mark((function e(t,n){var r,i;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),as("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=nn(en().mark((function e(t){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,yv(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),jg.apply(this,arguments)}function Og(e,t){return Ng.apply(this,arguments)}function Ng(){return Ng=nn(en().mark((function e(t,n){var r,i;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Cg(t);case 3:return r=e.sent,as("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Hm(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Hm(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Ng.apply(this,arguments)}function Ag(e){return"FirebaseError"===e.name?e.code===ds.FAILED_PRECONDITION||e.code===ds.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function Cg(e){return Pg.apply(this,arguments)}function Pg(){return Pg=nn(en().mark((function e(t){var n;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return as("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,Ig(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),Ag(n=e.t0)){e.next=13;break}throw n;case 13:return us("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,Ig(t,new yg);case 16:e.next=21;break;case 18:return as("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,Ig(t,new yg);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])}))),Pg.apply(this,arguments)}function Dg(e){return Mg.apply(this,arguments)}function Mg(){return Mg=nn(en().mark((function e(t){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return as("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,Og(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return as("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,Og(t,new xg);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)}))),Mg.apply(this,arguments)}function Rg(e){return Cg(e).then((function(e){return e.persistence}))}function Lg(e){return Cg(e).then((function(e){return e.localStore}))}function Fg(e){return Dg(e).then((function(e){return e.remoteStore}))}function Bg(e){return Dg(e).then((function(e){return e.syncEngine}))}function Ug(e){return Dg(e).then((function(e){return e.datastore}))}function Vg(e){return zg.apply(this,arguments)}function zg(){return zg=nn(en().mark((function e(t){var n,r;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dg(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=wy.bind(null,n.syncEngine),r.onUnlisten=Ey.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),zg.apply(this,arguments)}function qg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new ps;return e.asyncQueue.enqueueAndForget(nn(en().mark((function i(){return en().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new kg({next:function(a){t.enqueueAndForget((function(){return ay(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new hs(ds.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new hs(ds.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new ly(ff(n.path),a,{includeMetadataChanges:!0,Ku:!0});return ry(e,o)},i.next=3,Vg(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Hg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new ps;return e.asyncQueue.enqueueAndForget(nn(en().mark((function i(){return en().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new kg({next:function(n){t.enqueueAndForget((function(){return ay(e,o)})),n.fromCache&&"server"===r.source?i.reject(new hs(ds.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new ly(n,a,{includeMetadataChanges:!0,Ku:!0});return ry(e,o)},i.next=3,Vg(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Wg(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var Gg=new Map;function Kg(e,t,n){if(!n)throw new hs(ds.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Qg(e,t,n,r){if(!0===t&&!0===r)throw new hs(ds.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Yg(e){if(!Ds.isDocumentKey(e))throw new hs(ds.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function $g(e){if(Ds.isDocumentKey(e))throw new hs(ds.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Xg(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":cs()}function Jg(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new hs(ds.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Xg(e);throw new hs(ds.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Zg(e,t){if(t<=0)throw new hs(ds.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var eb=function(){function e(t){var n,r;if(b(this,e),void 0===t.host){if(void 0!==t.ssl)throw new hs(ds.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new hs(ds.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Qg("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Wg(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new hs(ds.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new hs(ds.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new hs(ds.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return w(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}]),e}(),tb=function(){function e(t,n,r,i){b(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eb({}),this._settingsFrozen=!1}return w(e,[{key:"app",get:function(){if(!this._app)throw new hs(ds.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new hs(ds.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eb(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ms;switch(e.type){case"firstParty":return new xs(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new hs(ds.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Gg.get(e);t&&(as("ComponentProvider","Removing Datastore"),Gg.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function nb(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Jg(e,tb))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&us("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var u,s;if("string"==typeof i.mockUserToken)u=i.mockUserToken,s=ts.MOCK_USER;else{u=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[It(JSON.stringify({alg:"none",type:"JWT"})),It(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new hs(ds.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new ts(c)}e._authCredentials=new ys(new vs(u,s))}}var rb=function(){function e(t,n,r){b(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return w(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new ab(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),ib=function(){function e(t,n,r){b(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return w(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),ab=function(e){_(n,e);var t=I(n);function n(e,r,i){var a;return b(this,n),(a=t.call(this,e,r,ff(i)))._path=i,a.type="collection",a}return w(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new rb(this.firestore,null,new Ds(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(ib);function ob(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Zt(e),Kg("collection","path",t),e instanceof tb){var a=As.fromString.apply(As,[t].concat(r));return $g(a),new ab(e,null,a)}if(!(e instanceof rb||e instanceof ab))throw new hs(ds.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(As.fromString.apply(As,[t].concat(r)));return $g(o),new ab(e.firestore,null,o)}function ub(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Zt(e),1===arguments.length&&(t=Ss.A()),Kg("doc","path",t),e instanceof tb){var a=As.fromString.apply(As,[t].concat(r));return Yg(a),new rb(e,null,new Ds(a))}if(!(e instanceof rb||e instanceof ab))throw new hs(ds.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(As.fromString.apply(As,[t].concat(r)));return Yg(o),new rb(e.firestore,e instanceof ab?e.converter:null,new Ds(o))}function sb(e,t){return e=Zt(e),t=Zt(t),(e instanceof rb||e instanceof ab)&&(t instanceof rb||t instanceof ab)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function cb(e,t){return e=Zt(e),t=Zt(t),e instanceof ib&&t instanceof ib&&e.firestore===t.firestore&&xf(e._query,t._query)&&e.converter===t.converter}var lb=function(){function e(){var t=this;b(this,e),this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new nm(this,"async_queue_retry"),this.Xc=function(){var e=em();e&&as("AsyncQueue","Visibility state changed to "+e.visibilityState),t.qo.Mo()};var n=em();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xc)}return w(e,[{key:"isShuttingDown",get:function(){return this.jc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Zc(),this.ta(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;var t=em();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Zc(),this.jc)return new Promise((function(){}));var n=new ps;return this.ta((function(){return t.jc&&t.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Qc.push(e),t.ea()}))}},{key:"ea",value:function(){var e=nn(en().mark((function e(){var t=this;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Qc.length){e.next=14;break}return e.prev=1,e.next=4,this.Qc[0]();case 4:this.Qc.shift(),this.qo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Zs(e.t0)){e.next=12;break}throw e.t0;case 12:as("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Qc.length>0&&this.qo.No((function(){return t.ea()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ta",value:function(e){var t=this,n=this.Gc.then((function(){return t.Hc=!0,e().catch((function(e){t.Wc=e,t.Hc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw os("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Hc=!1,e}))}));return this.Gc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);var i=$m.createAndSchedule(this,e,t,n,(function(e){return r.na(e)}));return this.zc.push(i),i}},{key:"Zc",value:function(){this.Wc&&cs()}},{key:"verifyOperationInProgress",value:function(){}},{key:"sa",value:function(){var e=nn(en().mark((function e(){var t;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Gc,e.next=3,t;case 3:if(t!==this.Gc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ia",value:function(e){var t,n=A(this.zc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ra",value:function(e){var t=this;return this.sa().then((function(){t.zc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=A(t.zc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.sa()}))}},{key:"oa",value:function(e){this.Yc.push(e)}},{key:"na",value:function(e){var t=this.zc.indexOf(e);this.zc.splice(t,1)}}]),e}();function fb(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=A(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var db=function(){function e(){b(this,e),this._progressObserver={},this._taskCompletionResolver=new ps,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return w(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),hb=function(e){_(n,e);var t=I(n);function n(e,r,i,a){var o;return b(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new lb,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return w(n,[{key:"_terminate",value:function(){return this._firestoreClient||vb(this),this._firestoreClient.terminate()}}]),n}(tb);function pb(e){return e._firestoreClient||vb(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function vb(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new il(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Wg(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Tg(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function mb(e,t,n){var r=new ps;return e.asyncQueue.enqueue(nn(en().mark((function i(){var a;return en().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Ig(e,n);case 3:return i.next=5,Og(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),Ag(a=i.t0)){i.next=13;break}throw a;case 13:us("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function yb(e){return function(e){return e.asyncQueue.enqueue(nn(en().mark((function t(){var n,r;return en().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Rg(e);case 2:return n=t.sent,t.next=5,Fg(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=fs(e);return t.vu.delete(0),cm(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(pb(e=Jg(e,hb)))}function gb(e){return function(e){return e.asyncQueue.enqueue(nn(en().mark((function t(){var n,r;return en().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Rg(e);case 2:return n=t.sent,t.next=5,Fg(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=nn(en().mark((function e(t){var n;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=fs(t)).vu.add(0),e.next=4,fm(n);case 4:n.bu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(pb(e=Jg(e,hb)))}function bb(e,t){var n=pb(e=Jg(e,hb)),r=new db;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new _g(e,t)}(function(e,t){if(e instanceof Uint8Array)return wg(e,t);if(e instanceof ArrayBuffer)return wg(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?Od().encode(e):e),t)}(n,tm(t));e.asyncQueue.enqueueAndForget(nn(en().mark((function t(){return en().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=mg,t.next=3,Bg(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function xb(e,t){return function(e,t){return e.asyncQueue.enqueue(nn(en().mark((function n(){return en().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=fs(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.qs.getNamedQuery(e,t)}))},n.next=3,Lg(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(pb(e=Jg(e,hb)),t).then((function(t){return t?new ib(e,null,t.query):null}))}function wb(e){if(e._initialized||e._terminated)throw new hs(ds.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var kb=function(){function e(t){b(this,e),this._byteString=t}return w(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e($c.fromBase64String(t))}catch(t){throw new hs(ds.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e($c.fromUint8Array(t))}}]),e}(),_b=function(){function e(){b(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new hs(ds.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ps(n)}return w(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Sb=w((function e(t){b(this,e),this._methodName=t})),Eb=function(){function e(t,n){if(b(this,e),!isFinite(t)||t<-90||t>90)throw new hs(ds.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new hs(ds.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return w(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Es(this._lat,e._lat)||Es(this._long,e._long)}}]),e}(),Tb=/^__.*__$/,Ib=function(){function e(t,n,r){b(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return w(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new hd(e,this.data,this.fieldMask,t,this.fieldTransforms):new dd(e,this.data,t,this.fieldTransforms)}}]),e}(),jb=function(){function e(t,n,r){b(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return w(e,[{key:"toMutation",value:function(e,t){return new hd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Ob(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw cs()}}var Nb=function(){function e(t,n,r,i,a,o){b(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return w(e,[{key:"path",get:function(){return this.settings.path}},{key:"ca",get:function(){return this.settings.ca}},{key:"aa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}},{key:"da",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}},{key:"wa",value:function(e){return this.aa({path:void 0,la:!0})}},{key:"_a",value:function(e){return $b(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ua",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.fa(this.path.get(e))}},{key:"fa",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Ob(this.ca)&&Tb.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),Ab=function(){function e(t,n,r){b(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||tm(t)}return w(e,[{key:"ya",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Nb({ca:e,methodName:t,ga:n,path:Ps.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function Cb(e){var t=e._freezeSettings(),n=tm(e._databaseId);return new Ab(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Pb(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ya(a.merge||a.mergeFields?2:0,t,n,i);Gb("Data must be an object, but it was:",o,r);var u,s,c=Hb(r,o);if(a.merge)u=new Qc(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],d=A(a.mergeFields);try{for(d.s();!(l=d.n()).done;){var h=Kb(t,l.value,n);if(!o.contains(h))throw new hs(ds.INVALID_ARGUMENT,"Field '".concat(h,"' is specified in your field mask but missing from your input data."));Xb(f,h)||f.push(h)}}catch(p){d.e(p)}finally{d.f()}u=new Qc(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new Ib(new Il(c),u,s)}var Db=function(e){_(n,e);var t=I(n);function n(){return b(this,n),t.apply(this,arguments)}return w(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Sb);function Mb(e,t,n){return new Nb({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var Rb=function(e){_(n,e);var t=I(n);function n(){return b(this,n),t.apply(this,arguments)}return w(n,[{key:"_toFieldTransform",value:function(e){return new nd(e.path,new Qf)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Sb),Lb=function(e){_(n,e);var t=I(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e)).pa=r,i}return w(n,[{key:"_toFieldTransform",value:function(e){var t=Mb(this,e,!0),n=this.pa.map((function(e){return qb(e,t)})),r=new Yf(n);return new nd(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Sb),Fb=function(e){_(n,e);var t=I(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e)).pa=r,i}return w(n,[{key:"_toFieldTransform",value:function(e){var t=Mb(this,e,!0),n=this.pa.map((function(e){return qb(e,t)})),r=new Xf(n);return new nd(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Sb),Bb=function(e){_(n,e);var t=I(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e)).Ia=r,i}return w(n,[{key:"_toFieldTransform",value:function(e){var t=new Zf(e.serializer,qf(e.serializer,this.Ia));return new nd(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Sb);function Ub(e,t,n,r){var i=e.ya(1,t,n);Gb("Data must be an object, but it was:",i,r);var a=[],o=Il.empty();Uc(r,(function(e,r){var u=Yb(t,e,n);r=Zt(r);var s=i.da(u);if(r instanceof Db)a.push(u);else{var c=qb(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Qc(a);return new jb(o,u,i.fieldTransforms)}function Vb(e,t,n,r,i,a){var o=e.ya(1,t,n),u=[Kb(t,r,n)],s=[i];if(a.length%2!=0)throw new hs(ds.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(Kb(t,a[c])),s.push(a[c+1]);for(var l=[],f=Il.empty(),d=u.length-1;d>=0;--d)if(!Xb(l,u[d])){var h=u[d],p=s[d];p=Zt(p);var v=o.da(h);if(p instanceof Db)l.push(h);else{var m=qb(p,v);null!=m&&(l.push(h),f.set(h,m))}}var y=new Qc(l);return new jb(f,y,o.fieldTransforms)}function zb(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return qb(n,e.ya(r?4:3,t))}function qb(e,t){if(Wb(e=Zt(e)))return Gb("Unsupported field value:",t,e),Hb(e,t);if(e instanceof Sb)return function(e,t){if(!Ob(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=A(e);try{for(a.s();!(n=a.n()).done;){var o=qb(n.value,t.wa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Zt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return qf(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=js.fromDate(e);return{timestampValue:Yd(t.serializer,n)}}if(e instanceof js){var r=new js(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Yd(t.serializer,r)}}if(e instanceof Eb)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof kb)return{bytesValue:$d(t.serializer,e._byteString)};if(e instanceof rb){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t._a("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Zd(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(Xg(e)))}(e,t)}function Hb(e,t){var n={};return Vc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Uc(e,(function(e,r){var i=qb(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Wb(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof js||e instanceof Eb||e instanceof kb||e instanceof rb||e instanceof Sb)}function Gb(e,t,n){if(!Wb(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Xg(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function Kb(e,t,n){if((t=Zt(t))instanceof _b)return t._internalPath;if("string"==typeof t)return Yb(e,t);throw $b("Field path arguments must be of type string or ",e,!1,void 0,n)}var Qb=new RegExp("[~\\*/\\[\\]]");function Yb(e,t,n){if(t.search(Qb)>=0)throw $b("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return j(_b,g(t.split(".")))._internalPath}catch(NO){throw $b("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function $b(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new hs(ds.INVALID_ARGUMENT,u+e+s)}function Xb(e,t){return e.some((function(e){return e.isEqual(t)}))}var Jb=function(){function e(t,n,r,i,a){b(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return w(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new rb(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Zb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(ex("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Zb=function(e){_(n,e);var t=I(n);function n(){return b(this,n),t.apply(this,arguments)}return w(n,[{key:"data",value:function(){return Ar(S(n.prototype),"data",this).call(this)}}]),n}(Jb);function ex(e,t){return"string"==typeof t?Yb(e,t):t instanceof _b?t._internalPath:t._delegate._internalPath}function tx(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new hs(ds.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var nx=w((function e(){b(this,e)})),rx=function(e){_(n,e);var t=I(n);function n(){return b(this,n),t.apply(this,arguments)}return w(n)}(nx);function ix(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof nx&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof ox})).length,n=e.filter((function(e){return e instanceof ax})).length;if(t>1||t>0&&n>0)throw new hs(ds.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=A(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var ax=function(e){_(n,e);var t=I(n);function n(e,r,i){var a;return b(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return w(n,[{key:"_apply",value:function(e){var t=this._parse(e);return gx(e._query,t),new ib(e.firestore,e.converter,gf(e._query,t))}},{key:"_parse",value:function(e){var t=Cb(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new hs(ds.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){yx(o,a);var s,c=[],l=A(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(mx(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=mx(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||yx(o,a),u=zb(n,"where",o,"in"===a||"not-in"===a);return Rl.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(rx);var ox=function(e){_(n,e);var t=I(n);function n(e,r){var i;return b(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return w(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Ll.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=A(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;gx(r,a),r=gf(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new ib(e.firestore,e.converter,gf(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(nx);var ux=function(e){_(n,e);var t=I(n);function n(e,r){var i;return b(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return w(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new hs(ds.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new hs(ds.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Pl(t,n);return function(e,t){if(null===hf(e)){var n=pf(e);null!==n&&bx(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new ib(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new cf(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(rx);var sx=function(e){_(n,e);var t=I(n);function n(e,r,i){var a;return b(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return w(n,[{key:"_apply",value:function(e){return new ib(e.firestore,e.converter,bf(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(rx);var cx=function(e){_(n,e);var t=I(n);function n(e,r,i){var a;return b(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return w(n,[{key:"_apply",value:function(e){var t=vx(e,this.type,this._docOrFields,this._inclusive);return new ib(e.firestore,e.converter,function(e,t){return new cf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(rx);function lx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return cx._create("startAt",t,!0)}function fx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return cx._create("startAfter",t,!1)}var dx=function(e){_(n,e);var t=I(n);function n(e,r,i){var a;return b(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return w(n,[{key:"_apply",value:function(e){var t=vx(e,this.type,this._docOrFields,this._inclusive);return new ib(e.firestore,e.converter,function(e,t){return new cf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(rx);function hx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return dx._create("endBefore",t,!1)}function px(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return dx._create("endAt",t,!0)}function vx(e,t,n,r){if(n[0]=Zt(n[0]),n[0]instanceof Jb)return function(e,t,n,r,i){if(!r)throw new hs(ds.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=A(mf(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(vl(t,r.key));else{var c=r.data.field(s.field);if(tl(c))throw new hs(ds.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new hs(ds.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Nl(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Cb(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new hs(ds.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new hs(ds.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!vf(e)&&-1!==c.indexOf("/"))throw new hs(ds.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(As.fromString(c));if(!Ds.isDocumentKey(l))throw new hs(ds.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Ds(l);u.push(vl(t,f))}else{var d=zb(n,r,c);u.push(d)}}return new Nl(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function mx(e,t,n){if("string"==typeof(n=Zt(n))){if(""===n)throw new hs(ds.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vf(t)&&-1!==n.indexOf("/"))throw new hs(ds.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(As.fromString(n));if(!Ds.isDocumentKey(r))throw new hs(ds.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return vl(e,new Ds(r))}if(n instanceof rb)return vl(e,n._key);throw new hs(ds.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Xg(n),"."))}function yx(e,t){if(!Array.isArray(e)||0===e.length)throw new hs(ds.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function gx(e,t){if(t.isInequality()){var n=pf(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new hs(ds.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=hf(e);null!==i&&bx(e,r,i)}var a=function(e,t){var n,r=A(e);try{for(r.s();!(n=r.n()).done;){var i,a=A(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new hs(ds.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new hs(ds.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function bx(e,t,n){if(!n.isEqual(t))throw new hs(ds.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var xx=function(){function e(){b(this,e)}return w(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(sl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(el(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw cs()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return Uc(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new Eb(Zc(e.latitude),Zc(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=nl(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(rl(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Jc(e);return new js(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=As.fromString(e);ls(_h(n));var r=new al(n.get(1),n.get(3)),i=new Ds(n.popFirst(5));return r.isEqual(t)||os("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function wx(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var kx=function(e){_(n,e);var t=I(n);function n(e){var r;return b(this,n),(r=t.call(this)).firestore=e,r}return w(n,[{key:"convertBytes",value:function(e){return new kb(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new rb(this.firestore,null,t)}}]),n}(xx);var _x=function(){function e(t,n){b(this,e),this.hasPendingWrites=t,this.fromCache=n}return w(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Sx=function(e){_(n,e);var t=I(n);function n(e,r,i,a,o,u){var s;return b(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return w(n,[{key:"exists",value:function(){return Ar(S(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Ex(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(ex("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Jb),Ex=function(e){_(n,e);var t=I(n);function n(){return b(this,n),t.apply(this,arguments)}return w(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ar(S(n.prototype),"data",this).call(this,e)}}]),n}(Sx),Tx=function(){function e(t,n,r,i){b(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new _x(i.hasPendingWrites,i.fromCache),this.query=r}return w(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Ex(n._firestore,n._userDataWriter,r.key,r,new _x(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new hs(ds.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Ex(e._firestore,e._userDataWriter,t.doc.key,t.doc,new _x(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Ex(e._firestore,e._userDataWriter,t.doc.key,t.doc,new _x(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Ix(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function Ix(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return cs()}}function jx(e,t){return e instanceof Sx&&t instanceof Sx?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Tx&&t instanceof Tx&&e._firestore===t._firestore&&cb(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var Ox=function(e){_(n,e);var t=I(n);function n(e){var r;return b(this,n),(r=t.call(this)).firestore=e,r}return w(n,[{key:"convertBytes",value:function(e){return new kb(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new rb(this.firestore,null,t)}}]),n}(xx);function Nx(e){e=Jg(e,rb);var t=Jg(e.firestore,hb),n=pb(t),r=new Ox(t);return function(e,t){var n=new ps;return e.asyncQueue.enqueueAndForget(nn(en().mark((function r(){return en().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=nn(en().mark((function e(t,n,r){var i,a;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=fs(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new hs(ds.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Xm(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Lg(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Sx(t,r,e._key,n,new _x(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Ax(e){e=Jg(e,ib);var t=Jg(e.firestore,hb),n=pb(t),r=new Ox(t);return function(e,t){var n=new ps;return e.asyncQueue.enqueueAndForget(nn(en().mark((function r(){return en().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=nn(en().mark((function e(t,n,r){var i,a,o,u,s;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Iv(t,n,!0);case 3:i=e.sent,a=new yy(n,i.ir),o=a.sc(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Xm(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Lg(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Tx(t,r,e,n)}))}function Cx(e,t,n){e=Jg(e,rb);var r=Jg(e.firestore,hb),i=wx(e.converter,t,n);return Rx(r,[Pb(Cb(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,id.none())])}function Px(e,t,n){e=Jg(e,rb);for(var r=Jg(e.firestore,hb),i=Cb(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Rx(r,[("string"==typeof(t=Zt(t))||t instanceof _b?Vb(i,"updateDoc",e._key,t,n,o):Ub(i,"updateDoc",e._key,t)).toMutation(e._key,id.exists(!0))])}function Dx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Zt(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||fb(n[s])||(u=n[s],s++);var c,l,f,d={includeMetadataChanges:u.includeMetadataChanges};if(fb(n[s])){var h=n[s];n[s]=null===(i=h.next)||void 0===i?void 0:i.bind(h),n[s+1]=null===(a=h.error)||void 0===a?void 0:a.bind(h),n[s+2]=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}if(e instanceof rb)l=Jg(e.firestore,hb),f=ff(e._key.path),c={next:function(t){n[s]&&n[s](Lx(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=Jg(e,ib);l=Jg(p.firestore,hb),f=p._query;var v=new Ox(l);c={next:function(e){n[s]&&n[s](new Tx(l,v,p,e))},error:n[s+1],complete:n[s+2]},tx(e._query)}return function(e,t,n,r){var i=new kg(r),a=new ly(t,i,n);return e.asyncQueue.enqueueAndForget(nn(en().mark((function t(){return en().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ry,t.next=3,Vg(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Dc(),e.asyncQueue.enqueueAndForget(nn(en().mark((function t(){return en().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ay,t.next=3,Vg(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(pb(l),f,d,c)}function Mx(e,t){return function(e,t){var n=new kg(t);return e.asyncQueue.enqueueAndForget(nn(en().mark((function t(){return en().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){fs(e).ku.add(t),t.next()},t.next=3,Vg(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Dc(),e.asyncQueue.enqueueAndForget(nn(en().mark((function t(){return en().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){fs(e).ku.delete(t)},t.next=3,Vg(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(pb(e=Jg(e,hb)),fb(t)?t:{next:t})}function Rx(e,t){return function(e,t){var n=new ps;return e.asyncQueue.enqueueAndForget(nn(en().mark((function r(){return en().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Iy,r.next=3,Bg(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(pb(e),t)}function Lx(e,t,n){var r=n.docs.get(t._key),i=new Ox(e);return new Sx(e,i,t._key,r,new _x(n.hasPendingWrites,n.fromCache),t.converter)}var Fx={maxAttempts:5},Bx=function(){function e(t,n){b(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Cb(t)}return w(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Ux(e,this._firestore),i=wx(r.converter,t,n),a=Pb(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,id.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Ux(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Zt(t))||t instanceof _b?Vb(this._dataReader,"WriteBatch.update",i._key,t,n,o):Ub(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,id.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Ux(e,this._firestore);return this._mutations=this._mutations.concat(new bd(t._key,id.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new hs(ds.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Ux(e,t){if((e=Zt(e)).firestore!==t)throw new hs(ds.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Vx=function(e){_(n,e);var t=I(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e,r))._firestore=e,i}return w(n,[{key:"get",value:function(e){var t=this,r=Ux(e,this._firestore),i=new Ox(this._firestore);return Ar(S(n.prototype),"get",this).call(this,e).then((function(e){return new Sx(t._firestore,i,r._key,e._document,new _x(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){b(this,e),this._firestore=t,this._transaction=n,this._dataReader=Cb(t)}return w(e,[{key:"get",value:function(e){var t=this,n=Ux(e,this._firestore),r=new kx(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return cs();var i=e[0];if(i.isFoundDocument())return new Jb(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Jb(t._firestore,r,n._key,null,n.converter);throw cs()}))}},{key:"set",value:function(e,t,n){var r=Ux(e,this._firestore),i=wx(r.converter,t,n),a=Pb(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=Ux(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Zt(t))||t instanceof _b?Vb(this._dataReader,"Transaction.update",i._key,t,n,o):Ub(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Ux(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function zx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Lb("arrayUnion",t)}function qx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Fb("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ns=e}(Jn),Wn(new rn("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new hb(new gs(e.getProvider("auth-internal")),new ks(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new hs(ds.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new al(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),ir(es,"3.12.2",e),ir(es,"3.12.2","esm2017")}();function Hx(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new hs("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Wx(){if("undefined"===typeof Uint8Array)throw new hs("unimplemented","Uint8Arrays are not available in this environment.")}function Gx(){if("undefined"==typeof atob)throw new hs("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Kx=function(){function e(t){b(this,e),this._delegate=t}return w(e,[{key:"toBase64",value:function(){return Gx(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return Wx(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Gx(),new e(kb.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return Wx(),new e(kb.fromUint8Array(t))}}]),e}();function Qx(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=A(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var Yx=function(){function e(){b(this,e)}return w(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){wb(e=Jg(e,hb));var n=pb(e);if(n._uninitializedComponentsProvider)throw new hs(ds.FAILED_PRECONDITION,"SDK cache is already specified.");us("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new xg;return mb(n,i,new gg(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){wb(e=Jg(e,hb));var t=pb(e);if(t._uninitializedComponentsProvider)throw new hs(ds.FAILED_PRECONDITION,"SDK cache is already specified.");us("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new xg;return mb(t,r,new bg(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new hs(ds.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new ps;return e._queue.enqueueAndForgetEvenWhileRestricted(nn(en().mark((function n(){return en().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=nn(en().mark((function e(t){var n;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($s.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,$s.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(dv(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),$x=function(){function e(t,n,r){var i=this;b(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof al||(this._appCompat=t)}return w(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||us("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};nb(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return yb(this._delegate)}},{key:"disableNetwork",value:function(){return gb(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Qg("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new ps;return e.asyncQueue.enqueueAndForget(nn(en().mark((function n(){return en().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Fy,n.next=3,Bg(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(pb(e=Jg(e,hb)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Mx(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new hs("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new lw(this,ob(this._delegate,e))}catch(t){throw nw(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new tw(this,ub(this._delegate,e))}catch(t){throw nw(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new uw(this,function(e,t){if(e=Jg(e,tb),Kg("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new hs(ds.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new ib(e,null,function(e){return new cf(As.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw nw(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=Jg(e,hb);var r=Object.assign(Object.assign({},Fx),n);return function(e){if(e.maxAttempts<1)throw new hs(ds.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new ps;return e.asyncQueue.enqueueAndForget(nn(en().mark((function i(){var a;return en().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Ug(e);case 2:a=i.sent,new Eg(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(pb(e),(function(n){return t(new Vx(e,n))}),r)}(this._delegate,(function(n){return e(new Jx(t,n))}))}},{key:"batch",value:function(){var e=this;return pb(this._delegate),new Zx(new Bx(this._delegate,(function(t){return Rx(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return bb(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return xb(this._delegate,e).then((function(e){return e?new uw(t,e):null}))}}]),e}(),Xx=function(e){_(n,e);var t=I(n);function n(e){var r;return b(this,n),(r=t.call(this)).firestore=e,r}return w(n,[{key:"convertBytes",value:function(e){return new Kx(new kb(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return tw.forKey(t,this.firestore,null)}}]),n}(xx);var Jx=function(){function e(t,n){b(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Xx(t)}return w(e,[{key:"get",value:function(e){var t=this,n=fw(e);return this._delegate.get(n).then((function(e){return new aw(t._firestore,new Sx(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=fw(e);return n?(Hx("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=fw(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=fw(e);return this._delegate.delete(t),this}}]),e}(),Zx=function(){function e(t){b(this,e),this._delegate=t}return w(e,[{key:"set",value:function(e,t,n){var r=fw(e);return n?(Hx("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=fw(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=fw(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),ew=function(){function e(t,n,r){b(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return w(e,[{key:"fromFirestore",value:function(e,t){var n=new Ex(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ow(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Xx(t),n),i.set(n,a)),a}}]),e}();ew.INSTANCES=new WeakMap;var tw=function(){function e(t,n){b(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Xx(t)}return w(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new lw(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new lw(this.firestore,ob(this._delegate,e))}catch(t){throw nw(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Zt(e))instanceof rb&&sb(this._delegate,e)}},{key:"set",value:function(e,t){t=Hx("DocumentReference.set",t);try{return t?Cx(this._delegate,e,t):Cx(this._delegate,e)}catch(n){throw nw(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Px(this._delegate,e):Px.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw nw(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return Rx(Jg(e.firestore,hb),[new bd(e._key,id.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=rw(n),a=iw(n,(function(t){return new aw(e.firestore,new Sx(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Dx(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Nx(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Jg(e,rb);var t=Jg(e.firestore,hb);return qg(pb(t),e._key,{source:"server"}).then((function(n){return Lx(t,e,n)}))}(this._delegate):function(e){e=Jg(e,rb);var t=Jg(e.firestore,hb);return qg(pb(t),e._key).then((function(n){return Lx(t,e,n)}))}(this._delegate),t.then((function(e){return new aw(n.firestore,new Sx(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(ew.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new hs("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new rb(n._delegate,r,new Ds(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new rb(n._delegate,r,t))}}]),e}();function nw(e,t,n){return e.message=e.message.replace(t,n),e}function rw(e){var t,n=A(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!Qx(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function iw(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Qx(e[0])?e[0]:Qx(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var aw=function(){function e(t,n){b(this,e),this._firestore=t,this._delegate=n}return w(e,[{key:"ref",get:function(){return new tw(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return jx(this._delegate,e._delegate)}}]),e}(),ow=function(e){_(n,e);var t=I(n);function n(){return b(this,n),t.apply(this,arguments)}return w(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||cs()}(void 0!==t),t}}]),n}(aw),uw=function(){function e(t,n){b(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Xx(t)}return w(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,ix(this._delegate,function(e,t,n){var r=t,i=ex("where",e);return ax._create(i,r,n)}(t,n,r)))}catch(i){throw nw(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,ix(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=ex("orderBy",e);return ux._create(n,t)}(t,n)))}catch(r){throw nw(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,ix(this._delegate,function(e){return Zg("limit",e),sx._create("limit",e,"F")}(t)))}catch(n){throw nw(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,ix(this._delegate,function(e){return Zg("limitToLast",e),sx._create("limitToLast",e,"L")}(t)))}catch(n){throw nw(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,ix(this._delegate,lx.apply(void 0,arguments)))}catch(t){throw nw(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,ix(this._delegate,fx.apply(void 0,arguments)))}catch(t){throw nw(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,ix(this._delegate,hx.apply(void 0,arguments)))}catch(t){throw nw(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,ix(this._delegate,px.apply(void 0,arguments)))}catch(t){throw nw(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return cb(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Ax(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Jg(e,ib);var t=Jg(e.firestore,hb),n=pb(t),r=new Ox(t);return Hg(n,e._query,{source:"server"}).then((function(n){return new Tx(t,r,e,n)}))}(this._delegate):function(e){e=Jg(e,ib);var t=Jg(e.firestore,hb),n=pb(t),r=new Ox(t);return tx(e._query),Hg(n,e._query).then((function(n){return new Tx(t,r,e,n)}))}(this._delegate),t.then((function(e){return new cw(n.firestore,new Tx(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=rw(n),a=iw(n,(function(t){return new cw(e.firestore,new Tx(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Dx(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(ew.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),sw=function(){function e(t,n){b(this,e),this._firestore=t,this._delegate=n}return w(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new ow(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),cw=function(){function e(t,n){b(this,e),this._firestore=t,this._delegate=n}return w(e,[{key:"query",get:function(){return new uw(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new ow(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new sw(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new ow(n._firestore,r))}))}},{key:"isEqual",value:function(e){return jx(this._delegate,e._delegate)}}]),e}(),lw=function(e){_(n,e);var t=I(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return w(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new tw(this.firestore,e):null}},{key:"doc",value:function(e){try{return new tw(this.firestore,void 0===e?ub(this._delegate):ub(this._delegate,e))}catch(t){throw nw(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Jg(e.firestore,hb),r=ub(e),i=wx(e.converter,t);return Rx(n,[Pb(Cb(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,id.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new tw(t.firestore,e)}))}},{key:"isEqual",value:function(e){return sb(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(ew.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(uw);function fw(e){return Jg(e,rb)}var dw,hw=function(){function e(){b(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=j(_b,n)}return w(e,[{key:"isEqual",value:function(e){return(e=Zt(e))instanceof _b&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Ps.keyField().canonicalString())}}]),e}(),pw=function(){function e(t){b(this,e),this._delegate=t}return w(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Rb("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new Db("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=zx.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=qx.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new Bb("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),vw={Firestore:$x,GeoPoint:Eb,Timestamp:js,Blob:Kx,Transaction:Jx,WriteBatch:Zx,DocumentReference:tw,DocumentSnapshot:aw,Query:uw,QueryDocumentSnapshot:ow,QuerySnapshot:cw,CollectionReference:lw,FieldPath:hw,FieldValue:pw,setLogLevel:function(e){!function(e){rs.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new rn("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},vw)))})(dw=Nr,(function(e,t){return new $x(e,t,new Yx)})),dw.registerVersion("@firebase/firestore-compat","0.3.11");function mw(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;var yw,gw={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},bw="EMAIL_SIGNIN",xw="PASSWORD_RESET",ww="RECOVER_EMAIL",kw="REVERT_SECOND_FACTOR_ADDITION",_w="VERIFY_AND_CHANGE_EMAIL",Sw="VERIFY_EMAIL";function Ew(){return c({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Tw=function(){var e;return c(e={},"admin-restricted-operation","This operation is restricted to administrators only."),c(e,"argument-error",""),c(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),c(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),c(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),c(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),c(e,"cordova-not-ready","Cordova framework is not ready."),c(e,"cors-unsupported","This browser is not supported."),c(e,"credential-already-in-use","This credential is already associated with a different user account."),c(e,"custom-token-mismatch","The custom token corresponds to a different audience."),c(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),c(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),c(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),c(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),c(e,"email-already-in-use","The email address is already in use by another account."),c(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),c(e,"expired-action-code","The action code has expired."),c(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),c(e,"internal-error","An internal AuthError has occurred."),c(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),c(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),c(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),c(e,"invalid-auth-event","An internal AuthError has occurred."),c(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),c(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),c(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),c(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),c(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),c(e,"invalid-email","The email address is badly formatted."),c(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),c(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),c(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),c(e,"invalid-credential","The supplied auth credential is malformed or has expired."),c(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),c(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),c(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),c(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),c(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),c(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),c(e,"wrong-password","The password is invalid or the user does not have a password."),c(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),c(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),c(e,"invalid-provider-id","The specified provider ID is invalid."),c(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),c(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),c(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),c(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),c(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),c(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),c(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),c(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),c(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),c(e,"missing-continue-uri","A continue URL must be provided in the request."),c(e,"missing-iframe-start","An internal AuthError has occurred."),c(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),c(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),c(e,"missing-password","A non-empty password must be provided"),c(e,"missing-multi-factor-info","No second factor identifier is provided."),c(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),c(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),c(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),c(e,"app-deleted","This instance of FirebaseApp has been deleted."),c(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),c(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),c(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),c(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),c(e,"no-auth-event","An internal AuthError has occurred."),c(e,"no-such-provider","User was not linked to an account with the given provider."),c(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),c(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),c(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),c(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),c(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),c(e,"provider-already-linked","User can only be linked to one identity for the given provider."),c(e,"quota-exceeded","The project's quota for this operation has been exceeded."),c(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),c(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),c(e,"rejected-credential","The request contains malformed or mismatching credentials."),c(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),c(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),c(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),c(e,"timeout","The operation has timed out."),c(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),c(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),c(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),c(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),c(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),c(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),c(e,"unverified-email","The operation requires a verified email."),c(e,"user-cancelled","The user did not grant your application the permissions it requested."),c(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),c(e,"user-disabled","The user account has been disabled by an administrator."),c(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),c(e,"user-signed-out",""),c(e,"weak-password","The password must be 6 characters long or more."),c(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),c(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),c(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),c(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),c(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),c(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),c(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),c(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),c(e,"invalid-req-type","Invalid request parameters."),c(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),e},Iw=Ew,jw=new Vt("auth","Firebase",Ew()),Ow=new vn("@firebase/auth");function Nw(e){if(Ow.logLevel<=sn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ow.warn.apply(Ow,["Auth (".concat(Jn,"): ").concat(e)].concat(n))}}function Aw(e){if(Ow.logLevel<=sn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ow.error.apply(Ow,["Auth (".concat(Jn,"): ").concat(e)].concat(n))}}function Cw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Rw.apply(void 0,[e].concat(n))}function Pw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Rw.apply(void 0,[e].concat(n))}function Dw(e,t,n){var r=Object.assign(Object.assign({},Iw()),c({},t,n));return new Vt("auth","Firebase",r).create(t,{appName:e.name})}function Mw(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Cw(e,"argument-error"),Dw(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Rw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=g(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(g(o)))}return jw.create.apply(jw,[e].concat(n))}function Lw(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Rw.apply(void 0,[t].concat(r))}}function Fw(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Aw(t),new Error(t)}function Bw(e,t){e||Fw(t)}function Uw(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Vw(){return"http:"===zw()||"https:"===zw()}function zw(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var qw=function(){function e(t,n){b(this,e),this.shortDelay=t,this.longDelay=n,Bw(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())||Lt()}return w(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Vw()||Rt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Hw(e,t){Bw(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Ww=function(){function e(){b(this,e)}return w(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Fw("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Fw("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Fw("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Gw=(c(yw={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),c(yw,"MISSING_CUSTOM_TOKEN","internal-error"),c(yw,"INVALID_IDENTIFIER","invalid-email"),c(yw,"MISSING_CONTINUE_URI","internal-error"),c(yw,"INVALID_PASSWORD","wrong-password"),c(yw,"MISSING_PASSWORD","missing-password"),c(yw,"EMAIL_EXISTS","email-already-in-use"),c(yw,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),c(yw,"INVALID_IDP_RESPONSE","invalid-credential"),c(yw,"INVALID_PENDING_TOKEN","invalid-credential"),c(yw,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),c(yw,"MISSING_REQ_TYPE","internal-error"),c(yw,"EMAIL_NOT_FOUND","user-not-found"),c(yw,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),c(yw,"EXPIRED_OOB_CODE","expired-action-code"),c(yw,"INVALID_OOB_CODE","invalid-action-code"),c(yw,"MISSING_OOB_CODE","internal-error"),c(yw,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),c(yw,"INVALID_ID_TOKEN","invalid-user-token"),c(yw,"TOKEN_EXPIRED","user-token-expired"),c(yw,"USER_NOT_FOUND","user-token-expired"),c(yw,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),c(yw,"INVALID_CODE","invalid-verification-code"),c(yw,"INVALID_SESSION_INFO","invalid-verification-id"),c(yw,"INVALID_TEMPORARY_PROOF","invalid-credential"),c(yw,"MISSING_SESSION_INFO","missing-verification-id"),c(yw,"SESSION_EXPIRED","code-expired"),c(yw,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),c(yw,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),c(yw,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),c(yw,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),c(yw,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),c(yw,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),c(yw,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),c(yw,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),c(yw,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),c(yw,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),c(yw,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),c(yw,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),c(yw,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),c(yw,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),c(yw,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),c(yw,"MISSING_CLIENT_TYPE","missing-client-type"),c(yw,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),c(yw,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),c(yw,"INVALID_REQ_TYPE","invalid-req-type"),yw),Kw=new qw(3e4,6e4);function Qw(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Yw(e,t,n,r){return $w.apply(this,arguments)}function $w(){return $w=nn(en().mark((function e(t,n,r,i){var a,o=arguments;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Xw(t,a,nn(en().mark((function e(){var a,o,u,s;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Kt(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Ww.fetch()(tk(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),$w.apply(this,arguments)}function Xw(e,t,n){return Jw.apply(this,arguments)}function Jw(){return Jw=nn(en().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d,h;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Gw),n),e.prev=2,a=new nk(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw rk(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=m(c,2),f=l[0],d=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw rk(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw rk(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw rk(t,"user-disabled",u);case 29:if(h=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Dw(t,h,d);case 34:Cw(t,h);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Ut)){e.next=41;break}throw e.t0;case 41:Cw(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Jw.apply(this,arguments)}function Zw(e,t,n,r){return ek.apply(this,arguments)}function ek(){return ek=nn(en().mark((function e(t,n,r,i){var a,o,u=arguments;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Yw(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Cw(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),ek.apply(this,arguments)}function tk(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Hw(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var nk=function(){function e(t){var n=this;b(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Pw(n.auth,"network-request-failed"))}),Kw.get())}))}return w(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function rk(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Pw(e,t,r);return i.customData._tokenResponse=n,i}function ik(e,t){return ak.apply(this,arguments)}function ak(){return ak=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yw(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),ak.apply(this,arguments)}function ok(e,t){return uk.apply(this,arguments)}function uk(){return uk=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yw(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),uk.apply(this,arguments)}function sk(e,t){return ck.apply(this,arguments)}function ck(){return ck=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yw(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),ck.apply(this,arguments)}function lk(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function fk(){return fk=nn(en().mark((function e(t){var n,r,i,a,o,u,s=arguments;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Zt(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Lw((a=hk(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:lk(dk(a.auth_time)),issuedAtTime:lk(dk(a.iat)),expirationTime:lk(dk(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),fk.apply(this,arguments)}function dk(e){return 1e3*Number(e)}function hk(e){var t=m(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Aw("JWT malformed, contained fewer than 3 sections"),null;try{var a=jt(r);return a?JSON.parse(a):(Aw("Failed to decode base64 JWT payload"),null)}catch(o){return Aw("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function pk(e,t){return vk.apply(this,arguments)}function vk(){return vk=nn(en().mark((function e(t,n){var r=arguments;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Ut&&mk(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),vk.apply(this,arguments)}function mk(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var yk=function(){function e(t){b(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return w(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(nn(en().mark((function t(){return en().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=nn(en().mark((function e(){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),gk=function(){function e(t,n){b(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return w(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=lk(this.lastLoginAt),this.creationTime=lk(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function bk(e){return xk.apply(this,arguments)}function xk(){return xk=nn(en().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,d;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,pk(t,sk(r,{idToken:i}));case 6:Lw(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=mw(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=kk(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new gk(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),xk.apply(this,arguments)}function wk(){return(wk=nn(en().mark((function e(t){var n;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Zt(t),e.next=3,bk(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kk(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(g(n),g(t))}function _k(e,t){return Sk.apply(this,arguments)}function Sk(){return Sk=nn(en().mark((function e(t,n){var r;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xw(t,{},nn(en().mark((function e(){var r,i,a,o,u,s;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Kt({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=tk(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Ww.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Sk.apply(this,arguments)}var Ek=function(){function e(){b(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return w(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Lw(e.idToken,"internal-error"),Lw("undefined"!==typeof e.idToken,"internal-error"),Lw("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=hk(e);return Lw(t,"internal-error"),Lw("undefined"!==typeof t.exp,"internal-error"),Lw("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=nn(en().mark((function e(t){var n,r=arguments;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Lw(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=nn(en().mark((function e(t,n){var r,i,a,o;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_k(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Fw("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Lw("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Lw("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Lw("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Tk(e,t){Lw("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Ik=function(){function e(t){b(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=mw(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?g(a.providerData):[],this.metadata=new gk(a.createdAt||void 0,a.lastLoginAt||void 0)}return w(e,[{key:"getIdToken",value:function(){var e=nn(en().mark((function e(t){var n;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pk(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Lw(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return fk.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return wk.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Lw(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Lw(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=nn(en().mark((function e(t){var n,r,i=arguments;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,bk(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=nn(en().mark((function e(){var t;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,pk(this,ik(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,x=n.emailVerified,w=n.isAnonymous,k=n.providerData,_=n.stsTokenManager;Lw(b&&_,t,"internal-error");var S=Ek.fromJSON(this.name,_);Lw("string"===typeof b,t,"internal-error"),Tk(f,t.name),Tk(d,t.name),Lw("boolean"===typeof x,t,"internal-error"),Lw("boolean"===typeof w,t,"internal-error"),Tk(h,t.name),Tk(p,t.name),Tk(v,t.name),Tk(m,t.name),Tk(y,t.name),Tk(g,t.name);var E=new e({uid:b,auth:t,email:d,emailVerified:x,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return k&&Array.isArray(k)&&(E.providerData=k.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=nn(en().mark((function t(n,r){var i,a,o,u=arguments;return en().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Ek).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,bk(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),jk=new Map;function Ok(e){Bw(e instanceof Function,"Expected a class definition");var t=jk.get(e);return t?(Bw(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,jk.set(e,t),t)}var Nk=function(){function e(){b(this,e),this.type="NONE",this.storage={}}return w(e,[{key:"_isAvailable",value:function(){var e=nn(en().mark((function e(){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=nn(en().mark((function e(t){var n;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=nn(en().mark((function e(t){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Nk.type="NONE";var Ak=Nk;function Ck(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Pk=function(){function e(t,n,r){b(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Ck(this.userKey,a.apiKey,o),this.fullPersistenceKey=Ck("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return w(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=nn(en().mark((function e(){var t;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Ik._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=nn(en().mark((function e(t){var n;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=nn(en().mark((function t(n,r){var i,a,o,u,s,c,l,f,d,h,p,v=arguments;return en().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Ok(Ak),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=nn(en().mark((function e(t){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Ok(Ak),u=Ck(i,n.config.apiKey,n.name),s=null,c=A(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(d=t.sent)){t.next=23;break}return h=Ik._fromJSON(n,d),f!==o&&(s=h),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=nn(en().mark((function e(t){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Dk(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Fk(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Mk(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Uk(t))return"Blackberry";if(Vk(t))return"Webos";if(Rk(t))return"Safari";if((t.includes("chrome/")||Lk(t))&&!t.includes("edge/"))return"Chrome";if(Bk(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Mk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt();return/firefox\//i.test(e)}function Rk(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Lk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt();return/crios\//i.test(e)}function Fk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt();return/iemobile/i.test(e)}function Bk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt();return/android/i.test(e)}function Uk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt();return/blackberry/i.test(e)}function Vk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt();return/webos/i.test(e)}function zk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function qk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt();return zk(e)||Bk(e)||Vk(e)||Uk(e)||/windows phone/i.test(e)||Fk(e)}function Hk(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Dk(Dt());break;case"Worker":t="".concat(Dk(Dt()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Jn,"/").concat(r)}function Wk(e){return Gk.apply(this,arguments)}function Gk(){return Gk=nn(en().mark((function e(t){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yw(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Gk.apply(this,arguments)}function Kk(e,t){return Qk.apply(this,arguments)}function Qk(){return Qk=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yw(t,"GET","/v2/recaptchaConfig",Qw(t,n)));case 1:case"end":return e.stop()}}),e)}))),Qk.apply(this,arguments)}function Yk(e){return void 0!==e&&void 0!==e.getResponse}function $k(e){return void 0!==e&&void 0!==e.enterprise}var Xk=w((function e(t){if(b(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function Jk(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Pw("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Zk(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var e_=function(){function e(t){b(this,e),this.type="recaptcha-enterprise",this.auth=a_(t)}return w(e,[{key:"verify",value:function(){var e=nn(en().mark((function e(){var t,n,r,i,a,o=this,u=arguments;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;$k(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=nn(en().mark((function e(t){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=nn(en().mark((function e(n,r){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Kk(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Xk(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=u.length>0&&void 0!==u[0]?u[0]:"verify",n=u.length>1&&void 0!==u[1]&&u[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&$k(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));Jk("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function t_(e,t,n){return n_.apply(this,arguments)}function n_(){return n_=nn(en().mark((function e(t,n,r){var i,a,o,u,s=arguments;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>3&&void 0!==s[3]&&s[3],a=new e_(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return u=Object.assign({},n),i?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),n_.apply(this,arguments)}var r_=function(){function e(t){b(this,e),this.auth=t,this.queue=[]}return w(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=nn(en().mark((function e(t){var n,r,i,a,o,u,s;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=A(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=A(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(BO){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),i_=function(){function e(t,n,r,i){b(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new o_(this),this.idTokenSubscription=new o_(this),this.beforeStateQueue=new r_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return w(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Ok(t)),this._initializationPromise=this.queue(nn(en().mark((function r(){var i,a;return en().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Pk.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=nn(en().mark((function e(){var t;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=nn(en().mark((function e(t){var n,r,i,a,o,u,s;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Lw(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=nn(en().mark((function e(t){var n;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=nn(en().mark((function e(t){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bk(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=nn(en().mark((function e(){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=nn(en().mark((function e(t){var n;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Zt(t):null)&&Lw(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=nn(en().mark((function e(t){var n,r=this,i=arguments;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Lw(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(nn(en().mark((function e(){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=nn(en().mark((function e(){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(nn(en().mark((function n(){return en().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Ok(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=nn(en().mark((function e(){var t,n;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kk(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new Xk(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new e_(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Vt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=nn(en().mark((function e(t,n){var r;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=nn(en().mark((function e(t){var n;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Lw(n=t&&Ok(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Pk.create(this,[Ok(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=nn(en().mark((function e(t){var n,r;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(nn(en().mark((function e(){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=nn(en().mark((function e(t){var n=this;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(nn(en().mark((function e(){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Lw(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=nn(en().mark((function e(t){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Lw(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hk(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=nn(en().mark((function e(){var t,n,r,i;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=nn(en().mark((function e(){var t,n;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&Nw("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function a_(e){return Zt(e)}var o_=function(){function e(t){var n=this;b(this,e),this.auth=t,this.observer=null,this.addObserver=$t((function(e){return n.observer=e}))}return w(e,[{key:"next",get:function(){return Lw(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function u_(e,t,n){var r=a_(e);Lw(r._canInitEmulator,r,"emulator-config-failed"),Lw(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=s_(t),o=function(e){var t=s_(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:c_(r.substr(a.length+1))}}var o=m(r.split(":"),2);return{host:o[0],port:c_(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function s_(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function c_(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var l_=function(){function e(t,n){b(this,e),this.providerId=t,this.signInMethod=n}return w(e,[{key:"toJSON",value:function(){return Fw("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Fw("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Fw("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Fw("not implemented")}}]),e}();function f_(e,t){return d_.apply(this,arguments)}function d_(){return d_=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yw(t,"POST","/v1/accounts:resetPassword",Qw(t,n)));case 1:case"end":return e.stop()}}),e)}))),d_.apply(this,arguments)}function h_(e,t){return p_.apply(this,arguments)}function p_(){return p_=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yw(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),p_.apply(this,arguments)}function v_(e,t){return m_.apply(this,arguments)}function m_(){return m_=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yw(t,"POST","/v1/accounts:update",Qw(t,n)));case 1:case"end":return e.stop()}}),e)}))),m_.apply(this,arguments)}function y_(e,t){return g_.apply(this,arguments)}function g_(){return g_=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zw(t,"POST","/v1/accounts:signInWithPassword",Qw(t,n)));case 1:case"end":return e.stop()}}),e)}))),g_.apply(this,arguments)}function b_(e,t){return x_.apply(this,arguments)}function x_(){return x_=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yw(t,"POST","/v1/accounts:sendOobCode",Qw(t,n)));case 1:case"end":return e.stop()}}),e)}))),x_.apply(this,arguments)}function w_(e,t){return k_.apply(this,arguments)}function k_(){return k_=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b_(t,n));case 1:case"end":return e.stop()}}),e)}))),k_.apply(this,arguments)}function __(e,t){return S_.apply(this,arguments)}function S_(){return S_=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b_(t,n));case 1:case"end":return e.stop()}}),e)}))),S_.apply(this,arguments)}function E_(e,t){return T_.apply(this,arguments)}function T_(){return T_=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b_(t,n));case 1:case"end":return e.stop()}}),e)}))),T_.apply(this,arguments)}function I_(e,t){return j_.apply(this,arguments)}function j_(){return j_=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b_(t,n));case 1:case"end":return e.stop()}}),e)}))),j_.apply(this,arguments)}function O_(e,t){return N_.apply(this,arguments)}function N_(){return N_=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zw(t,"POST","/v1/accounts:signInWithEmailLink",Qw(t,n)));case 1:case"end":return e.stop()}}),e)}))),N_.apply(this,arguments)}function A_(e,t){return C_.apply(this,arguments)}function C_(){return C_=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zw(t,"POST","/v1/accounts:signInWithEmailLink",Qw(t,n)));case 1:case"end":return e.stop()}}),e)}))),C_.apply(this,arguments)}var P_=function(e){_(n,e);var t=I(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return b(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return w(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=nn(en().mark((function e(t){var n,r,i;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,t_(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",y_(t,i));case 11:return e.abrupt("return",y_(t,r).catch(function(){var e=nn(en().mark((function e(n){var i;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,t_(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",y_(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",O_(t,{email:this._email,oobCode:this._password}));case 13:Cw(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",h_(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",A_(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Cw(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(l_);function D_(e,t){return M_.apply(this,arguments)}function M_(){return M_=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zw(t,"POST","/v1/accounts:signInWithIdp",Qw(t,n)));case 1:case"end":return e.stop()}}),e)}))),M_.apply(this,arguments)}var R_=function(e){_(n,e);var t=I(n);function n(){var e;return b(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return w(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return D_(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,D_(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,D_(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Kt(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Cw("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=mw(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(l_);function L_(e,t){return F_.apply(this,arguments)}function F_(){return F_=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yw(t,"POST","/v1/accounts:sendVerificationCode",Qw(t,n)));case 1:case"end":return e.stop()}}),e)}))),F_.apply(this,arguments)}function B_(){return B_=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zw(t,"POST","/v1/accounts:signInWithPhoneNumber",Qw(t,n)));case 1:case"end":return e.stop()}}),e)}))),B_.apply(this,arguments)}function U_(){return U_=nn(en().mark((function e(t,n){var r;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zw(t,"POST","/v1/accounts:signInWithPhoneNumber",Qw(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw rk(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),U_.apply(this,arguments)}var V_=c({},"USER_NOT_FOUND","user-not-found");function z_(){return z_=nn(en().mark((function e(t,n){var r;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Zw(t,"POST","/v1/accounts:signInWithPhoneNumber",Qw(t,r),V_));case 2:case"end":return e.stop()}}),e)}))),z_.apply(this,arguments)}var q_=function(e){_(n,e);var t=I(n);function n(e){var r;return b(this,n),(r=t.call(this,"phone","phone")).params=e,r}return w(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return B_.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return U_.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return z_.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(l_);var H_=function(){function e(t){var n,r,i,a,o,u;b(this,e);var s=Qt(Yt(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Lw(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return w(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Qt(Yt(e)).link,n=t?Qt(Yt(t)).deep_link_id:null,r=Qt(Yt(e)).deep_link_id;return(r?Qt(Yt(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(sg){return null}}}]),e}();var W_=function(){function e(){b(this,e),this.providerId=e.PROVIDER_ID}return w(e,null,[{key:"credential",value:function(e,t){return P_._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=H_.parseLink(t);return Lw(n,"argument-error"),P_._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();W_.PROVIDER_ID="password",W_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",W_.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var G_=function(){function e(t){b(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return w(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),K_=function(e){_(n,e);var t=I(n);function n(){var e;return b(this,n),(e=t.apply(this,arguments)).scopes=[],e}return w(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return g(this.scopes)}}]),n}(G_),Q_=function(e){_(n,e);var t=I(n);function n(){return b(this,n),t.apply(this,arguments)}return w(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Lw(e.idToken||e.accessToken,"argument-error"),R_._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Lw("providerId"in t&&"signInMethod"in t,"argument-error"),R_._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(K_),Y_=function(e){_(n,e);var t=I(n);function n(){return b(this,n),t.call(this,"facebook.com")}return w(n,null,[{key:"credential",value:function(e){return R_._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(sg){return null}}}]),n}(K_);Y_.FACEBOOK_SIGN_IN_METHOD="facebook.com",Y_.PROVIDER_ID="facebook.com";var $_=function(e){_(n,e);var t=I(n);function n(){var e;return b(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return w(n,null,[{key:"credential",value:function(e,t){return R_._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(sg){return null}}}]),n}(K_);$_.GOOGLE_SIGN_IN_METHOD="google.com",$_.PROVIDER_ID="google.com";var X_=function(e){_(n,e);var t=I(n);function n(){return b(this,n),t.call(this,"github.com")}return w(n,null,[{key:"credential",value:function(e){return R_._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(sg){return null}}}]),n}(K_);X_.GITHUB_SIGN_IN_METHOD="github.com",X_.PROVIDER_ID="github.com";var J_=function(e){_(n,e);var t=I(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return w(n,[{key:"_getIdTokenResponse",value:function(e){return D_(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,D_(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,D_(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(l_),Z_=function(e){_(n,e);var t=I(n);function n(e){return b(this,n),Lw(e.startsWith("saml."),"argument-error"),t.call(this,e)}return w(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=J_.fromJSON(e);return Lw(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return J_._create(r,n)}catch(i){return null}}}]),n}(G_),eS=function(e){_(n,e);var t=I(n);function n(){return b(this,n),t.call(this,"twitter.com")}return w(n,null,[{key:"credential",value:function(e,t){return R_._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(sg){return null}}}]),n}(K_);function tS(e,t){return nS.apply(this,arguments)}function nS(){return nS=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zw(t,"POST","/v1/accounts:signUp",Qw(t,n)));case 1:case"end":return e.stop()}}),e)}))),nS.apply(this,arguments)}eS.TWITTER_SIGN_IN_METHOD="twitter.com",eS.PROVIDER_ID="twitter.com";var rS=function(){function e(t){b(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return w(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=nn(en().mark((function t(n,r,i){var a,o,u,s,c=arguments;return en().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Ik._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=iS(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=nn(en().mark((function t(n,r,i){var a;return en().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=iS(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function iS(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function aS(){return aS=nn(en().mark((function e(t){var n,r,i,a;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a_(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new rS({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,tS(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,rS._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),aS.apply(this,arguments)}var oS=function(e){_(n,e);var t=I(n);function n(e,r,i,a){var o,u;return b(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(T(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return w(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Ut);function uS(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw oS._fromErrorAndOperation(e,n,t,r);throw n}))}function sS(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function cS(e,t){return lS.apply(this,arguments)}function lS(){return lS=nn(en().mark((function e(t,n){var r,i,a,o;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zt(t),e.next=3,hS(!0,r,n);case 3:return e.t0=ok,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=sS(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),lS.apply(this,arguments)}function fS(e,t){return dS.apply(this,arguments)}function dS(){return dS=nn(en().mark((function e(t,n){var r,i,a=arguments;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=pk,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",rS._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),dS.apply(this,arguments)}function hS(e,t,n){return pS.apply(this,arguments)}function pS(){return(pS=nn(en().mark((function e(t,n,r){var i,a;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bk(n);case 2:i=sS(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Lw(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vS(e,t){return mS.apply(this,arguments)}function mS(){return mS=nn(en().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,pk(t,uS(i,a,n,t),r);case 6:return Lw((o=e.sent).idToken,i,"internal-error"),Lw(u=hk(o.idToken),i,"internal-error"),s=u.sub,Lw(t.uid===s,i,"user-mismatch"),e.abrupt("return",rS._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Cw(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),mS.apply(this,arguments)}function yS(e,t){return gS.apply(this,arguments)}function gS(){return gS=nn(en().mark((function e(t,n){var r,i,a,o,u=arguments;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,uS(t,i,n);case 4:return a=e.sent,e.next=7,rS._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),gS.apply(this,arguments)}function bS(e,t){return xS.apply(this,arguments)}function xS(){return xS=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yS(a_(t),n));case 1:case"end":return e.stop()}}),e)}))),xS.apply(this,arguments)}function wS(e,t){return kS.apply(this,arguments)}function kS(){return(kS=nn(en().mark((function e(t,n){var r;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zt(t),e.next=3,hS(!1,r,n.providerId);case 3:return e.abrupt("return",fS(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _S(e,t){return SS.apply(this,arguments)}function SS(){return(SS=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vS(Zt(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ES(e,t){return TS.apply(this,arguments)}function TS(){return TS=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zw(t,"POST","/v1/accounts:signInWithCustomToken",Qw(t,n)));case 1:case"end":return e.stop()}}),e)}))),TS.apply(this,arguments)}function IS(){return IS=nn(en().mark((function e(t,n){var r,i,a;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a_(t),e.next=3,ES(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,rS._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),IS.apply(this,arguments)}var jS=function(){function e(t,n){b(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return w(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?OS._fromServerResponse(e,t):"totpInfo"in t?NS._fromServerResponse(e,t):Cw(e,"internal-error")}}]),e}(),OS=function(e){_(n,e);var t=I(n);function n(e){var r;return b(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return w(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(jS),NS=function(e){_(n,e);var t=I(n);function n(e){return b(this,n),t.call(this,"totp",e)}return w(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(jS);function AS(e,t,n){var r;Lw((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Lw("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Lw(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Lw(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function CS(){return CS=nn(en().mark((function e(t,n,r){var i,a,o,u;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=a_(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,t_(a,o,"getOobCode",!0);case 5:return u=e.sent,r&&AS(a,u,r),e.next=9,__(a,u);case 9:e.next=14;break;case 11:return r&&AS(a,o,r),e.next=14,__(a,o).catch(function(){var e=nn(en().mark((function e(t){var n;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,t_(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&AS(a,n,r),e.next=8,__(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),CS.apply(this,arguments)}function PS(){return PS=nn(en().mark((function e(t,n,r){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f_(Zt(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),PS.apply(this,arguments)}function DS(){return DS=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v_(Zt(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),DS.apply(this,arguments)}function MS(e,t){return RS.apply(this,arguments)}function RS(){return RS=nn(en().mark((function e(t,n){var r,i,a,o;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zt(t),e.next=3,f_(r,{oobCode:n});case 3:i=e.sent,Lw(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Lw(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Lw(i.mfaInfo,r,"internal-error");case 13:Lw(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=jS._fromServerResponse(a_(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),RS.apply(this,arguments)}function LS(){return LS=nn(en().mark((function e(t,n){var r,i;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,MS(Zt(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),LS.apply(this,arguments)}function FS(e,t,n){return BS.apply(this,arguments)}function BS(){return BS=nn(en().mark((function e(t,n,r){var i,a,o,u,s,c,l;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=a_(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,t_(a,o,"signUpPassword");case 5:s=e.sent,u=tS(a,s),e.next=10;break;case 9:u=tS(a,o).catch(function(){var e=nn(en().mark((function e(t){var n;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,t_(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",tS(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,u.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,rS._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),BS.apply(this,arguments)}function US(){return US=nn(en().mark((function e(t,n,r){var i,a,o,u,s;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(e,t){Lw(t.handleCodeInApp,a,"argument-error"),t&&AS(a,e,t)},a=a_(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,t_(a,o,"getOobCode",!0);case 6:return s=e.sent,u(s,r),e.next=10,E_(a,s);case 10:e.next=15;break;case 12:return u(o,r),e.next=15,E_(a,o).catch(function(){var e=nn(en().mark((function e(t){var n;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,t_(a,o,"getOobCode",!0);case 4:return n=e.sent,u(n,r),e.next=8,E_(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),US.apply(this,arguments)}function VS(){return VS=nn(en().mark((function e(t,n,r){var i,a;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zt(t),Lw((a=W_.credentialWithLink(n,r||Uw()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",bS(i,a));case 4:case"end":return e.stop()}}),e)}))),VS.apply(this,arguments)}function zS(e,t){return qS.apply(this,arguments)}function qS(){return qS=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yw(t,"POST","/v1/accounts:createAuthUri",Qw(t,n)));case 1:case"end":return e.stop()}}),e)}))),qS.apply(this,arguments)}function HS(){return HS=nn(en().mark((function e(t,n){var r,i,a,o;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vw()?Uw():"http://localhost",i={identifier:n,continueUri:r},e.next=4,zS(Zt(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),HS.apply(this,arguments)}function WS(){return(WS=nn(en().mark((function e(t,n){var r,i,a,o;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zt(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&AS(r.auth,a,n),e.next=8,w_(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GS(){return(GS=nn(en().mark((function e(t,n,r){var i,a,o,u;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zt(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&AS(i.auth,o,r),e.next=8,I_(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KS(e,t){return QS.apply(this,arguments)}function QS(){return QS=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yw(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),QS.apply(this,arguments)}function YS(){return(YS=nn(en().mark((function e(t,n){var r,i,a,o,u,s,c;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Zt(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,pk(a,KS(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $S(e,t,n){return XS.apply(this,arguments)}function XS(){return XS=nn(en().mark((function e(t,n,r){var i,a,o,u;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,pk(t,h_(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),XS.apply(this,arguments)}var JS=w((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};b(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),ZS=function(e){_(n,e);var t=I(n);function n(e,r,i,a){var o;return b(this,n),(o=t.call(this,e,r,i)).username=a,o}return w(n)}(JS),eE=function(e){_(n,e);var t=I(n);function n(e,r){return b(this,n),t.call(this,e,"facebook.com",r)}return w(n)}(JS),tE=function(e){_(n,e);var t=I(n);function n(e,r){return b(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return w(n)}(ZS),nE=function(e){_(n,e);var t=I(n);function n(e,r){return b(this,n),t.call(this,e,"google.com",r)}return w(n)}(JS),rE=function(e){_(n,e);var t=I(n);function n(e,r,i){return b(this,n),t.call(this,e,"twitter.com",r,i)}return w(n)}(ZS);function iE(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=hk(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new JS(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new eE(a,i);case"github.com":return new tE(a,i);case"google.com":return new nE(a,i);case"twitter.com":return new rE(a,i,e.screenName||null);case"custom":case"anonymous":return new JS(a,null);default:return new JS(a,r,i)}}(n)}var aE=function(){function e(t,n,r){b(this,e),this.type=t,this.credential=n,this.auth=r}return w(e,[{key:"toJSON",value:function(){return{multiFactorSession:c({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),oE=function(){function e(t,n,r){b(this,e),this.session=t,this.hints=n,this.signInResolver=r}return w(e,[{key:"resolveSignIn",value:function(){var e=nn(en().mark((function e(t){var n;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=a_(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return jS._fromServerResponse(r,e)}));Lw(i.mfaPendingCredential,r,"internal-error");var o=aE._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=nn(en().mark((function e(t){var a,u,s;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,rS._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Lw(n.user,r,"internal-error"),e.abrupt("return",rS._forOperation(n.user,n.operationType,u));case 17:Cw(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function uE(e,t){return Yw(e,"POST","/v2/accounts/mfaEnrollment:start",Qw(e,t))}function sE(e,t){return Yw(e,"POST","/v2/accounts/mfaEnrollment:start",Qw(e,t))}function cE(e,t){return Yw(e,"POST","/v2/accounts/mfaEnrollment:finalize",Qw(e,t))}function lE(e,t){return Yw(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Qw(e,t))}var fE=function(){function e(t){var n=this;b(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return jS._fromServerResponse(t.auth,e)})))}))}return w(e,[{key:"getSession",value:function(){var e=nn(en().mark((function e(){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=aE,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=nn(en().mark((function e(t,n){var r,i,a;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,pk(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=nn(en().mark((function e(t){var n,r,i;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,pk(this.user,lE(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),dE=new WeakMap;var hE="__sak",pE=function(){function e(t,n){b(this,e),this.storageRetriever=t,this.type=n}return w(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(hE,"1"),this.storage.removeItem(hE),Promise.resolve(!0)):Promise.resolve(!1)}catch(sg){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var vE=function(e){_(n,e);var t=I(n);function n(){var e;return b(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Dt();return Rk(e)||zk(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=qk(),e._shouldAllowMigration=!0,e}return w(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Ft()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=nn(en().mark((function e(t,r){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ar(S(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=nn(en().mark((function e(t){var r;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ar(S(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=nn(en().mark((function e(t){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ar(S(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(pE);vE.type="LOCAL";var mE=vE,yE=function(e){_(n,e);var t=I(n);function n(){return b(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return w(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(pE);yE.type="SESSION";var gE=yE;function bE(e){return Promise.all(e.map(function(){var e=nn(en().mark((function e(t){var n;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var xE=function(){function e(t){b(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return w(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=nn(en().mark((function e(t){var n,r,i,a,o,u,s,c;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=nn(en().mark((function e(t){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,bE(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function wE(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}xE.receivers=[];var kE=function(){function e(t){b(this,e),this.target=t,this.handlers=new Set}return w(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=nn(en().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=wE("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function _E(){return window}function SE(e){_E().location.href=e}function EE(){return"undefined"!==typeof _E().WorkerGlobalScope&&"function"===typeof _E().importScripts}function TE(){return IE.apply(this,arguments)}function IE(){return(IE=nn(en().mark((function e(){var t;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function jE(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var OE="firebaseLocalStorageDb",NE="firebaseLocalStorage",AE="fbase_key",CE=function(){function e(t){b(this,e),this.request=t}return w(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function PE(e,t){return e.transaction([NE],t?"readwrite":"readonly").objectStore(NE)}function DE(){var e=indexedDB.deleteDatabase(OE);return new CE(e).toPromise()}function ME(){var e=indexedDB.open(OE,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(NE,{keyPath:AE})}catch(r){n(r)}})),e.addEventListener("success",nn(en().mark((function n(){var r;return en().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(NE)){n.next=12;break}return r.close(),n.next=5,DE();case 5:return n.t0=t,n.next=8,ME();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function RE(e,t,n){return LE.apply(this,arguments)}function LE(){return LE=nn(en().mark((function e(t,n,r){var i,a;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=PE(t,!0).put((c(i={},AE,n),c(i,"value",r),i)),e.abrupt("return",new CE(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),LE.apply(this,arguments)}function FE(e,t){return BE.apply(this,arguments)}function BE(){return BE=nn(en().mark((function e(t,n){var r,i;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=PE(t,!1).get(n),e.next=3,new CE(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),BE.apply(this,arguments)}function UE(e,t){var n=PE(e,!0).delete(t);return new CE(n).toPromise()}var VE=function(){function e(){b(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return w(e,[{key:"_openDb",value:function(){var e=nn(en().mark((function e(){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,ME();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=nn(en().mark((function e(t){var n,r;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=nn(en().mark((function e(){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",EE()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=nn(en().mark((function e(){var t=this;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=xE._getInstance(EE()?self:null),this.receiver._subscribe("keyChanged",function(){var e=nn(en().mark((function e(n,r){var i;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=nn(en().mark((function e(){var t,n,r;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,TE();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new kE(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=nn(en().mark((function e(t){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&jE()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=nn(en().mark((function e(){var t;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ME();case 5:return t=e.sent,e.next=8,RE(t,hE,"1");case 8:return e.next=10,UE(t,hE);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=nn(en().mark((function e(t){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=nn(en().mark((function e(t,n){var r=this;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(nn(en().mark((function e(){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return RE(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=nn(en().mark((function e(t){var n;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return FE(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=nn(en().mark((function e(t){var n=this;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(nn(en().mark((function e(){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return UE(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=nn(en().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=PE(e,!1).getAll();return new CE(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=A(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(d){i.e(d)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(nn(en().mark((function t(){return en().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();VE.type="LOCAL";var zE=VE;function qE(e,t){return Yw(e,"POST","/v2/accounts/mfaSignIn:start",Qw(e,t))}function HE(e,t){return Yw(e,"POST","/v2/accounts/mfaSignIn:finalize",Qw(e,t))}var WE=1e12,GE=function(){function e(t){b(this,e),this.auth=t,this.counter=WE,this._widgets=new Map}return w(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new KE(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||WE;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||WE;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=nn(en().mark((function e(t){var n,r;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||WE,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),KE=function(){function e(t,n,r){var i=this;b(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Lw(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return w(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var QE=Zk("rcb"),YE=new qw(3e4,6e4),$E=function(){function e(){var t;b(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=_E().grecaptcha)||void 0===t?void 0:t.render)}return w(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Lw(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Yk(_E().grecaptcha)?Promise.resolve(_E().grecaptcha):new Promise((function(r,i){var a=_E().setTimeout((function(){i(Pw(e,"network-request-failed"))}),YE.get());_E()[QE]=function(){_E().clearTimeout(a),delete _E()[QE];var o=_E().grecaptcha;if(o&&Yk(o)){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Pw(e,"internal-error"))},Jk("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Kt({onload:QE,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Pw(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=_E().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var XE=function(){function e(){b(this,e)}return w(e,[{key:"load",value:function(){var e=nn(en().mark((function e(t){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new GE(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),JE="recaptcha",ZE={theme:"light",type:"image"},eT=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},ZE),r=arguments.length>2?arguments[2]:void 0;b(this,e),this.parameters=n,this.type=JE,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=a_(r),this.isInvisible="invisible"===this.parameters.size,Lw("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Lw(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new XE:new $E,this.validateStartingState()}return w(e,[{key:"verify",value:function(){var e=nn(en().mark((function e(){var t,n,r,i=this;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Lw(!this.parameters.sitekey,this.auth,"argument-error"),Lw(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Lw("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=_E()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Lw(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=nn(en().mark((function e(){var t,n;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=nn(en().mark((function e(){var t;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lw(Vw()&&!EE(),this.auth,"internal-error"),e.next=3,tT();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Wk(this.auth);case 8:Lw(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Lw(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function tT(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var nT=function(){function e(t,n){b(this,e),this.verificationId=t,this.onConfirmation=n}return w(e,[{key:"confirm",value:function(e){var t=q_._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function rT(){return rT=nn(en().mark((function e(t,n,r){var i,a;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a_(t),e.next=3,uT(i,n,Zt(r));case 3:return a=e.sent,e.abrupt("return",new nT(a,(function(e){return bS(i,e)})));case 5:case"end":return e.stop()}}),e)}))),rT.apply(this,arguments)}function iT(e,t,n){return aT.apply(this,arguments)}function aT(){return(aT=nn(en().mark((function e(t,n,r){var i,a;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zt(t),e.next=3,hS(!1,i,"phone");case 3:return e.next=5,uT(i.auth,n,Zt(r));case 5:return a=e.sent,e.abrupt("return",new nT(a,(function(e){return wS(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oT(){return(oT=nn(en().mark((function e(t,n,r){var i,a;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zt(t),e.next=3,uT(i.auth,n,Zt(r));case 3:return a=e.sent,e.abrupt("return",new nT(a,(function(e){return _S(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uT(e,t,n){return sT.apply(this,arguments)}function sT(){return sT=nn(en().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Lw("string"===typeof a,t,"argument-error"),Lw(r.type===JE,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Lw("enroll"===u.type,t,"internal-error"),e.next=13,uE(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Lw("signin"===u.type,t,"internal-error"),Lw(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,qE(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,L_(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,d=f.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),sT.apply(this,arguments)}function cT(){return(cT=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fS(Zt(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lT=function(){function e(t){b(this,e),this.providerId=e.PROVIDER_ID,this.auth=a_(t)}return w(e,[{key:"verifyPhoneNumber",value:function(e,t){return uT(this.auth,e,Zt(t))}}],[{key:"credential",value:function(e,t){return q_._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?q_._fromTokenResponse(n,r):null}}]),e}();function fT(e,t){return t?Ok(t):(Lw(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}lT.PROVIDER_ID="phone",lT.PHONE_SIGN_IN_METHOD="phone";var dT=function(e){_(n,e);var t=I(n);function n(e){var r;return b(this,n),(r=t.call(this,"custom","custom")).params=e,r}return w(n,[{key:"_getIdTokenResponse",value:function(e){return D_(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return D_(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return D_(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(l_);function hT(e){return yS(e.auth,new dT(e),e.bypassAuthState)}function pT(e){var t=e.auth,n=e.user;return Lw(n,t,"internal-error"),vS(n,new dT(e),e.bypassAuthState)}function vT(e){return mT.apply(this,arguments)}function mT(){return mT=nn(en().mark((function e(t){var n,r;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Lw(r=t.user,n,"internal-error"),e.abrupt("return",fS(r,new dT(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),mT.apply(this,arguments)}var yT=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];b(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return w(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=nn(en().mark((function t(n,r){return en().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=nn(en().mark((function e(t){var n,r,i,a,o,u,s;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hT;case"linkViaPopup":case"linkViaRedirect":return vT;case"reauthViaPopup":case"reauthViaRedirect":return pT;default:Cw(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Bw(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Bw(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),gT=new qw(2e3,1e4);function bT(e,t,n){return xT.apply(this,arguments)}function xT(){return xT=nn(en().mark((function e(t,n,r){var i,a,o;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a_(t),Mw(t,n,G_),a=fT(i,r),o=new ST(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),xT.apply(this,arguments)}function wT(){return(wT=nn(en().mark((function e(t,n,r){var i,a,o;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mw((i=Zt(t)).auth,n,G_),a=fT(i.auth,r),o=new ST(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kT(e,t,n){return _T.apply(this,arguments)}function _T(){return(_T=nn(en().mark((function e(t,n,r){var i,a,o;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mw((i=Zt(t)).auth,n,G_),a=fT(i.auth,r),o=new ST(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ST=function(e){_(n,e);var t=I(n);function n(e,r,i,a,o){var u;return b(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=T(u),u}return w(n,[{key:"executeNotNull",value:function(){var e=nn(en().mark((function e(){var t;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Lw(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=nn(en().mark((function e(){var t,n=this;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bw(1===this.filter.length,"Popup operations only handle one event"),t=wE(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Pw(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Pw(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Pw(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,gT.get())}()}}]),n}(yT);ST.currentPopupAction=null;var ET="pendingRedirect",TT=new Map,IT=function(e){_(n,e);var t=I(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return b(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return w(n,[{key:"execute",value:function(){var e=nn(en().mark((function e(){var t,r;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=TT.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,jT(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Ar(S(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:TT.set(this.auth._key(),t);case 21:return this.bypassAuthState||TT.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=nn(en().mark((function e(t){var r;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Ar(S(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Ar(S(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=nn(en().mark((function e(){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(yT);function jT(e,t){return OT.apply(this,arguments)}function OT(){return OT=nn(en().mark((function e(t,n){var r,i,a;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=DT(n),i=PT(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),OT.apply(this,arguments)}function NT(e,t){return AT.apply(this,arguments)}function AT(){return AT=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",PT(t)._set(DT(n),"true"));case 1:case"end":return e.stop()}}),e)}))),AT.apply(this,arguments)}function CT(e,t){TT.set(e._key(),t)}function PT(e){return Ok(e._redirectPersistence)}function DT(e){return Ck(ET,e.config.apiKey,e.name)}function MT(e,t,n){return function(e,t,n){return RT.apply(this,arguments)}(e,t,n)}function RT(){return RT=nn(en().mark((function e(t,n,r){var i,a;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a_(t),Mw(t,n,G_),e.next=4,i._initializationPromise;case 4:return a=fT(i,r),e.next=7,NT(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),RT.apply(this,arguments)}function LT(e,t,n){return function(e,t,n){return FT.apply(this,arguments)}(e,t,n)}function FT(){return(FT=nn(en().mark((function e(t,n,r){var i,a,o;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mw((i=Zt(t)).auth,n,G_),e.next=4,i.auth._initializationPromise;case 4:return a=fT(i.auth,r),e.next=7,NT(a,i.auth);case 7:return e.next=9,WT(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function BT(e,t,n){return function(e,t,n){return UT.apply(this,arguments)}(e,t,n)}function UT(){return(UT=nn(en().mark((function e(t,n,r){var i,a,o;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mw((i=Zt(t)).auth,n,G_),e.next=4,i.auth._initializationPromise;case 4:return a=fT(i.auth,r),e.next=7,hS(!1,i,n.providerId);case 7:return e.next=9,NT(a,i.auth);case 9:return e.next=11,WT(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VT(e,t){return zT.apply(this,arguments)}function zT(){return zT=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a_(t)._initializationPromise;case 2:return e.abrupt("return",qT(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),zT.apply(this,arguments)}function qT(e,t){return HT.apply(this,arguments)}function HT(){return HT=nn(en().mark((function e(t,n){var r,i,a,o,u,s=arguments;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=a_(t),a=fT(i,n),o=new IT(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),HT.apply(this,arguments)}function WT(e){return GT.apply(this,arguments)}function GT(){return(GT=nn(en().mark((function e(t){var n;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=wE("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var KT=function(){function e(t){b(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return w(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YT(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!YT(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Pw(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(QT(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(QT(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function QT(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function YT(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function $T(e){return XT.apply(this,arguments)}function XT(){return XT=nn(en().mark((function e(t){var n,r=arguments;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Yw(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),XT.apply(this,arguments)}var JT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZT=/^https?/;function eI(){return eI=nn(en().mark((function e(t){var n,r,i,a,o;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,$T(t);case 4:n=e.sent,r=n.authorizedDomains,i=A(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!tI(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Cw(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),eI.apply(this,arguments)}function tI(e){var t=Uw(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!ZT.test(r))return!1;if(JT.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var nI=new qw(3e4,6e4);function rI(){var e=_E().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=g(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var iI=null;function aI(e){return iI=iI||function(e){return new Promise((function(t,n){var r,i,a;function o(){rI(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){rI(),n(Pw(e,"network-request-failed"))},timeout:nI.get()})}if(null===(i=null===(r=_E().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=_E().gapi)||void 0===a?void 0:a.load)){var u=Zk("iframefcb");return _E()[u]=function(){gapi.load?o():n(Pw(e,"network-request-failed"))},Jk("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw iI=null,e}))}(e),iI}var oI=new qw(5e3,15e3),uI="__/auth/iframe",sI="emulator/auth/iframe",cI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fI(e){var t=e.config;Lw(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Hw(t,sI):"https://".concat(e.config.authDomain,"/").concat(uI),r={apiKey:t.apiKey,appName:e.name,v:Jn},i=lI.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Kt(r).slice(1))}function dI(e){return hI.apply(this,arguments)}function hI(){return hI=nn(en().mark((function e(t){var n,r;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aI(t);case 2:return n=e.sent,Lw(r=_E().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:fI(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cI,dontclear:!0},(function(e){return new Promise(function(){var n=nn(en().mark((function n(r,i){var a,o,u;return en().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){_E().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Pw(t,"network-request-failed"),o=_E().setTimeout((function(){i(a)}),oI.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),hI.apply(this,arguments)}var pI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vI=function(){function e(t){b(this,e),this.window=t,this.associatedEvent=null}return w(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function mI(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},pI),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Dt().toLowerCase();n&&(u=Lk(c)?"_blank":n),Mk(c)&&(t=t||"http://localhost",s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=m(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return zk(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new vI(null);var f=window.open(t||"",u,l);Lw(f,e,"popup-blocked");try{f.focus()}catch(d){}return new vI(f)}var yI="__/auth/handler",gI="emulator/auth/handler",bI=encodeURIComponent("fac");function xI(e,t,n,r,i,a){return wI.apply(this,arguments)}function wI(){return wI=nn(en().mark((function e(t,n,r,i,a,o){var u,s,c,l,f,d,h,p,v,y,g,b,x;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Lw(t.config.authDomain,t,"auth-domain-config-required"),Lw(t.config.apiKey,t,"invalid-api-key"),u={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:Jn,eventId:a},n instanceof G_)for(n.setDefaultLanguage(t.languageCode),u.providerId=n.providerId||"",Ht(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters())),s=0,c=Object.entries(o||{});s<c.length;s++)l=m(c[s],2),f=l[0],d=l[1],u[f]=d;for(n instanceof K_&&(h=n.getScopes().filter((function(e){return""!==e}))).length>0&&(u.scopes=h.join(",")),t.tenantId&&(u.tid=t.tenantId),p=u,v=0,y=Object.keys(p);v<y.length;v++)g=y[v],void 0===p[g]&&delete p[g];return e.next=10,t._getAppCheckToken();case 10:return b=e.sent,x=b?"#".concat(bI,"=").concat(encodeURIComponent(b)):"",e.abrupt("return","".concat(kI(t),"?").concat(Kt(p).slice(1)).concat(x));case 13:case"end":return e.stop()}}),e)}))),wI.apply(this,arguments)}function kI(e){var t=e.config;return t.emulator?Hw(t,gI):"https://".concat(t.authDomain,"/").concat(yI)}var _I="webStorageSupport",SI=function(){function e(){b(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gE,this._completeRedirectFn=qT,this._overrideRedirectResult=CT}return w(e,[{key:"_openPopup",value:function(){var e=nn(en().mark((function e(t,n,r,i){var a,o;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bw(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,xI(t,n,r,Uw(),i);case 3:return o=e.sent,e.abrupt("return",mI(t,o,wE()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=nn(en().mark((function e(t,n,r,i){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,xI(t,n,r,Uw(),i);case 4:return SE(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Bw(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=nn(en().mark((function e(t){var n,r;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dI(t);case 2:return n=e.sent,r=new KT(t),n.register("authEvent",(function(e){return Lw(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(_I,{type:_I},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[_I];void 0!==i&&t(!!i),Cw(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return eI.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return qk()||Rk()||zk()}}]),e}(),EI=SI,TI=function(){function e(t){b(this,e),this.factorId=t}return w(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Fw("unexpected MultiFactorSessionType")}}}]),e}(),II=function(e){_(n,e);var t=I(n);function n(e){var r;return b(this,n),(r=t.call(this,"phone")).credential=e,r}return w(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Yw(e,"POST","/v2/accounts/mfaEnrollment:finalize",Qw(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Yw(e,"POST","/v2/accounts/mfaSignIn:finalize",Qw(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(TI),jI=function(){function e(){b(this,e)}return w(e,null,[{key:"assertion",value:function(e){return II._fromCredential(e)}}]),e}();jI.FACTOR_ID="phone";var OI=function(){function e(){b(this,e)}return w(e,null,[{key:"assertionForEnrollment",value:function(e,t){return NI._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return NI._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=nn(en().mark((function e(t){var n,r;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lw("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,sE(n.auth,{idToken:n.credential,totpEnrollmentInfo:{}});case 4:return r=e.sent,e.abrupt("return",AI._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();OI.FACTOR_ID="totp";var NI=function(e){_(n,e);var t=I(n);function n(e,r,i){var a;return b(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return w(n,[{key:"_finalizeEnroll",value:function(){var e=nn(en().mark((function e(t,n,r){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lw("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",cE(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=nn(en().mark((function e(t,n){var r;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lw(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",HE(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(TI),AI=function(){function e(t,n,r,i,a,o,u){b(this,e),this.sessionInfo=o,this.auth=u,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return w(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(CI(e)||CI(t))&&(r=!0),r&&(CI(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),CI(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function CI(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var PI="@firebase/auth",DI="0.23.2",MI=function(){function e(t){b(this,e),this.auth=t,this.internalListeners=new Map}return w(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=nn(en().mark((function e(t){var n;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Lw(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var RI;!function(e){var t;null===(t=At())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function LI(){return window}RI="Browser",Wn(new rn("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,u=o.apiKey,s=o.authDomain;Lw(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:u,authDomain:s,clientPlatform:RI,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hk(RI)},l=new i_(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ok);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Wn(new rn("auth-internal",(function(e){return function(e){return new MI(e)}(a_(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),ir(PI,DI,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(RI)),ir(PI,DI,"esm2017");var FI=2e3;function BI(e,t,n){return UI.apply(this,arguments)}function UI(){return UI=nn(en().mark((function e(t,n,r){var i,a,o,u,s;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=LI(),o=a.BuildInfo,Bw(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,GI(n.sessionId);case 4:return u=e.sent,s={},zk()?s.ibi=o.packageName:Bk()?s.apn=o.packageName:Cw(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",xI(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),UI.apply(this,arguments)}function VI(){return VI=nn(en().mark((function e(t){var n,r,i;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=LI(),r=n.BuildInfo,i={},zk()?i.iosBundleId=r.packageName:Bk()?i.androidPackageName=r.packageName:Cw(t,"operation-not-supported-in-this-environment"),e.next=5,$T(t,i);case 5:case"end":return e.stop()}}),e)}))),VI.apply(this,arguments)}function zI(e){var t=LI().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function qI(e,t,n){return HI.apply(this,arguments)}function HI(){return HI=nn(en().mark((function e(t,n,r){var i,a,o;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=LI(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Pw(t,"redirect-cancelled-by-user"))}),FI))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Bk()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),HI.apply(this,arguments)}function WI(e){var t,n,r,i,a,o,u,s,c,l,f=LI();Lw("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Lw("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Lw("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Lw("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Lw("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function GI(e){return KI.apply(this,arguments)}function KI(){return(KI=nn(en().mark((function e(t){var n,r,i;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=QI(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function QI(e){if(Bw(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var YI=20,$I=function(e){_(n,e);var t=I(n);function n(){var e;return b(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return w(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Ar(S(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=nn(en().mark((function e(){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(KT);function XI(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:nj(),postBody:null,tenantId:e.tenantId,error:Pw(e,"no-auth-event")}}function JI(e,t){return rj()._set(ij(e),t)}function ZI(e){return ej.apply(this,arguments)}function ej(){return ej=nn(en().mark((function e(t){var n;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rj()._get(ij(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,rj()._remove(ij(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),ej.apply(this,arguments)}function tj(e,t){var n,r,i=function(e){var t=aj(e),n=t.link?decodeURIComponent(t.link):void 0,r=aj(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return aj(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=aj(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Pw(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function nj(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<YI;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function rj(){return Ok(mE)}function ij(e){return Ck("authEvent",e.config.apiKey,e.name)}function aj(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=N(e.split("?"));t[0];return Qt(t.slice(1).join("?"))}var oj=function(){function e(){b(this,e),this._redirectPersistence=gE,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=qT,this._overrideRedirectResult=CT}return w(e,[{key:"_initialize",value:function(){var e=nn(en().mark((function e(t){var n,r;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new $I(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Cw(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=nn(en().mark((function e(t,n,r,i){var a,o,u,s;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return WI(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),TT.clear(),e.next=10,this._originValidation(t);case 10:return o=XI(t,r,i),e.next=13,JI(t,o);case 13:return e.next=15,BI(t,o,n);case 15:return u=e.sent,e.next=18,zI(u);case 18:return s=e.sent,e.abrupt("return",qI(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return VI.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=LI(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(nn(en().mark((function n(){return en().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ZI(e);case 2:t.onEvent(sj());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=nn(en().mark((function n(r){var i,a;return en().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,ZI(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=tj(i,r.url)),t.onEvent(a||sj());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");LI().handleOpenURL=function(){var e=nn(en().mark((function e(t){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),uj=oj;function sj(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Pw("no-auth-event")}}var cj=1e3;function lj(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function fj(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt();return!("file:"!==lj()&&"ionic:"!==lj()&&"capacitor:"!==lj()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function dj(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt();return Ft()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt();return/Edge\/\d+/.test(e)}(e)}function hj(){try{var e=self.localStorage,t=wE();if(e)return e.setItem(t,"1"),e.removeItem(t),!dj()||Bt()}catch(n){return pj()&&Bt()}return!1}function pj(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function vj(){return("http:"===lj()||"https:"===lj()||Rt()||fj())&&!(Lt()||Mt())&&hj()&&!pj()}function mj(){return fj()&&"undefined"!==typeof document}function yj(){return gj.apply(this,arguments)}function gj(){return(gj=nn(en().mark((function e(){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(mj()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),cj);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bj={LOCAL:"local",NONE:"none",SESSION:"session"},xj=Lw,wj="persistence";function kj(e,t){xj(Object.values(bj).includes(t),e,"invalid-persistence-type"),Lt()?xj(t!==bj.SESSION,e,"unsupported-persistence-type"):Mt()?xj(t===bj.NONE,e,"unsupported-persistence-type"):pj()?xj(t===bj.NONE||t===bj.LOCAL&&Bt(),e,"unsupported-persistence-type"):xj(t===bj.NONE||hj(),e,"unsupported-persistence-type")}function _j(e){return Sj.apply(this,arguments)}function Sj(){return Sj=nn(en().mark((function e(t){var n,r;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Ej(),r=Ck(wj,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Sj.apply(this,arguments)}function Ej(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Tj=Lw,Ij=function(){function e(){b(this,e),this.browserResolver=Ok(EI),this.cordovaResolver=Ok(uj),this.underlyingResolver=null,this._redirectPersistence=gE,this._completeRedirectFn=qT,this._overrideRedirectResult=CT}return w(e,[{key:"_initialize",value:function(){var e=nn(en().mark((function e(t){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=nn(en().mark((function e(t,n,r,i){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=nn(en().mark((function e(t,n,r,i){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return mj()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Tj(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=nn(en().mark((function e(){var t;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,yj();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function jj(e){return e.unwrap()}function Oj(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new Dj(e,function(e,t){var n,r=Zt(e),i=t;return Lw(t.customData.operationType,r,"argument-error"),Lw(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),oE._fromError(r,i)}(e,t));else if(r){var i=Nj(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Nj(e){var t=(e instanceof Ut?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Ut)&&"temporaryProof"in t&&"phoneNumber"in t)return lT.credentialFromResult(e);var n,r=t.providerId;if(!r||r===gw.PASSWORD)return null;switch(r){case gw.GOOGLE:n=$_;break;case gw.FACEBOOK:n=Y_;break;case gw.GITHUB:n=X_;break;case gw.TWITTER:n=eS;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?J_._create(r,u):R_._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Q_(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Ut?n.credentialFromError(e):n.credentialFromResult(e)}function Aj(e,t){return t.catch((function(t){throw t instanceof Ut&&Oj(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Nj(t)),additionalUserInfo:iE(e),user:Mj.getOrCreate(r)}}))}function Cj(e,t){return Pj.apply(this,arguments)}function Pj(){return Pj=nn(en().mark((function e(t,n){var r;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Aj(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Pj.apply(this,arguments)}var Dj=function(){function e(t,n){b(this,e),this.resolver=n,this.auth=function(e){return e.wrapped()}(t)}return w(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Aj(jj(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Mj=function(){function e(t){b(this,e),this._delegate=t,this.multiFactor=function(e){var t=Zt(e);return dE.has(t)||dE.set(t,fE._fromUser(t)),dE.get(t)}(t)}return w(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=nn(en().mark((function e(t){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Aj(this.auth,wS(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cj(this.auth,iT(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=nn(en().mark((function e(t){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Aj(this.auth,kT(this._delegate,t,Ij)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=nn(en().mark((function e(t){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_j(a_(this.auth));case 2:return e.abrupt("return",BT(this._delegate,t,Ij));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=nn(en().mark((function e(t){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Aj(this.auth,_S(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Cj(this.auth,function(e,t,n){return oT.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Aj(this.auth,function(e,t,n){return wT.apply(this,arguments)}(this._delegate,e,Ij))}},{key:"reauthenticateWithRedirect",value:function(){var e=nn(en().mark((function e(t){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_j(a_(this.auth));case 2:return e.abrupt("return",LT(this._delegate,t,Ij));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return WS.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=nn(en().mark((function e(t){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cS(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return $S(Zt(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return $S(Zt(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return cT.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return YS.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return GS.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Mj.USER_MAP=new WeakMap;var Rj=Lw,Lj=function(){function e(t,n){if(b(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Rj(r,"invalid-api-key",{appName:t.name}),Rj(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Ij:void 0;this._delegate=n.initialize({options:{persistence:Bj(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Tw),this.linkUnderlyingAuth()}return w(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Mj.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){u_(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return DS.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return MS(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return PS.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=nn(en().mark((function e(t,n){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Aj(this._delegate,FS(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return HS.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=H_.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=nn(en().mark((function e(){var t;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rj(vj(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,VT(this._delegate,Ij);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Aj(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){a_(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Fj(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Fj(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return US.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return CS.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=nn(en().mark((function e(t){var n,r;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:kj(this._delegate,t),e.t0=t,e.next=e.t0===bj.SESSION?4:e.t0===bj.LOCAL?6:e.t0===bj.NONE?11:13;break;case 4:return n=gE,e.abrupt("break",14);case 6:return e.next=8,Ok(zE)._isAvailable();case 8:return r=e.sent,n=r?zE:mE,e.abrupt("break",14);case 11:return n=Ak,e.abrupt("break",14);case 13:return e.abrupt("return",Cw("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Aj(this._delegate,function(e){return aS.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Aj(this._delegate,bS(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Aj(this._delegate,function(e,t){return IS.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Aj(this._delegate,function(e,t,n){return bS(Zt(e),W_.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Aj(this._delegate,function(e,t,n){return VS.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Cj(this._delegate,function(e,t,n){return rT.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=nn(en().mark((function e(t){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rj(vj(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Aj(this._delegate,bT(this._delegate,t,Ij)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=nn(en().mark((function e(t){return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rj(vj(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,_j(this._delegate);case 3:return e.abrupt("return",MT(this._delegate,t,Ij));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return LS.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Fj(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Mj.getOrCreate(e))},error:t,complete:n}}function Bj(e,t){var n=function(e,t){var n=Ej();if(!n)return[];var r=Ck(wj,e,t);switch(n.getItem(r)){case bj.NONE:return[Ak];case bj.LOCAL:return[zE,gE];case bj.SESSION:return[gE];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(zE)||n.push(zE),"undefined"!==typeof window)for(var r=0,i=[mE,gE];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Ak)||n.push(Ak),n}Lj.Persistence=bj;var Uj=function(){function e(){b(this,e),this.providerId="phone",this._delegate=new lT(jj(Nr.auth()))}return w(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return lT.credential(e,t)}}]),e}();Uj.PHONE_SIGN_IN_METHOD=lT.PHONE_SIGN_IN_METHOD,Uj.PROVIDER_ID=lT.PROVIDER_ID;var Vj=Lw,zj=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nr.app();b(this,e),Vj(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new eT(t,n,i.auth()),this.type=this._delegate.type}return w(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new rn("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Lj(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:bw,PASSWORD_RESET:xw,RECOVER_EMAIL:ww,REVERT_SECOND_FACTOR_ADDITION:kw,VERIFY_AND_CHANGE_EMAIL:_w,VERIFY_EMAIL:Sw}},EmailAuthProvider:W_,FacebookAuthProvider:Y_,GithubAuthProvider:X_,GoogleAuthProvider:$_,OAuthProvider:Q_,SAMLAuthProvider:Z_,PhoneAuthProvider:Uj,PhoneMultiFactorGenerator:jI,RecaptchaVerifier:zj,TwitterAuthProvider:eS,Auth:Lj,AuthCredential:l_,Error:Ut}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.4.2")}(Nr);var qj=Nr.firestore.Timestamp;Nr.initializeApp({apiKey:"AIzaSyD9nDmpauEzggx4tqALcWBcK1jMzvi7rzI",authDomain:"hrms-e4806.firebaseapp.com;",projectId:"hrms-e4806",storageBucket:"hrms-e4806.appspot.com",messagingSenderId:"921196746710",appId:"1:921196746710:web:0b01e4a4250b49fb2cb677",measurementId:"G-M5CM3RL67T"});var Hj=Nr.firestore(),Wj=Nr.auth(),Gj=n.p+"static/media/startbg.79e74b07e031103d2549.jpg",Kj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Qj=i.createContext&&i.createContext(Kj),Yj=function(){return Yj=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Yj.apply(this,arguments)},$j=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Xj(e){return e&&e.map((function(e,t){return i.createElement(e.tag,Yj({key:t},e.attr),Xj(e.child))}))}function Jj(e){return function(t){return i.createElement(Zj,Yj({attr:Yj({},e.attr)},t),Xj(e.child))}}function Zj(e){var t=function(t){var n,r=e.attr,a=e.size,o=e.title,u=$j(e,["attr","size","title"]),s=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),i.createElement("svg",Yj({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:n,style:Yj(Yj({color:e.color||t.color},t.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&i.createElement("title",null,o),e.children)};return void 0!==Qj?i.createElement(Qj.Consumer,null,(function(e){return t(e)})):t(Kj)}function eO(e){return Jj({tag:"svg",attr:{viewBox:"0 0 460 512"},child:[{tag:"path",attr:{d:"M220.6 130.3l-67.2 28.2V43.2L98.7 233.5l54.7-24.2v130.3l67.2-209.3zm-83.2-96.7l-1.3 4.7-15.2 52.9C80.6 106.7 52 145.8 52 191.5c0 52.3 34.3 95.9 83.4 105.5v53.6C57.5 340.1 0 272.4 0 191.6c0-80.5 59.8-147.2 137.4-158zm311.4 447.2c-11.2 11.2-23.1 12.3-28.6 10.5-5.4-1.8-27.1-19.9-60.4-44.4-33.3-24.6-33.6-35.7-43-56.7-9.4-20.9-30.4-42.6-57.5-52.4l-9.7-14.7c-24.7 16.9-53 26.9-81.3 28.7l2.1-6.6 15.9-49.5c46.5-11.9 80.9-54 80.9-104.2 0-54.5-38.4-102.1-96-107.1V32.3C254.4 37.4 320 106.8 320 191.6c0 33.6-11.2 64.7-29 90.4l14.6 9.6c9.8 27.1 31.5 48 52.4 57.4s32.2 9.7 56.8 43c24.6 33.2 42.7 54.9 44.5 60.3s.7 17.3-10.5 28.5zm-9.9-17.9c0-4.4-3.6-8-8-8s-8 3.6-8 8 3.6 8 8 8 8-3.6 8-8z"}}]})(e)}function tO(e){return Jj({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 160H320V128H448v32zM48 64C21.5 64 0 85.5 0 112v64c0 26.5 21.5 48 48 48H464c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H48zM448 352v32H192V352H448zM48 288c-26.5 0-48 21.5-48 48v64c0 26.5 21.5 48 48 48H464c26.5 0 48-21.5 48-48V336c0-26.5-21.5-48-48-48H48z"}}]})(e)}function nO(e){return Jj({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 0c-17.7 0-32 14.3-32 32V51.2C119 66 64 130.6 64 208v18.8c0 47-17.3 92.4-48.5 127.6l-7.4 8.3c-8.4 9.4-10.4 22.9-5.3 34.4S19.4 416 32 416H416c12.6 0 24-7.4 29.2-18.9s3.1-25-5.3-34.4l-7.4-8.3C401.3 319.2 384 273.9 384 226.8V208c0-77.4-55-142-128-156.8V32c0-17.7-14.3-32-32-32zm45.3 493.3c12-12 18.7-28.3 18.7-45.3H224 160c0 17 6.7 33.3 18.7 45.3s28.3 18.7 45.3 18.7s33.3-6.7 45.3-18.7z"}}]})(e)}function rO(e){return Jj({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M160 0c17.7 0 32 14.3 32 32V64H320V32c0-17.7 14.3-32 32-32s32 14.3 32 32V64h48c26.5 0 48 21.5 48 48v48H32V112c0-26.5 21.5-48 48-48h48V32c0-17.7 14.3-32 32-32zM32 192H480V464c0 26.5-21.5 48-48 48H80c-26.5 0-48-21.5-48-48V192zM337 305c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-47 47-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l47 47-47 47c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l47-47 47 47c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-47-47 47-47z"}}]})(e)}function iO(e){return Jj({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"}}]})(e)}function aO(e){return Jj({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"}}]})(e)}function oO(e){return Jj({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM72 272a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zm104-16H304c8.8 0 16 7.2 16 16s-7.2 16-16 16H176c-8.8 0-16-7.2-16-16s7.2-16 16-16zM72 368a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zm88 0c0-8.8 7.2-16 16-16H304c8.8 0 16 7.2 16 16s-7.2 16-16 16H176c-8.8 0-16-7.2-16-16z"}}]})(e)}function uO(e){return Jj({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"}}]})(e)}function sO(e){return Jj({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 80C0 53.5 21.5 32 48 32h96c26.5 0 48 21.5 48 48V96H384V80c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H432c-26.5 0-48-21.5-48-48V160H192v16c0 1.7-.1 3.4-.3 5L272 288h96c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H272c-26.5 0-48-21.5-48-48V336c0-1.7 .1-3.4 .3-5L144 224H48c-26.5 0-48-21.5-48-48V80z"}}]})(e)}function cO(e){return Jj({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"}}]})(e)}function lO(e){return Jj({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M40 48C26.7 48 16 58.7 16 72v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V72c0-13.3-10.7-24-24-24H40zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zM16 232v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V232c0-13.3-10.7-24-24-24H40c-13.3 0-24 10.7-24 24zM40 368c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V392c0-13.3-10.7-24-24-24H40z"}}]})(e)}function fO(e){return Jj({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"}}]})(e)}function dO(e){return Jj({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M72 88a56 56 0 1 1 112 0A56 56 0 1 1 72 88zM64 245.7C54 256.9 48 271.8 48 288s6 31.1 16 42.3V245.7zm144.4-49.3C178.7 222.7 160 261.2 160 304c0 34.3 12 65.8 32 90.5V416c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V389.2C26.2 371.2 0 332.7 0 288c0-61.9 50.1-112 112-112h32c24 0 46.2 7.5 64.4 20.3zM448 416V394.5c20-24.7 32-56.2 32-90.5c0-42.8-18.7-81.3-48.4-107.7C449.8 183.5 472 176 496 176h32c61.9 0 112 50.1 112 112c0 44.7-26.2 83.2-64 101.2V416c0 17.7-14.3 32-32 32H480c-17.7 0-32-14.3-32-32zm8-328a56 56 0 1 1 112 0A56 56 0 1 1 456 88zM576 245.7v84.7c10-11.3 16-26.1 16-42.3s-6-31.1-16-42.3zM320 32a64 64 0 1 1 0 128 64 64 0 1 1 0-128zM240 304c0 16.2 6 31 16 42.3V261.7c-10 11.3-16 26.1-16 42.3zm144-42.3v84.7c10-11.3 16-26.1 16-42.3s-6-31.1-16-42.3zM448 304c0 44.7-26.2 83.2-64 101.2V448c0 17.7-14.3 32-32 32H288c-17.7 0-32-14.3-32-32V405.2c-37.8-18-64-56.5-64-101.2c0-61.9 50.1-112 112-112h32c61.9 0 112 50.1 112 112z"}}]})(e)}function hO(e){return Jj({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M112 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm40 304V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V256.9L59.4 304.5c-9.1 15.1-28.8 20-43.9 10.9s-20-28.8-10.9-43.9l58.3-97c17.4-28.9 48.6-46.6 82.3-46.6h29.7c33.7 0 64.9 17.7 82.3 46.6l58.3 97c9.1 15.1 4.2 34.8-10.9 43.9s-34.8 4.2-43.9-10.9L232 256.9V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V352H152z"}}]})(e)}function pO(e){return Jj({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"}}]})(e)}function vO(e){return Jj({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M576 0c17.7 0 32 14.3 32 32V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V32c0-17.7 14.3-32 32-32zM448 96c17.7 0 32 14.3 32 32V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V128c0-17.7 14.3-32 32-32zM352 224V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V224c0-17.7 14.3-32 32-32s32 14.3 32 32zM192 288c17.7 0 32 14.3 32 32V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V320c0-17.7 14.3-32 32-32zM96 416v64c0 17.7-14.3 32-32 32s-32-14.3-32-32V416c0-17.7 14.3-32 32-32s32 14.3 32 32z"}}]})(e)}function mO(e){return Jj({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"}}]})(e)}function yO(e){return Jj({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3zM504 312V248H440c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V136c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H552v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"}}]})(e)}function gO(e){return Jj({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M144 0a80 80 0 1 1 0 160A80 80 0 1 1 144 0zM512 0a80 80 0 1 1 0 160A80 80 0 1 1 512 0zM0 298.7C0 239.8 47.8 192 106.7 192h42.7c15.9 0 31 3.5 44.6 9.7c-1.3 7.2-1.9 14.7-1.9 22.3c0 38.2 16.8 72.5 43.3 96c-.2 0-.4 0-.7 0H21.3C9.6 320 0 310.4 0 298.7zM405.3 320c-.2 0-.4 0-.7 0c26.6-23.5 43.3-57.8 43.3-96c0-7.6-.7-15-1.9-22.3c13.6-6.3 28.7-9.7 44.6-9.7h42.7C592.2 192 640 239.8 640 298.7c0 11.8-9.6 21.3-21.3 21.3H405.3zM224 224a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zM128 485.3C128 411.7 187.7 352 261.3 352H378.7C452.3 352 512 411.7 512 485.3c0 14.7-11.9 26.7-26.7 26.7H154.7c-14.7 0-26.7-11.9-26.7-26.7z"}}]})(e)}function bO(e){return Jj({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-111 111-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L369 209z"}}]})(e)}function xO(e){return Jj({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M64 112c-8.8 0-16 7.2-16 16v22.1L220.5 291.7c20.7 17 50.4 17 71.1 0L464 150.1V128c0-8.8-7.2-16-16-16H64zM48 212.2V384c0 8.8 7.2 16 16 16H448c8.8 0 16-7.2 16-16V212.2L322 328.8c-38.4 31.5-93.7 31.5-132 0L48 212.2zM0 128C0 92.7 28.7 64 64 64H448c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128z"}}]})(e)}function wO(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function kO(e){return!!e&&!!e[fN]}function _O(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===dN}(e)||Array.isArray(e)||!!e[lN]||!!(null===(t=e.constructor)||void 0===t?void 0:t[lN])||NO(e)||AO(e))}function SO(e,t,n){void 0===n&&(n=!1),0===EO(e)?(n?Object.keys:hN)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function EO(e){var t=e[fN];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:NO(e)?2:AO(e)?3:0}function TO(e,t){return 2===EO(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function IO(e,t){return 2===EO(e)?e.get(t):e[t]}function jO(e,t,n){var r=EO(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function OO(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function NO(e){return oN&&e instanceof Map}function AO(e){return uN&&e instanceof Set}function CO(e){return e.o||e.t}function PO(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=pN(e);delete t[fN];for(var n=hN(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function DO(e,t){return void 0===t&&(t=!1),RO(e)||kO(e)||!_O(e)||(EO(e)>1&&(e.set=e.add=e.clear=e.delete=MO),Object.freeze(e),t&&SO(e,(function(e,t){return DO(t,!0)}),!0)),e}function MO(){wO(2)}function RO(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function LO(e){var t=vN[e];return t||wO(18,e),t}function FO(e,t){vN[e]||(vN[e]=t)}function BO(){return iN}function UO(e,t){t&&(LO("Patches"),e.u=[],e.s=[],e.v=t)}function VO(e){zO(e),e.p.forEach(HO),e.p=null}function zO(e){e===iN&&(iN=e.l)}function qO(e){return iN={p:[],l:iN,h:e,m:!0,_:0}}function HO(e){var t=e[fN];0===t.i||1===t.i?t.j():t.g=!0}function WO(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||LO("ES5").S(t,e,r),r?(n[fN].P&&(VO(t),wO(4)),_O(e)&&(e=GO(t,e),t.l||QO(t,e)),t.u&&LO("Patches").M(n[fN].t,e,t.u,t.s)):e=GO(t,n,[]),VO(t),t.u&&t.v(t.u,t.s),e!==cN?e:void 0}function GO(e,t,n){if(RO(t))return t;var r=t[fN];if(!r)return SO(t,(function(i,a){return KO(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return QO(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=PO(r.k):r.o,a=i,o=!1;3===r.i&&(a=new Set(i),i.clear(),o=!0),SO(a,(function(t,a){return KO(e,r,i,t,a,n,o)})),QO(e,i,!1),n&&e.u&&LO("Patches").N(r,n,e.u,e.s)}return r.o}function KO(e,t,n,r,i,a,o){if(kO(i)){var u=GO(e,i,a&&t&&3!==t.i&&!TO(t.R,r)?a.concat(r):void 0);if(jO(n,r,u),!kO(u))return;e.m=!1}else o&&n.add(i);if(_O(i)&&!RO(i)){if(!e.h.D&&e._<1)return;GO(e,i),t&&t.A.l||QO(e,i)}}function QO(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&DO(t,n)}function YO(e,t){var n=e[fN];return(n?CO(n):e)[t]}function $O(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function XO(e){e.P||(e.P=!0,e.l&&XO(e.l))}function JO(e){e.o||(e.o=PO(e.t))}function ZO(e,t,n){var r=NO(t)?LO("MapSet").F(t,n):AO(t)?LO("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:BO(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=mN;n&&(i=[r],a=yN);var o=Proxy.revocable(i,a),u=o.revoke,s=o.proxy;return r.k=s,r.j=u,s}(t,n):LO("ES5").J(t,n);return(n?n.A:BO()).p.push(r),r}function eN(e){return kO(e)||wO(22,e),function e(t){if(!_O(t))return t;var n,r=t[fN],i=EO(t);if(r){if(!r.P&&(r.i<4||!LO("ES5").K(r)))return r.t;r.I=!0,n=tN(t,i),r.I=!1}else n=tN(t,i);return SO(n,(function(t,i){r&&IO(r.t,t)===i||jO(n,t,e(i))})),3===i?new Set(n):n}(e)}function tN(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return PO(e)}function nN(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[fN];return mN.get(t,e)},set:function(t){var n=this[fN];mN.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][fN];if(!i.P)switch(i.i){case 5:r(i)&&XO(i);break;case 4:n(i)&&XO(i)}}}function n(e){for(var t=e.t,n=e.k,r=hN(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==fN){var o=t[a];if(void 0===o&&!TO(t,a))return!0;var u=n[a],s=u&&u[fN];if(s?s.t!==o:!OO(u,o))return!0}}var c=!!t[fN];return r.length!==hN(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};FO("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=pN(n);delete a[fN];for(var o=hN(a),u=0;u<o.length;u++){var s=o[u];a[s]=e(s,t||!!a[s].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:BO(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,fN,{value:a,writable:!0}),i},S:function(e,n,i){i?kO(n)&&n[fN].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[fN];if(n){var i=n.t,a=n.k,o=n.R,u=n.i;if(4===u)SO(a,(function(t){t!==fN&&(void 0!==i[t]||TO(i,t)?o[t]||e(a[t]):(o[t]=!0,XO(n)))})),SO(i,(function(e){void 0!==a[e]||TO(a,e)||(o[e]=!1,XO(n))}));else if(5===u){if(r(n)&&(XO(n),o.length=!0),a.length<i.length)for(var s=a.length;s<i.length;s++)o[s]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),f=0;f<l;f++)a.hasOwnProperty(f)||(o[f]=!0),void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var rN,iN,aN="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),oN="undefined"!=typeof Map,uN="undefined"!=typeof Set,sN="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,cN=aN?Symbol.for("immer-nothing"):((rN={})["immer-nothing"]=!0,rN),lN=aN?Symbol.for("immer-draftable"):"__$immer_draftable",fN=aN?Symbol.for("immer-state"):"__$immer_state",dN=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),hN="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,pN=Object.getOwnPropertyDescriptors||function(e){var t={};return hN(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},vN={},mN={get:function(e,t){if(t===fN)return e;var n=CO(e);if(!TO(n,t))return function(e,t,n){var r,i=$O(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!_O(r)?r:r===YO(e.t,t)?(JO(e),e.o[t]=ZO(e.A.h,r,e)):r},has:function(e,t){return t in CO(e)},ownKeys:function(e){return Reflect.ownKeys(CO(e))},set:function(e,t,n){var r=$O(CO(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=YO(CO(e),t),a=null==i?void 0:i[fN];if(a&&a.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(OO(n,i)&&(void 0!==n||TO(e.t,t)))return!0;JO(e),XO(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==YO(e.t,t)||t in e.t?(e.R[t]=!1,JO(e),XO(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=CO(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){wO(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){wO(12)}},yN={};SO(mN,(function(e,t){yN[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),yN.deleteProperty=function(e,t){return yN.set.call(this,e,t,void 0)},yN.set=function(e,t,n){return mN.set.call(this,e[0],t,n,e[0])};var gN=function(){function e(e){var t=this;this.O=sN,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&wO(6),void 0!==r&&"function"!=typeof r&&wO(7),_O(e)){var u=qO(t),s=ZO(t,e,void 0),c=!0;try{o=n(s),c=!1}finally{c?VO(u):zO(u)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return UO(u,r),WO(e,u)}),(function(e){throw VO(u),e})):(UO(u,r),WO(o,u))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===cN&&(o=void 0),t.D&&DO(o,!0),r){var l=[],f=[];LO("Patches").M(e,o,l,f),r(l,f)}return o}wO(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){_O(e)||wO(8),kO(e)&&(e=eN(e));var t=qO(this),n=ZO(this,e,void 0);return n[fN].C=!0,zO(t),n},t.finishDraft=function(e,t){var n=(e&&e[fN]).A;return UO(n,t),WO(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!sN&&wO(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=LO("Patches").$;return kO(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),bN=new gN,xN=bN.produce,wN=(bN.produceWithPatches.bind(bN),bN.setAutoFreeze.bind(bN),bN.setUseProxies.bind(bN),bN.applyPatches.bind(bN),bN.createDraft.bind(bN),bN.finishDraft.bind(bN),xN);function kN(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var _N="function"===typeof Symbol&&Symbol.observable||"@@observable",SN=function(){return Math.random().toString(36).substring(7).split("").join(".")},EN={INIT:"@@redux/INIT"+SN(),REPLACE:"@@redux/REPLACE"+SN(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+SN()}};function TN(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function IN(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(kN(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(kN(1));return n(IN)(e,t)}if("function"!==typeof e)throw new Error(kN(2));var i=e,a=t,o=[],u=o,s=!1;function c(){u===o&&(u=o.slice())}function l(){if(s)throw new Error(kN(3));return a}function f(e){if("function"!==typeof e)throw new Error(kN(4));if(s)throw new Error(kN(5));var t=!0;return c(),u.push(e),function(){if(t){if(s)throw new Error(kN(6));t=!1,c();var n=u.indexOf(e);u.splice(n,1),o=null}}}function d(e){if(!TN(e))throw new Error(kN(7));if("undefined"===typeof e.type)throw new Error(kN(8));if(s)throw new Error(kN(9));try{s=!0,a=i(a,e)}finally{s=!1}for(var t=o=u,n=0;n<t.length;n++){(0,t[n])()}return e}return d({type:EN.INIT}),(r={dispatch:d,subscribe:f,getState:l,replaceReducer:function(e){if("function"!==typeof e)throw new Error(kN(10));i=e,d({type:EN.REPLACE})}})[_N]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(kN(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[_N]=function(){return this},e},r}function jN(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:EN.INIT}))throw new Error(kN(12));if("undefined"===typeof n(void 0,{type:EN.PROBE_UNKNOWN_ACTION()}))throw new Error(kN(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(kN(14))}i[s]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function ON(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function NN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(kN(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=ON.apply(void 0,a)(n.dispatch),f(f({},n),{},{dispatch:r})}}}function AN(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var CN=AN();CN.withExtraArgument=AN;var PN=CN,DN=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),MN=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},RN=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},LN=Object.defineProperty,FN=Object.defineProperties,BN=Object.getOwnPropertyDescriptors,UN=Object.getOwnPropertySymbols,VN=Object.prototype.hasOwnProperty,zN=Object.prototype.propertyIsEnumerable,qN=function(e,t,n){return t in e?LN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},HN=function(e,t){for(var n in t||(t={}))VN.call(t,n)&&qN(e,n,t[n]);if(UN)for(var r=0,i=UN(t);r<i.length;r++){n=i[r];zN.call(t,n)&&qN(e,n,t[n])}return e},WN=function(e,t){return FN(e,BN(t))},GN=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{u(n.next(e))}catch(t){i(t)}},o=function(e){try{u(n.throw(e))}catch(t){i(t)}},u=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};u((n=n.apply(e,t)).next())}))},KN="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?ON:ON.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function QN(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var YN=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return DN(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,RN([void 0],e[0].concat(this)))):new(t.bind.apply(t,RN([void 0],e.concat(this))))},t}(Array),$N=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return DN(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,RN([void 0],e[0].concat(this)))):new(t.bind.apply(t,RN([void 0],e.concat(this))))},t}(Array);function XN(e){return _O(e)?wN(e,(function(){})):e}function JN(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new YN);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(PN.withExtraArgument(n.extraArgument)):r.push(PN));0;return r}(e)}}function ZN(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return HN(HN({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function eA(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function tA(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:XN(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},u={},s={};function c(){var t="function"===typeof e.extraReducers?eA(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,s=t[2],c=void 0===s?void 0:s,l=HN(HN({},i),u);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?eA(t):[t,n,r],o=a[0],u=a[1],s=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return XN(e())};else{var c=XN(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=RN([o[t.type]],u.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[s]),n.reduce((function(e,n){if(n){var r;if(kO(e))return void 0===(r=n(e,t))?e:r;if(_O(e))return wN(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,(function(e){for(var t in l)e.addCase(t,l[t]);for(var n=0,r=o;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return a.forEach((function(e){var n,r,a=i[e],c=function(e,t){return e+"/"+t}(t,e);"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,u[c]=n,s[e]=r?ZN(c,r):ZN(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:s,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}var nA=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},rA=["name","message","stack","code"],iA=function(e,t){this.payload=e,this.meta=t},aA=function(e,t){this.payload=e,this.meta=t},oA=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=rA;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=ZN(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:WN(HN({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=ZN(e+"/pending",(function(e,t,n){return{payload:void 0,meta:WN(HN({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=ZN(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||oA)(e||"Rejected"),meta:WN(HN({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(u,s,c){var l,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):nA(),d=new o;function h(e){l=e,d.abort()}var p=function(){return GN(this,null,(function(){var o,p,v,m,y,g;return MN(this,(function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),function(e){return null!==e&&"object"===typeof e&&"function"===typeof e.then}(m=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:s,extra:c}))?[4,m]:[3,2];case 1:m=b.sent(),b.label=2;case 2:if(!1===m||d.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,y=new Promise((function(e,t){return d.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),u(i(f,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:f,arg:e},{getState:s,extra:c}))),[4,Promise.race([y,Promise.resolve(t(e,{dispatch:u,getState:s,extra:c,requestId:f,signal:d.signal,abort:h,rejectWithValue:function(e,t){return new iA(e,t)},fulfillWithValue:function(e,t){return new aA(e,t)}})).then((function(t){if(t instanceof iA)throw t;return t instanceof aA?r(t.payload,f,e,t.meta):r(t,f,e)}))])];case 3:return v=b.sent(),[3,5];case 4:return g=b.sent(),v=g instanceof iA?a(null,f,e,g.payload,g.meta):a(g,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(v)&&v.meta.condition||u(v),[2,v]}}))}))}();return Object.assign(p,{abort:h,requestId:f,arg:e,unwrap:function(){return p.then(uA)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();function uA(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var sA="listenerMiddleware";ZN(sA+"/add"),ZN(sA+"/removeAll"),ZN(sA+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var cA,lA=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:lA(10);nN();var fA={isLoading:!0,auth:{isAuthenticated:!1,id:""},notice:{status:!1},department:null,attendance:{allowCheckin:!1},leaveData:{userLeaves:null,leavesTypes:null}},dA=tA({name:"notice",initialState:fA.notice,reducers:{setNotice:function(e,t){var n,r,i,a;e.status=!0,e.data=f(f({},e.data),{},c({},null===(n=t.payload)||void 0===n?void 0:n.name,{message:[null===(r=t.payload)||void 0===r?void 0:r.msg],code:null===(i=t.payload)||void 0===i?void 0:i.code,time:null===(a=t.payload)||void 0===a?void 0:a.time}))},delNotice:function(e,t){var n;e.status=!1,null===(n=e.data)||void 0===n||delete n[t.payload]}}}),hA=dA.actions,pA=hA.setNotice,vA=hA.delNotice,mA=dA.reducer,yA=n(184),gA=function(e){var t,n,r,a=e.typeProp,o=_t(),u=pt((function(e){return e.notice})),s=null===u||void 0===u||null===(t=u.data)||void 0===t?void 0:t[a];return 1==(null===s||void 0===s?void 0:s.code)?r="bg-red-300":2===(null===s||void 0===s?void 0:s.code)?r="bg-orange-200":3==(null===s||void 0===s?void 0:s.code)&&(r="bg-green-200"),(0,i.useEffect)((function(){if(null!==s&&void 0!==s&&s.time){var e=setTimeout((function(){o(vA(a))}),null===s||void 0===s?void 0:s.time);return function(){clearTimeout(e)}}}),[null===s||void 0===s?void 0:s.time]),(0,yA.jsx)("div",{className:"noticeBoard",children:(null===u||void 0===u?void 0:u.status)&&s&&(0,yA.jsx)("div",{className:"".concat(r," py-3 px-4"),children:(0,yA.jsx)("ul",{children:null===s||void 0===s||null===(n=s.message)||void 0===n?void 0:n.map((function(e,t){return(0,yA.jsxs)("li",{className:"mb-2 flex items-center",children:[(0,yA.jsx)("span",{className:"font-semibold mr-2 text-2xl",children:3==(null===s||void 0===s?void 0:s.code)?(0,yA.jsx)(bO,{}):(0,yA.jsx)(aO,{})}),(0,yA.jsx)("span",{children:e})]},t)}))})})})},bA=function(){var e=_t(),t=m((0,i.useState)({}),2),n=t[0],r=t[1],a=Ee(),o=function(e){e.preventDefault();var t={status:!1},i=e.currentTarget,a=i.name,o=i.value;"email"!==a||/(.+)@(.+){2,}\.(.+){2,}/.test(o)?"password"===a&&o.length<6?(t.password="Invalid password",t.status=!0):null==(t=f(f({},t),{},c({},a,null))).email&&null==t.password&&(t.status=!1):(t.email="Invalid Email",t.status=!0),r(f(f({},n),t)),console.log(t)};return(0,yA.jsxs)("section",{className:"bg-cover h-screen\tflex items-center",style:{backgroundImage:"url(".concat(Gj,")")},children:[(0,yA.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-950 to-black opacity-70"}),(0,yA.jsxs)("div",{className:"w-4/12 sm:w-11/12 mx-auto bg-white h-max z-10",children:[(0,yA.jsx)(gA,{typeProp:"loginNotice"}),(0,yA.jsxs)("form",{onSubmit:function(t){t.preventDefault();var r=t.currentTarget.email.value,i=t.currentTarget.password.value;r&&i&&!n.status&&Wj.signInWithEmailAndPassword(r,i).then((function(t){var n;return e(pA({name:"loginNotice",msg:"Login successfull!",code:3})),Hj.collection("users").where("id","==",null===(n=t.user)||void 0===n?void 0:n.uid).get().then((function(e){var t;return e.forEach((function(e){t=e.data().type})),t}))})).then((function(t){setTimeout((function(){"admin"===t?(console.log("admin navigation"),a("/hr/home")):"user"===t&&(console.log("user navigation"),a("/user/")),e(vA("loginNotice"))}),2e3)})).catch((function(t){t.code;var n=t.message;e(pA({name:"loginNotice",msg:n,code:1}))}))},className:" p-10 ",children:[(0,yA.jsx)("h4",{className:"text-2xl text-center mb-4 text-defaultBg",children:"Login"}),(0,yA.jsxs)("div",{className:"mb-4",children:[(0,yA.jsx)("label",{className:"block  text-sm font-bold mb-2",htmlFor:"email",children:"Email"}),(0,yA.jsx)("input",{className:"appearance-none border rounded w-full py-2 px-3  leading-tight focus:outline-none focus:shadow-outline",id:"email",type:"email",name:"email",defaultValue:"hr@mail.com",onBlur:o}),n.email&&(0,yA.jsx)("p",{className:"text-red-700 text-xs",children:null===n||void 0===n?void 0:n.email})]}),(0,yA.jsxs)("div",{className:"mb-4",children:[(0,yA.jsx)("label",{className:"block  text-sm font-bold mb-2",htmlFor:"password",children:"Password"}),(0,yA.jsx)("input",{className:"appearance-none border rounded w-full py-2 px-3  leading-tight focus:outline-none focus:shadow-outline",id:"password",type:"password",name:"password",defaultValue:"123456",onBlur:o}),n.password&&(0,yA.jsx)("p",{className:"text-red-700 text-xs",children:null===n||void 0===n?void 0:n.password})]}),(0,yA.jsx)("button",{className:"bg-color-one hover:bg-color-three text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full",type:"submit",children:"Login"})]})]})]})},xA=function(){var e=pt((function(e){return e.user}));return(0,yA.jsxs)(qe,{children:[!e.isAuthenticated&&(0,yA.jsx)(Ve,{path:"/",element:(0,yA.jsx)(bA,{})}),e.isAuthenticated&&(0,yA.jsx)(Ve,{path:"/",element:"admin"==e.type?(0,yA.jsx)(Ue,{to:"/hr/home"}):(0,yA.jsx)(Ue,{to:"/user/home"})})]})},wA=n.p+"static/media/logo.050c926afbd2ed38dbf3.png",kA=function(){var e=Ee(),t=_t(),n=m((0,i.useState)(!1),2),r=n[0],a=n[1];return(0,yA.jsxs)("div",{children:[(0,yA.jsx)("button",{onClick:function(){a(!0)},children:"Logout"}),r&&(0,yA.jsx)("div",{children:(0,yA.jsx)("div",{className:"fixed inset-0 grid overflow-y-auto\tpy-5 items-center justify-center z-50 bg-[#0000008c]",children:(0,yA.jsxs)("div",{className:"bg-white p-8 rounded shadow-md relative ",id:"employeeFormPopup",children:[(0,yA.jsx)("h1",{className:"text-2xl font-bold  mb-5 normal-case",children:"Are you sure to Logout?"}),(0,yA.jsxs)("div",{className:"flex space-x-3 mb-3",children:[(0,yA.jsx)("button",{className:" rounded-md m-auto border hover:bg-red-600 text-white w-full font-bold py-2 px-4  bg-red-700",onClick:function(){Wj.signOut().then((function(){t(pA({name:"loginNotice",msg:"Signout done! Login again.",code:3,time:3e3})),e("/")})).catch((function(e){console.log(e.errorMessage)}))},children:"Logout"}),(0,yA.jsx)("button",{className:"w-full rounded-md m-auto border border-color-one hover:bg-color-one hover:text-white text-color-one font-bold py-2 px-4 ",onClick:function(){return a(!1)},children:"Cancel"})]})]})})})]})},_A=function(){var e=pt((function(e){return e.user}));return(0,yA.jsxs)("header",{className:"bg-defaultBg text-amber-100 border-b  border-defaultBg-100 ",children:[(0,yA.jsx)("div",{className:"container py-2",children:(0,yA.jsxs)("div",{className:"flex justify-between items-center space-x-2",children:[(0,yA.jsx)("div",{className:"w-2/12",children:(0,yA.jsx)("img",{src:wA,alt:"logo",className:"w-28"})}),(0,yA.jsx)("div",{className:"w-full",children:(0,yA.jsx)("nav",{className:"w-full",children:(0,yA.jsxs)("ul",{className:"flex w-full gap-x-3 ",children:[(0,yA.jsx)("li",{className:"flex px-3 py-1 rounded-2xl items-center hover:bg-defaultBg-100",children:(0,yA.jsxs)(Ze,{to:"../home",className:"flex items-center",children:[(0,yA.jsx)(cO,{className:"mr-2"})," Dashboard"]})}),(0,yA.jsx)("li",{className:"flex px-3 py-1 rounded-2xl items-center hover:bg-defaultBg-100",children:(0,yA.jsxs)(Ze,{to:"../employees",className:"flex items-center",children:[(0,yA.jsx)(dO,{className:"mr-2"})," Employees"]})}),(0,yA.jsx)("li",{className:"flex px-3 py-1 rounded-2xl items-center hover:bg-defaultBg-100",children:(0,yA.jsxs)(Ze,{to:"../leaves",className:"flex items-center",children:[(0,yA.jsx)(lO,{className:"mr-2"})," Leaves"]})}),(0,yA.jsx)("li",{className:"flex px-3 py-1 rounded-2xl items-center hover:bg-defaultBg-100",children:(0,yA.jsxs)(Ze,{to:"../attendance",className:"flex items-center",children:[(0,yA.jsx)(tO,{className:"mr-2"})," Attendance"]})})]})})}),(0,yA.jsx)("div",{className:"w-4/12 text-right relative",children:(0,yA.jsxs)("ul",{className:"flex justify-end gap-x-1 ",children:[(0,yA.jsx)("li",{className:"flex items-center",children:(0,yA.jsx)(eO,{size:25,className:"mr-2 border border-defaultBg-100 rounded-full p-1 text-center bg-defaultBg-100"})}),(0,yA.jsx)("li",{className:"flex items-center",children:(0,yA.jsx)(Ze,{to:"../notifications",children:(0,yA.jsx)(nO,{size:25,className:"mr-2 border border-defaultBg-100 rounded-full p-1 text-center bg-defaultBg-100"})})}),(0,yA.jsxs)("li",{className:"flex group items-center capitalize rounded-full p-1 pr-3 text-center bg-defaultBg-100",onClick:function(){},children:[(0,yA.jsx)(hO,{size:25,className:"mr-2 border border-defaultBg-100  rounded-full p-1 text-center bg-defaultBg-100"}),e.name,(0,yA.jsx)("div",{className:"absolute top-full hidden right-0 pt-3 group-hover:block   bg-opacity-50 ",children:(0,yA.jsxs)("div",{className:"bg-defaultBg text-left rounded p-4 px-5 block border-defaultBg-100 border",children:[(0,yA.jsx)("p",{children:(0,yA.jsx)(Ze,{to:"../employees/view/qDgkYNJslpyXBNkkuq51",children:"My profile"})}),(0,yA.jsx)("p",{children:(0,yA.jsx)(Ze,{to:"../settings",children:"Settings"})}),(0,yA.jsx)(kA,{})]})})]})]})})]})}),(0,yA.jsx)(gA,{typeProp:"homeNotice"})]})};function SA(e,t){return function(){return e.apply(t,arguments)}}var EA,TA=Object.prototype.toString,IA=Object.getPrototypeOf,jA=(EA=Object.create(null),function(e){var t=TA.call(e);return EA[t]||(EA[t]=t.slice(8,-1).toLowerCase())}),OA=function(e){return e=e.toLowerCase(),function(t){return jA(t)===e}},NA=function(e){return function(t){return typeof t===e}},AA=Array.isArray,CA=NA("undefined");var PA=OA("ArrayBuffer");var DA=NA("string"),MA=NA("function"),RA=NA("number"),LA=function(e){return null!==e&&"object"===typeof e},FA=function(e){if("object"!==jA(e))return!1;var t=IA(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},BA=OA("Date"),UA=OA("File"),VA=OA("Blob"),zA=OA("FileList"),qA=OA("URLSearchParams");function HA(e,t){var n,r,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,a=void 0!==i&&i;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),AA(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var o,u=a?Object.getOwnPropertyNames(e):Object.keys(e),s=u.length;for(n=0;n<s;n++)o=u[n],t.call(null,e[o],o,e)}}function WA(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var GA="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,KA=function(e){return!CA(e)&&e!==GA};var QA,YA=(QA="undefined"!==typeof Uint8Array&&IA(Uint8Array),function(e){return QA&&e instanceof QA}),$A=OA("HTMLFormElement"),XA=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),JA=OA("RegExp"),ZA=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};HA(n,(function(n,i){!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},eC="abcdefghijklmnopqrstuvwxyz",tC="0123456789",nC={DIGIT:tC,ALPHA:eC,ALPHA_DIGIT:eC+eC.toUpperCase()+tC};var rC=OA("AsyncFunction"),iC={isArray:AA,isArrayBuffer:PA,isBuffer:function(e){return null!==e&&!CA(e)&&null!==e.constructor&&!CA(e.constructor)&&MA(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"===typeof FormData&&e instanceof FormData||MA(e.append)&&("formdata"===(t=jA(e))||"object"===t&&MA(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&PA(e.buffer)},isString:DA,isNumber:RA,isBoolean:function(e){return!0===e||!1===e},isObject:LA,isPlainObject:FA,isUndefined:CA,isDate:BA,isFile:UA,isBlob:VA,isRegExp:JA,isFunction:MA,isStream:function(e){return LA(e)&&MA(e.pipe)},isURLSearchParams:qA,isTypedArray:YA,isFileList:zA,forEach:HA,merge:function e(){for(var t=(KA(this)&&this||{}).caseless,n={},r=function(r,i){var a=t&&WA(n,i)||i;FA(n[a])&&FA(r)?n[a]=e(n[a],r):FA(r)?n[a]=e({},r):AA(r)?n[a]=r.slice():n[a]=r},i=0,a=arguments.length;i<a;i++)arguments[i]&&HA(arguments[i],r);return n},extend:function(e,t,n){return HA(t,(function(t,r){n&&MA(t)?e[r]=SA(t,n):e[r]=t}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,u={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||u[o]||(t[o]=e[o],u[o]=!0);e=!1!==n&&IA(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:jA,kindOfTest:OA,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(AA(e))return e;var t=e.length;if(!RA(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:$A,hasOwnProperty:XA,hasOwnProp:XA,reduceDescriptors:ZA,freezeMethods:function(e){ZA(e,(function(t,n){if(MA(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];MA(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return AA(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:WA,global:GA,isContextDefined:KA,ALPHABET:nC,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nC.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&MA(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(LA(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=AA(n)?[]:{};return HA(n,(function(t,n){var a=e(t,r+1);!CA(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)},isAsyncFn:rC,isThenable:function(e){return e&&(LA(e)||MA(e))&&MA(e.then)&&MA(e.catch)}};function aC(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}iC.inherits(aC,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:iC.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var oC=aC.prototype,uC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){uC[e]={value:e}})),Object.defineProperties(aC,uC),Object.defineProperty(oC,"isAxiosError",{value:!0}),aC.from=function(e,t,n,r,i,a){var o=Object.create(oC);return iC.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),aC.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var sC=aC;function cC(e){return iC.isPlainObject(e)||iC.isArray(e)}function lC(e){return iC.endsWith(e,"[]")?e.slice(0,-2):e}function fC(e,t,n){return e?e.concat(t).map((function(e,t){return e=lC(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var dC=iC.toFlatObject(iC,{},null,(function(e){return/^is[A-Z]/.test(e)}));var hC=function(e,t,n){if(!iC.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var r=(n=iC.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!iC.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,a=n.dots,o=n.indexes,u=(n.Blob||"undefined"!==typeof Blob&&Blob)&&iC.isSpecCompliantForm(t);if(!iC.isFunction(i))throw new TypeError("visitor must be a function");function s(e){if(null===e)return"";if(iC.isDate(e))return e.toISOString();if(!u&&iC.isBlob(e))throw new sC("Blob is not supported. Use a Buffer instead.");return iC.isArrayBuffer(e)||iC.isTypedArray(e)?u&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){var u=e;if(e&&!i&&"object"===typeof e)if(iC.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(iC.isArray(e)&&function(e){return iC.isArray(e)&&!e.some(cC)}(e)||(iC.isFileList(e)||iC.endsWith(n,"[]"))&&(u=iC.toArray(e)))return n=lC(n),u.forEach((function(e,r){!iC.isUndefined(e)&&null!==e&&t.append(!0===o?fC([n],r,a):null===o?n:n+"[]",s(e))})),!1;return!!cC(e)||(t.append(fC(i,n,a),s(e)),!1)}var l=[],f=Object.assign(dC,{defaultVisitor:c,convertValue:s,isVisitable:cC});if(!iC.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!iC.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),iC.forEach(n,(function(n,a){!0===(!(iC.isUndefined(n)||null===n)&&i.call(t,n,iC.isString(a)?a.trim():a,r,f))&&e(n,r?r.concat(a):[a])})),l.pop()}}(e),t};function pC(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function vC(e,t){this._pairs=[],e&&hC(e,this,t)}var mC=vC.prototype;mC.append=function(e,t){this._pairs.push([e,t])},mC.toString=function(e){var t=e?function(t){return e.call(this,t,pC)}:pC;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var yC=vC;function gC(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function bC(e,t,n){if(!t)return e;var r,i=n&&n.encode||gC,a=n&&n.serialize;if(r=a?a(t,n):iC.isURLSearchParams(t)?t.toString():new yC(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var xC=function(){function e(){b(this,e),this.handlers=[]}return w(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){iC.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),wC=xC,kC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_C={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:yC,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},isStandardBrowserEnv:function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),isStandardBrowserWebWorkerEnv:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};var SC=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),u=i>=e.length;return a=!a&&iC.isArray(r)?r.length:a,u?(iC.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&iC.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&iC.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(iC.isFormData(e)&&iC.isFunction(e.entries)){var n={};return iC.forEachEntry(e,(function(e,r){t(function(e){return iC.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null},EC={"Content-Type":void 0};var TC={transitional:kC,adapter:["xhr","http"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=iC.isObject(e);if(a&&iC.isHTMLForm(e)&&(e=new FormData(e)),iC.isFormData(e))return i&&i?JSON.stringify(SC(e)):e;if(iC.isArrayBuffer(e)||iC.isBuffer(e)||iC.isStream(e)||iC.isFile(e)||iC.isBlob(e))return e;if(iC.isArrayBufferView(e))return e.buffer;if(iC.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return hC(e,new _C.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return _C.isNode&&iC.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=iC.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return hC(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(iC.isString(e))try{return(t||JSON.parse)(e),iC.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||TC.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&iC.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw sC.from(a,sC.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_C.classes.FormData,Blob:_C.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};iC.forEach(["delete","get","head"],(function(e){TC.headers[e]={}})),iC.forEach(["post","put","patch"],(function(e){TC.headers[e]=iC.merge(EC)}));var IC=TC,jC=iC.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),OC=Symbol("internals");function NC(e){return e&&String(e).trim().toLowerCase()}function AC(e){return!1===e||null==e?e:iC.isArray(e)?e.map(AC):String(e)}function CC(e,t,n,r,i){return iC.isFunction(r)?r.call(this,t,n):(i&&(t=n),iC.isString(t)?iC.isString(r)?-1!==t.indexOf(r):iC.isRegExp(r)?r.test(t):void 0:void 0)}var PC=function(e,t){function n(e){b(this,n),e&&this.set(e)}return w(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=NC(t);if(!i)throw new Error("header name must be a non-empty string");var a=iC.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=AC(e))}var a=function(e,t){return iC.forEach(e,(function(e,n){return i(e,n,t)}))};return iC.isPlainObject(e)||e instanceof this.constructor?a(e,t):iC.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&jC[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=NC(e)){var n=iC.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(iC.isFunction(t))return t.call(this,r,n);if(iC.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=NC(e)){var n=iC.findKey(this,e);return!(!n||void 0===this[n]||t&&!CC(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=NC(e)){var i=iC.findKey(n,e);!i||t&&!CC(0,n[i],i,t)||(delete n[i],r=!0)}}return iC.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var i=t[n];e&&!CC(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return iC.forEach(this,(function(r,i){var a=iC.findKey(n,i);if(a)return t[a]=AC(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=AC(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return iC.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&iC.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=m(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[OC]=this[OC]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=NC(e);t[r]||(!function(e,t){var n=iC.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return iC.isArray(e)?e.forEach(r):r(e),this}}]),n}();PC.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),iC.freezeMethods(PC.prototype),iC.freezeMethods(PC);var DC=PC;function MC(e,t){var n=this||IC,r=t||n,i=DC.from(r.headers),a=r.data;return iC.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function RC(e){return!(!e||!e.__CANCEL__)}function LC(e,t,n){sC.call(this,null==e?"canceled":e,sC.ERR_CANCELED,t,n),this.name="CanceledError"}iC.inherits(LC,sC,{__CANCEL__:!0});var FC=LC;var BC=_C.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[];o.push(e+"="+encodeURIComponent(t)),iC.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),iC.isString(r)&&o.push("path="+r),iC.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function UC(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var VC=_C.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=iC.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var zC=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(u){var s=Date.now(),c=i[o];n||(n=s),r[a]=u,i[a]=s;for(var l=o,f=0;l!==a;)f+=r[l++],l%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(s-n<t)){var d=c&&s-c;return d?Math.round(1e3*f/d):void 0}}};function qC(e,t){var n=0,r=zC(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,u=a-n,s=r(u);n=a;var c={loaded:a,total:o,progress:o?a/o:void 0,bytes:u,rate:s||void 0,estimated:s&&o&&a<=o?(o-a)/s:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}var HC="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i=e.data,a=DC.from(e.headers).normalize(),o=e.responseType;function u(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}iC.isFormData(i)&&(_C.isStandardBrowserEnv||_C.isStandardBrowserWebWorkerEnv?a.setContentType(!1):a.setContentType("multipart/form-data;",!1));var s=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(c+":"+l))}var f=UC(e.baseURL,e.url);function d(){if(s){var r=DC.from("getAllResponseHeaders"in s&&s.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new sC("Request failed with status code "+n.status,[sC.ERR_BAD_REQUEST,sC.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),u()}),(function(e){n(e),u()}),{data:o&&"text"!==o&&"json"!==o?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:r,config:e,request:s}),s=null}}if(s.open(e.method.toUpperCase(),bC(f,e.params,e.paramsSerializer),!0),s.timeout=e.timeout,"onloadend"in s?s.onloadend=d:s.onreadystatechange=function(){s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))&&setTimeout(d)},s.onabort=function(){s&&(n(new sC("Request aborted",sC.ECONNABORTED,e,s)),s=null)},s.onerror=function(){n(new sC("Network Error",sC.ERR_NETWORK,e,s)),s=null},s.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||kC;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new sC(t,r.clarifyTimeoutError?sC.ETIMEDOUT:sC.ECONNABORTED,e,s)),s=null},_C.isStandardBrowserEnv){var h=(e.withCredentials||VC(f))&&e.xsrfCookieName&&BC.read(e.xsrfCookieName);h&&a.set(e.xsrfHeaderName,h)}void 0===i&&a.setContentType(null),"setRequestHeader"in s&&iC.forEach(a.toJSON(),(function(e,t){s.setRequestHeader(t,e)})),iC.isUndefined(e.withCredentials)||(s.withCredentials=!!e.withCredentials),o&&"json"!==o&&(s.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&s.addEventListener("progress",qC(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",qC(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){s&&(n(!t||t.type?new FC(null,e,s):t),s.abort(),s=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var p=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);p&&-1===_C.protocols.indexOf(p)?n(new sC("Unsupported protocol "+p+":",sC.ERR_BAD_REQUEST,e)):s.send(i||null)}))},WC={http:null,xhr:HC};iC.forEach(WC,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var GC=function(e){for(var t,n,r=(e=iC.isArray(e)?e:[e]).length,i=0;i<r&&(t=e[i],!(n=iC.isString(t)?WC[t.toLowerCase()]:t));i++);if(!n){if(!1===n)throw new sC("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(iC.hasOwnProp(WC,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!iC.isFunction(n))throw new TypeError("adapter is not a function");return n};function KC(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new FC(null,e)}function QC(e){return KC(e),e.headers=DC.from(e.headers),e.data=MC.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),GC(e.adapter||IC.adapter)(e).then((function(t){return KC(e),t.data=MC.call(e,e.transformResponse,t),t.headers=DC.from(t.headers),t}),(function(t){return RC(t)||(KC(e),t&&t.response&&(t.response.data=MC.call(e,e.transformResponse,t.response),t.response.headers=DC.from(t.response.headers))),Promise.reject(t)}))}var YC=function(e){return e instanceof DC?e.toJSON():e};function $C(e,t){t=t||{};var n={};function r(e,t,n){return iC.isPlainObject(e)&&iC.isPlainObject(t)?iC.merge.call({caseless:n},e,t):iC.isPlainObject(t)?iC.merge({},t):iC.isArray(t)?t.slice():t}function i(e,t,n){return iC.isUndefined(t)?iC.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!iC.isUndefined(t))return r(void 0,t)}function o(e,t){return iC.isUndefined(t)?iC.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function u(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var s={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u,headers:function(e,t){return i(YC(e),YC(t),!0)}};return iC.forEach(Object.keys(Object.assign({},e,t)),(function(r){var a=s[r]||i,o=a(e[r],t[r],r);iC.isUndefined(o)&&a!==u||(n[r]=o)})),n}var XC="1.4.0",JC={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){JC[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var ZC={};JC.transitional=function(e,t,n){function r(e,t){return"[Axios v1.4.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new sC(r(i," has been removed"+(t?" in "+t:"")),sC.ERR_DEPRECATED);return t&&!ZC[i]&&(ZC[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var eP={assertOptions:function(e,t,n){if("object"!==typeof e)throw new sC("options must be an object",sC.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var u=e[a],s=void 0===u||o(u,a,e);if(!0!==s)throw new sC("option "+a+" must be "+s,sC.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new sC("Unknown option "+a,sC.ERR_BAD_OPTION)}},validators:JC},tP=eP.validators,nP=function(){function e(t){b(this,e),this.defaults=t,this.interceptors={request:new wC,response:new wC}}return w(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n,r=t=$C(this.defaults,t),i=r.transitional,a=r.paramsSerializer,o=r.headers;void 0!==i&&eP.assertOptions(i,{silentJSONParsing:tP.transitional(tP.boolean),forcedJSONParsing:tP.transitional(tP.boolean),clarifyTimeoutError:tP.transitional(tP.boolean)},!1),null!=a&&(iC.isFunction(a)?t.paramsSerializer={serialize:a}:eP.assertOptions(a,{encode:tP.function,serialize:tP.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(n=o&&iC.merge(o.common,o[t.method]))&&iC.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete o[e]})),t.headers=DC.concat(n,o);var u=[],s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,u.unshift(e.fulfilled,e.rejected))}));var c,l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));var f,d=0;if(!s){var h=[QC.bind(this),void 0];for(h.unshift.apply(h,u),h.push.apply(h,l),f=h.length,c=Promise.resolve(t);d<f;)c=c.then(h[d++],h[d++]);return c}f=u.length;var p=t;for(d=0;d<f;){var v=u[d++],m=u[d++];try{p=v(p)}catch(y){m.call(this,y);break}}try{c=QC.call(this,p)}catch(y){return Promise.reject(y)}for(d=0,f=l.length;d<f;)c=c.then(l[d++],l[d++]);return c}},{key:"getUri",value:function(e){return bC(UC((e=$C(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();iC.forEach(["delete","get","head","options"],(function(e){nP.prototype[e]=function(t,n){return this.request($C(n||{},{method:e,url:t,data:(n||{}).data}))}})),iC.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request($C(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}nP.prototype[e]=t(),nP.prototype[e+"Form"]=t(!0)}));var rP=nP,iP=function(){function e(t){if(b(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new FC(e,t,i),n(r.reason))}))}return w(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t,n=new e((function(e){t=e}));return{token:n,cancel:t}}}]),e}(),aP=iP;var oP={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(oP).forEach((function(e){var t=m(e,2),n=t[0],r=t[1];oP[r]=n}));var uP=oP;var sP=function e(t){var n=new rP(t),r=SA(rP.prototype.request,n);return iC.extend(r,rP.prototype,n,{allOwnKeys:!0}),iC.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e($C(t,n))},r}(IC);sP.Axios=rP,sP.CanceledError=FC,sP.CancelToken=aP,sP.isCancel=RC,sP.VERSION=XC,sP.toFormData=hC,sP.AxiosError=sC,sP.Cancel=sP.CanceledError,sP.all=function(e){return Promise.all(e)},sP.spread=function(e){return function(t){return e.apply(null,t)}},sP.isAxiosError=function(e){return iC.isObject(e)&&!0===e.isAxiosError},sP.mergeConfig=$C,sP.AxiosHeaders=DC,sP.formToJSON=function(e){return SC(iC.isHTMLForm(e)?new FormData(e):e)},sP.HttpStatusCode=uP,sP.default=sP;var cP=sP,lP=function(){return pt((function(e){return e.department}))},fP=function(e,t){var n=null===t||void 0===t?void 0:t.find((function(t){return t.id===e}));return n?n.title:""},dP=function(e,t,n,r,i){Hj.collection("notifications").add({title:e,message:n,linkTo:r,linkPage:i,timestamp:qj.now(),read:!1,user:t}).then((function(e){return console.log("notify",e)})).catch((function(e){return console.log("Error adding notification : ",e)}))},hP=function(e){var t=e.closeModal,n=lP(),r=_t(),a=pt((function(e){return e.user})),o=m((0,i.useState)([]),2),u=o[0],s=o[1],l=m((0,i.useState)([]),2),d=l[0],h=l[1],p=m((0,i.useState)([]),2),v=p[0],y=p[1],g=m((0,i.useState)({}),2),b=g[0],x=g[1],w=m((0,i.useState)(!1),2),k=w[0],_=w[1],S=m((0,i.useState)({name:"",phone:"",email:"",role:"",jobmode:"",jobstatus:"",password:"",date:"",eid:""}),2),E=S[0],T=S[1],I=function(e){var t=e.currentTarget,n=t.name,r=t.value;T(f(f({},E),{},c({},n,r)));var i,a={status:!1};if("email"!==n||/(.+)@(.+){2,}\.(.+){2,}/.test(r))if("password"===n&&r.length<6){var o;a=f(f({},a),{},(c(o={},n,"Set a six digit password"),c(o,"status",!0),o))}else if("phone"===n&&r.length<10){var u;a=f(f({},a),{},(c(u={},n,"Invalid phone number"),c(u,"status",!0),u))}else a=f(f({},a),{},c({},n,null));else a=f(f({},a),{},(c(i={},n,"Enter a valid email id"),c(i,"status",!0),i));x(f(f({},b),a))};(0,i.useEffect)((function(){var e=Object.keys(b).filter((function(e){return"status"!==e})).every((function(e){return null===b[e]}));x(f(f({},b),{},{status:!e}))}),[E]);(0,i.useEffect)((function(){y(n),Hj.collection("users").where("isManager","==",!0).get().then((function(e){var t=e.docs.map((function(e){return{id:e.id,name:e.data().name,dept:e.data().department}}));s(t)}))}),[]);return(0,yA.jsx)("div",{children:(0,yA.jsx)("div",{className:"fixed inset-0 grid overflow-y-auto\tpy-5 items-center justify-center z-50 bg-[#0000008c]",children:(0,yA.jsxs)("div",{className:"bg-white rounded shadow-md relative ",id:"employeeFormPopup",children:[k&&(0,yA.jsx)("div",{className:"flex rounded items-center justify-center h-full w-full absolute bg-defaultBg/70 z-10",children:(0,yA.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 "})}),(0,yA.jsxs)("div",{className:"p-8 ",children:[(0,yA.jsx)("button",{className:"mt-4 bg-black rounded-full text-xs absolute right-2 top-1 text-white font-bold py-1 px-2 ",onClick:t,children:"X"}),(0,yA.jsx)("h1",{className:"text-2xl font-bold  mb-5",children:"Quick add employee"}),(0,yA.jsx)(gA,{typeProp:"addEmployee"}),(0,yA.jsxs)("form",{onSubmit:function(e){var n;e.preventDefault();var i=null===(n=e.currentTarget.isManager)||void 0===n?void 0:n.checked,o=e.currentTarget.address.value,u=e.currentTarget.manager.value,s=e.currentTarget.department.value,c=document.getElementById("employeeFormPopup");if(Object.keys(E).some((function(e){return""===E[e].trim()}))||1==b.status)return r(pA({name:"addEmployee",msg:"Please fill valid data in all mandotory fields",code:1})),void(c&&c.scrollIntoView({behavior:"smooth",block:"start"}));_(!0);try{cP.post("http://localhost:5000/createUser",{email:E.email,password:E.password,phone:E.phone}).then((function(e){Hj.collection("users").add({id:e.data.userRecord.uid,e_id:E.eid,e_date:E.date,name:E.name,email:E.email,phone:E.phone,role:E.role,jobmode:E.jobmode,jobstatus:E.jobstatus,isManager:i,manager:u,department:s,address:o,type:"user"}).then((function(n){var i;console.log(n),_(!1),r(pA({name:"addEmployee",msg:null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.message,code:3,time:3e3})),c&&c.scrollIntoView({behavior:"smooth",block:"start"}),dP("New registration!",a.id,"New employee ".concat(E.name," added. View profile and update their details."),"employees/view/".concat(n.id),"employee"),setTimeout((function(){null===t||void 0===t||t()}),3e3)})).catch((function(e){_(!1),r(pA({name:"addEmployee",msg:"Employee registration failed! try again.",code:1})),console.log("Error adding to firestore db : ",e)}))})).catch((function(e){var t,n,i,a,o;_(!1),console.log("Error : ",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error),r(pA({name:"addEmployee",msg:null===e||void 0===e||null===(i=e.response)||void 0===i||null===(a=i.data)||void 0===a||null===(o=a.error)||void 0===o?void 0:o.message,code:1}))}))}catch(l){console.error(l)}},className:"mt-3 ",children:[(0,yA.jsxs)("div",{className:"mb-4 space-x-3 flex",children:[(0,yA.jsx)("input",{id:"NameInput",type:"text",name:"name",placeholder:"Name*",onBlur:I,className:"border border-gray-300 p-2 rounded"}),(0,yA.jsx)("input",{id:"EidInput",type:"text",name:"eid",placeholder:"Employee id*",onBlur:I,className:"border border-gray-300 p-2 rounded"})]}),(0,yA.jsxs)("div",{className:"mb-4 space-x-3 flex",children:[(0,yA.jsx)("input",{id:"role",type:"text",name:"role",placeholder:"Role*",onBlur:I,className:"border h-max w-full border-gray-300 p-2 rounded"}),(0,yA.jsxs)("div",{children:[(0,yA.jsx)("input",{id:"phoneNumberInput",type:"text",name:"phone",placeholder:"Phone Number*",onBlur:I,className:"border border-gray-300 p-2 rounded"}),b.phone&&(0,yA.jsx)("small",{className:"block text-red-500\t",children:b.phone})]})]}),(0,yA.jsxs)("div",{className:"mb-4 space-x-3 flex",children:[(0,yA.jsxs)("select",{name:"department",onChange:function(e){var t=u.filter((function(t){return(null===t||void 0===t?void 0:t.dept)===e.currentTarget.value}));h(t),console.log(d)},className:"border w-full border-gray-300 p-2 rounded",children:[(0,yA.jsx)("option",{value:"",children:"Department"}),v&&(null===v||void 0===v?void 0:v.map((function(e){return(0,yA.jsx)("option",{value:e.id,children:e.title})})))]}),(0,yA.jsxs)("select",{name:"manager",className:"border w-full border-gray-300 p-2 rounded",children:[(0,yA.jsx)("option",{value:"",children:"Manager"}),d&&(null===d||void 0===d?void 0:d.map((function(e){return(0,yA.jsx)("option",{value:e.id,children:e.name})})))]})]}),(0,yA.jsxs)("div",{className:"w-full mb-4 ",children:[(0,yA.jsx)("label",{className:" font-semibold",children:"Employment date: "}),(0,yA.jsx)("br",{}),(0,yA.jsx)("input",{id:"date",type:"date",name:"date",placeholder:"Date",onBlur:I,max:(new Date).toISOString().split("T")[0],className:"border mt-2 w-full border-gray-300 p-2 rounded"})]}),(0,yA.jsxs)("div",{className:"mb-4 space-x-3 flex",children:[(0,yA.jsx)("input",{id:"emailInput",type:"email",name:"email",placeholder:"Email*",onBlur:I,className:"border w-full border-gray-300 p-2 rounded"}),b.email&&(0,yA.jsx)("small",{className:"block text-red-500\t",children:b.email})]}),(0,yA.jsx)("div",{className:"mb-4 space-x-3",children:(0,yA.jsx)("textarea",{id:"addressInput",placeholder:"Address",name:"address",className:"border w-full border-gray-300 p-2 rounded"})}),(0,yA.jsxs)("div",{className:"mb-4 ",children:[(0,yA.jsx)("label",{className:"mr-3 font-semibold",children:"Job status* "}),(0,yA.jsx)("br",{}),(0,yA.jsx)("input",{type:"radio",name:"jobstatus",value:"intern",className:"mr-2",onBlur:I}),"Intern",(0,yA.jsx)("input",{type:"radio",name:"jobstatus",value:"fulltime",className:"ml-3 mr-2",onBlur:I}),"Fulltime"]}),(0,yA.jsxs)("div",{className:"mb-4 ",children:[(0,yA.jsx)("label",{className:"mr-3 font-semibold",children:"Job mode* "}),(0,yA.jsx)("br",{}),(0,yA.jsx)("input",{type:"radio",name:"jobmode",value:"remote",className:"mr-2",onBlur:I}),"Remote",(0,yA.jsx)("input",{type:"radio",name:"jobmode",value:"office",className:"ml-3 mr-2",onBlur:I}),"Office"]}),(0,yA.jsxs)("div",{className:"mb-4 block",children:[(0,yA.jsx)("input",{type:"checkbox",name:"isManager",className:"mr-2 mb-2"}),"Give Manager features",(0,yA.jsx)("br",{}),(0,yA.jsx)("label",{className:"mr-3 font-semibold",children:"Set a password*"}),(0,yA.jsx)("br",{}),(0,yA.jsx)("input",{id:"password",type:"password",name:"password",min:6,placeholder:"Password",onBlur:I,className:"border w-full border-gray-300 p-2 rounded"}),b.password&&(0,yA.jsx)("small",{className:"block text-red-500\t",children:b.password})]}),(0,yA.jsx)("button",{type:"submit",className:"bg-defaultBg w-full text-white py-2 px-5 rounded",children:"Add"})]})]})]})})})},pP=function(){var e=m((0,i.useState)(!1),2),t=e[0],n=e[1],r=pt((function(e){return e.user})),a=_t();return(0,yA.jsxs)("section",{className:"bg-defaultBg  py-10",children:[(0,yA.jsxs)("div",{className:"container flex justify-between",children:[(0,yA.jsxs)("div",{children:[(0,yA.jsxs)("h2",{className:"text-amber-100 text-xl font-normal  capitalize",children:["Hello ",r.name,","]}),(0,yA.jsx)("h1",{className:" text-3xl text-amber-100 font-thin",children:"Good morning"})]}),(0,yA.jsxs)("button",{className:"defaultstyle",onClick:function(){n(!0)},children:[(0,yA.jsx)("span",{className:"text-2xl font-bold  leading-6",children:"+"}),"Add Employee"]})]}),t&&(0,yA.jsx)(hP,{closeModal:function(){a(vA("addEmployee")),n(!1)}})]})},vP=function(e,t){return vP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},vP(e,t)};var mP=50,yP=50;function gP(e){var t=e.className,n=e.counterClockwise,r=e.dashRatio,a=e.pathRadius,o=e.strokeWidth,u=e.style;return(0,i.createElement)("path",{className:t,style:Object.assign({},u,xP({pathRadius:a,dashRatio:r,counterClockwise:n})),d:bP({pathRadius:a,counterClockwise:n}),strokeWidth:o,fillOpacity:0})}function bP(e){var t=e.pathRadius,n=e.counterClockwise?1:0;return"\n      M "+mP+","+yP+"\n      m 0,-"+t+"\n      a "+t+","+t+" "+n+" 1 1 0,"+2*t+"\n      a "+t+","+t+" "+n+" 1 1 0,-"+2*t+"\n    "}function xP(e){var t=e.counterClockwise,n=e.dashRatio,r=e.pathRadius,i=2*Math.PI*r,a=(1-n)*i;return{strokeDasharray:i+"px "+i+"px",strokeDashoffset:(t?-a:a)+"px"}}var wP=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return function(e,t){function n(){this.constructor=e}vP(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},t.prototype.getPathRadius=function(){return 50-this.props.strokeWidth/2-this.getBackgroundPadding()},t.prototype.getPathRatio=function(){var e=this.props,t=e.value,n=e.minValue,r=e.maxValue;return(Math.min(Math.max(t,n),r)-n)/(r-n)},t.prototype.render=function(){var e=this.props,t=e.circleRatio,n=e.className,r=e.classes,a=e.counterClockwise,o=e.styles,u=e.strokeWidth,s=e.text,c=this.getPathRadius(),l=this.getPathRatio();return(0,i.createElement)("svg",{className:r.root+" "+n,style:o.root,viewBox:"0 0 100 100","data-test-id":"CircularProgressbar"},this.props.background?(0,i.createElement)("circle",{className:r.background,style:o.background,cx:mP,cy:yP,r:50}):null,(0,i.createElement)(gP,{className:r.trail,counterClockwise:a,dashRatio:t,pathRadius:c,strokeWidth:u,style:o.trail}),(0,i.createElement)(gP,{className:r.path,counterClockwise:a,dashRatio:l*t,pathRadius:c,strokeWidth:u,style:o.path}),s?(0,i.createElement)("text",{className:r.text,style:o.text,x:mP,y:yP},s):null)},t.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},t}(i.Component);var kP=function(e){var t=e.text,n=e.value,r=e.pathColor,a=void 0===r?"#bfa7f9":r,o=e.trailColor,u=void 0===o?"#1d322f":o,s=e.height,c=void 0===s?"100%":s,l=m((0,i.useState)(0),2),f=l[0],d=l[1];return(0,i.useEffect)((function(){setTimeout((function(){d(n)}),1e3)}),[f]),(0,yA.jsx)(wP,{value:f,text:t,strokeWidth:20,styles:{root:{width:"max-content",maxHeight:"".concat(c)},path:{stroke:"".concat(a),strokeLinecap:"butt",transition:"stroke-dashoffset 0.5s ease 0s"},trail:{stroke:"".concat(u),strokeWidth:10},background:{},text:{fontSize:"14px"}}})},_P=function(e,t){return e/t*100},SP=function(){var e,t,n,r,a,o=m((0,i.useState)(),2),u=o[0],s=o[1],c=m((0,i.useState)(),2),l=c[0],d=c[1];(0,i.useEffect)((function(){Hj.collection("users").onSnapshot((function(e){var t=e.docs.map((function(e){var t=e.data(),n=t.email,r=t.name,i=t.phone,a=t.department,o=t.role,u=t.e_date,s=t.e_id,c=t.jobstatus,l=t.jobmode;return{email:n,name:r,phone:i,department:a,id:e.id,e_date:u,role:o,e_id:s,jobstatus:c,jobmode:l}}));s(t)})),Hj.collection("leaves").where("status","==","approved").get().then((function(e){var t=e.docs.map((function(e){return f(f({},e.data()),{},{id:e.id})}));d(t)}))}),[]);var h=function(e,t){return null===u||void 0===u?void 0:u.filter((function(n){return n[e]==t}))};return(0,yA.jsx)("div",{className:"container bg-gradient-to-b from-defaultBg to-transparent",children:(0,yA.jsxs)("div",{className:"flex space-x-6 justify-between",children:[(0,yA.jsxs)("div",{className:"w-2/12 border border-defaultBg rounded-lg p-4 bg-white",children:[(0,yA.jsx)(gO,{size:50,className:"bg-color-two text-defaultBg p-3 rounded-full"}),(0,yA.jsx)("h6",{children:"Permenent Employees"}),(0,yA.jsxs)("h3",{children:[null===(e=h("jobstatus","fulltime"))||void 0===e?void 0:e.length,(0,yA.jsxs)("span",{className:" text-base",children:["/",null===u||void 0===u?void 0:u.length]})]})]}),(0,yA.jsxs)("div",{className:"w-2/12 border border-defaultBg rounded-lg p-4 bg-white",children:[(0,yA.jsx)(oO,{size:50,className:"bg-color-one text-defaultBg p-3 rounded-full"}),(0,yA.jsx)("h6",{children:"On leave"}),(0,yA.jsxs)("h3",{children:[function(){var e,t=new Date;return null===l||void 0===l||null===(e=l.filter((function(e){var n,r,i=new Date(1e3*(null===(n=e.start)||void 0===n?void 0:n.seconds)),a=new Date(1e3*(null===(r=e.end)||void 0===r?void 0:r.seconds));return i.getDate()<=t.getDate()&&i.getFullYear()<=t.getFullYear()&&i.getMonth()<=t.getMonth()&&a.getDate()>=t.getDate()&&a.getFullYear()>=t.getFullYear()&&a.getMonth()>=t.getMonth()})))||void 0===e?void 0:e.length}(),(0,yA.jsxs)("span",{className:" text-base",children:["/",null===u||void 0===u?void 0:u.length]})]})]}),(0,yA.jsxs)("div",{className:"w-2/12 border border-defaultBg rounded-lg p-4 bg-white",children:[(0,yA.jsx)(yO,{size:50,className:"bg-stone-400 text-defaultBg p-3 rounded-full"}),(0,yA.jsx)("h6",{children:"New joinee"}),(0,yA.jsxs)("h3",{children:[null===(t=function(){var e=new Date,t=new Date;return t.setMonth(e.getMonth()-3),null===u||void 0===u?void 0:u.filter((function(e){return new Date(e.e_date)>=t}))}())||void 0===t?void 0:t.length,(0,yA.jsxs)("span",{className:" text-base",children:["/",null===u||void 0===u?void 0:u.length]})]})]}),(0,yA.jsxs)("div",{className:"w-2/12 border border-defaultBg rounded-lg p-4 bg-white",children:[(0,yA.jsx)(sO,{size:50,className:"bg-color-three text-defaultBg p-3 rounded-full"}),(0,yA.jsx)("h6",{children:"Projects pending"}),(0,yA.jsxs)("h3",{children:["0",(0,yA.jsx)("span",{className:" text-base",children:"/0"})]})]}),(0,yA.jsxs)("div",{className:"w-3/12 border h-max border-defaultBg rounded-lg p-4 flex space-x-4 justify-around items-center bg-white",children:[(0,yA.jsx)(kP,{text:null===u||void 0===u?void 0:u.length,value:_P(null===(n=h("jobmode","remote"))||void 0===n?void 0:n.length,null===u||void 0===u?void 0:u.length),height:"107px"}),(0,yA.jsxs)("div",{className:" h-max text-[14px] ",children:[(0,yA.jsxs)("p",{className:"relative before:absolute before:left-[-12px] before:top-2 before:h-2 before:w-2 before:rounded-full before:p-[-10px] before:bg-color-two before:block flex",children:[null===(r=h("jobmode","remote"))||void 0===r?void 0:r.length," Remote"]}),(0,yA.jsxs)("p",{className:"relative before:absolute before:left-[-12px] before:top-2 before:h-2 before:w-2 before:rounded-full before:p-[-10px] before:bg-defaultBg before:block flex",children:[null===(a=h("jobmode","office"))||void 0===a?void 0:a.length," Office"]})]})]})]})})},EP=function(){var e=m((0,i.useState)([]),2),t=e[0],n=e[1];(0,i.useEffect)((function(){Hj.collection("notifications").orderBy("timestamp","desc").limit(10).onSnapshot((function(e){var t=e.docs.map((function(e){return f(f({},e.data()),{},{id:e.id})}));n(t)}))}),[]);var r=function(e){var t=new Date(1e3*e),n=t.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0});return{date:t.getDate()+" "+t.toLocaleString("default",{month:"short"}),time:n}};return(0,yA.jsxs)("div",{className:"bg-white rounded-lg shadow-md py-3 overflow-hidden",children:[(0,yA.jsx)("h2",{className:"px-6  text-2xl font-bold mb-4 text-defaultBg",children:"Notifications"}),(0,yA.jsxs)("div",{className:"px-6",children:[null===t||void 0===t?void 0:t.map((function(e){var t;return(0,yA.jsx)(Ze,{to:"../".concat(e.linkTo),onClick:function(){!e.read&&function(e){console.log("open"),Hj.collection("notifications").doc(e).update({read:!0}).then().catch((function(e){console.log("error adding notification open status",e)}))}(e.id)},children:(0,yA.jsxs)("div",{className:"flex items-center justify-between \n                                    ".concat(e.read?"bg-gray-100":"bg-color-three"," \n                                    px-4 py-3 rounded-lg mb-4 shadow-md"),children:[(0,yA.jsxs)("div",{children:[(0,yA.jsx)("h6",{className:" font-semibold",children:e.title}),(0,yA.jsxs)("p",{className:"text-sm text-gray-600",children:[null===e||void 0===e||null===(t=e.message)||void 0===t?void 0:t.slice(0,50),"..."]})]}),(0,yA.jsxs)("p",{className:"text-gray-400 text-sm",children:[r(null===e||void 0===e?void 0:e.timestamp.seconds).date,(0,yA.jsx)("br",{}),r(e.timestamp).time]})]})},e.id)})),(0,yA.jsx)(Ze,{to:"../notifications",className:"border w-full rounded-lg py-2 border-color-three text-defaultBg block text-center",children:"View all"})]})]})},TP=n(1694),IP=n.n(TP),jP=n(8573),OP=n.n(jP),NP=n(3038),AP=n.n(NP),CP=function(e,t){return CP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},CP(e,t)};function PP(e,t){function n(){this.constructor=e}CP(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function DP(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}var MP=function(e,t,n,r){switch(t){case"debounce":return OP()(e,n,r);case"throttle":return AP()(e,n,r);default:return e}},RP=function(e){return"function"===typeof e},LP=function(){return"undefined"===typeof window},FP=function(e){return e instanceof Element||e instanceof HTMLDocument},BP=function(e,t,n){return function(r){var i=r.width,a=r.height;e((function(e){return e.width===i&&e.height===a||e.width===i&&!n||e.height===a&&!t?e:{width:i,height:a}}))}},UP=function(e){function t(t){var n=e.call(this,t)||this;n.cancelHandler=function(){n.resizeHandler&&n.resizeHandler.cancel&&(n.resizeHandler.cancel(),n.resizeHandler=null)},n.attachObserver=function(){var e=n.props,t=e.targetRef,r=e.observerOptions;if(!LP()){t&&t.current&&(n.targetRef.current=t.current);var i=n.getElement();i&&(n.observableElement&&n.observableElement===i||(n.observableElement=i,n.resizeObserver.observe(i,r)))}},n.getElement=function(){var e=n.props,t=e.querySelector,r=e.targetDomEl;if(LP())return null;if(t)return document.querySelector(t);if(r&&FP(r))return r;if(n.targetRef&&FP(n.targetRef.current))return n.targetRef.current;var i=(0,it.findDOMNode)(n);if(!i)return null;switch(n.getRenderType()){case"renderProp":case"childFunction":case"child":case"childArray":return i;default:return i.parentElement}},n.createResizeHandler=function(e){var t=n.props,r=t.handleWidth,i=void 0===r||r,a=t.handleHeight,o=void 0===a||a,u=t.onResize;if(i||o){var s=BP((function(e){return n.setState(e,(function(){return null===u||void 0===u?void 0:u(n.state.width,n.state.height)}))}),i,o);e.forEach((function(e){var t=e&&e.contentRect||{},r=t.width,i=t.height;!n.skipOnMount&&!LP()&&s({width:r,height:i}),n.skipOnMount=!1}))}},n.getRenderType=function(){var e=n.props,t=e.render,r=e.children;return RP(t)?"renderProp":RP(r)?"childFunction":(0,i.isValidElement)(r)?"child":Array.isArray(r)?"childArray":"parent"};var r=t.skipOnMount,a=t.refreshMode,o=t.refreshRate,u=void 0===o?1e3:o,s=t.refreshOptions;return n.state={width:void 0,height:void 0},n.skipOnMount=r,n.targetRef=(0,i.createRef)(),n.observableElement=null,LP()||(n.resizeHandler=MP(n.createResizeHandler,a,u,s),n.resizeObserver=new window.ResizeObserver(n.resizeHandler)),n}return PP(t,e),t.prototype.componentDidMount=function(){this.attachObserver()},t.prototype.componentDidUpdate=function(){this.attachObserver()},t.prototype.componentWillUnmount=function(){LP()||(this.observableElement=null,this.resizeObserver.disconnect(),this.cancelHandler())},t.prototype.render=function(){var e=this.props,t=e.render,n=e.children,r=e.nodeType,a=void 0===r?"div":r,o=this.state,u={width:o.width,height:o.height,targetRef:this.targetRef};switch(this.getRenderType()){case"renderProp":return null===t||void 0===t?void 0:t(u);case"childFunction":return null===n||void 0===n?void 0:n(u);case"child":var s=n;if(s.type&&"string"===typeof s.type){var c=DP(u,["targetRef"]);return(0,i.cloneElement)(s,c)}return(0,i.cloneElement)(s,u);case"childArray":return n.map((function(e){return!!e&&(0,i.cloneElement)(e,u)}));default:return i.createElement(a,null)}},t}(i.PureComponent);LP()?i.useEffect:i.useLayoutEffect;var VP=n(6181),zP=n.n(VP),qP=n(3629),HP=n.n(qP),WP=n(2066),GP=n.n(WP),KP=n(298),QP=n.n(KP),YP=n(6769),$P=n.n(YP),XP=function(e){return 0===e?0:e>0?1:-1},JP=function(e){return $P()(e)&&e.indexOf("%")===e.length-1},ZP=function(e){return QP()(e)&&!GP()(e)},eD=function(e){return ZP(e)||$P()(e)},tD=0,nD=function(e){var t=++tD;return"".concat(e||"").concat(t)},rD=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!ZP(e)&&!$P()(e))return r;if(JP(e)){var a=e.indexOf("%");n=t*parseFloat(e.slice(0,a))/100}else n=+e;return GP()(n)&&(n=r),i&&n>t&&(n=t),n},iD=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},aD=function(e,t){return ZP(e)&&ZP(t)?function(n){return e+n*(t-e)}:function(){return t}};function oD(e,t,n){return e&&e.length?e.find((function(e){return e&&("function"===typeof t?t(e):zP()(e,t))===n})):null}var uD=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]};function sD(){return sD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sD.apply(this,arguments)}function cD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return lD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lD(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fD=(0,i.forwardRef)((function(e,t){var n=e.aspect,r=e.initialDimension,a=void 0===r?{width:-1,height:-1}:r,o=e.width,u=void 0===o?"100%":o,s=e.height,c=void 0===s?"100%":s,l=e.minWidth,f=void 0===l?0:l,d=e.minHeight,h=e.maxHeight,p=e.children,v=e.debounce,m=void 0===v?0:v,y=e.id,g=e.className,b=e.onResize,x=cD((0,i.useState)({containerWidth:a.width,containerHeight:a.height}),2),w=x[0],k=x[1],_=(0,i.useRef)(null);(0,i.useImperativeHandle)(t,(function(){return _}),[_]);var S=(0,i.useCallback)((function(){return _.current?{containerWidth:_.current.clientWidth,containerHeight:_.current.clientHeight}:null}),[]),E=(0,i.useCallback)((function(){var e=S();if(e){var t=e.containerWidth,n=e.containerHeight;b&&b(t,n),k((function(e){var r=e.containerWidth,i=e.containerHeight;return t!==r||n!==i?{containerWidth:t,containerHeight:n}:e}))}}),[S,b]),T=(0,i.useMemo)((function(){var e=w.containerWidth,t=w.containerHeight;if(e<0||t<0)return null;uD(JP(u)||JP(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",u,c),uD(!n||n>0,"The aspect(%s) must be greater than zero.",n);var r=JP(u)?e:u,a=JP(c)?t:c;return n&&n>0&&(r?a=r/n:a&&(r=a*n),h&&a>h&&(a=h)),uD(r>0||a>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,a,u,c,f,d,n),(0,i.cloneElement)(p,{width:r,height:a})}),[n,p,c,h,d,f,w,u]);(0,i.useEffect)((function(){var e=S();e&&k(e)}),[S]);var I={width:u,height:c,minWidth:f,minHeight:d,maxHeight:h};return i.createElement(UP,{handleWidth:!0,handleHeight:!0,onResize:E,targetRef:_,refreshMode:m>0?"debounce":void 0,refreshRate:m},i.createElement("div",sD({},null!=y?{id:"".concat(y)}:{},{className:IP()("recharts-responsive-container",g),style:I,ref:_}),T))})),dD=n(2730),hD=n.n(dD),pD=n(1211),vD=n.n(pD),mD=n(4786),yD=n.n(mD),gD=n(4286),bD=n.n(gD),xD=n(6222),wD=n.n(xD),kD=n(5633),_D=n.n(kD),SD=n(5127),ED=n.n(SD),TD={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return TD[e]},set:function(e,t){if("string"===typeof e)TD[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach((function(t){TD[t]=e[t]}))}}};function ID(e){return ID="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ID(e)}function jD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jD(Object(n),!0).forEach((function(t){ND(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ND(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ID(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ID(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ID(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AD(e){return function(e){if(Array.isArray(e))return CD(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return CD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CD(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var PD={widthCache:{},cacheCount:0},DD={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MD=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","lineHeight","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],RD="recharts_measurement_span";var LD=function(e){return Object.keys(e).reduce((function(t,n){return"".concat(t).concat((r=n,r.split("").reduce((function(e,t){return t===t.toUpperCase()?[].concat(AD(e),["-",t.toLowerCase()]):[].concat(AD(e),[t])}),[]).join("")),":").concat(function(e,t){return MD.indexOf(e)>=0&&t===+t?"".concat(t,"px"):t}(n,e[n]),";");var r}),"")},FD=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||TD.isSsr)return{width:0,height:0};var n="".concat(e),r=LD(t),i="".concat(n,"-").concat(r);if(PD.widthCache[i])return PD.widthCache[i];try{var a=document.getElementById(RD);a||((a=document.createElement("span")).setAttribute("id",RD),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=OD(OD({},DD),t);Object.keys(o).map((function(e){return a.style[e]=o[e],e})),a.textContent=n;var u=a.getBoundingClientRect(),s={width:u.width,height:u.height};return PD.widthCache[i]=s,++PD.cacheCount>2e3&&(PD.cacheCount=0,PD.widthCache={}),s}catch(c){return{width:0,height:0}}};function BD(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t){if(void 0!==n&&!0!==n(e[i]))return;r.push(e[i])}return r}var UD=n(7702),VD=n.n(UD),zD=n(8111),qD=n.n(zD),HD=n(2085),WD=n.n(HD),GD=n(9627),KD=n.n(GD),QD=n(6452),YD=n.n(QD),$D=n(5008),XD=n.n($D);function JD(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function ZD(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}var eM=function(e){_(n,e);var t=I(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:iM;if(b(this,n),r=t.call(this),Object.defineProperties(T(r),{_intern:{value:new Map},_key:{value:i}}),null!=e){var a,o=A(e);try{for(o.s();!(a=o.n()).done;){var u=m(a.value,2),s=u[0],c=u[1];r.set(s,c)}}catch(l){o.e(l)}finally{o.f()}}return r}return w(n,[{key:"get",value:function(e){return Ar(S(n.prototype),"get",this).call(this,tM(this,e))}},{key:"has",value:function(e){return Ar(S(n.prototype),"has",this).call(this,tM(this,e))}},{key:"set",value:function(e,t){return Ar(S(n.prototype),"set",this).call(this,nM(this,e),t)}},{key:"delete",value:function(e){return Ar(S(n.prototype),"delete",this).call(this,rM(this,e))}}]),n}(O(Map));function tM(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)?n.get(r):t}function nM(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)?n.get(r):(n.set(r,t),t)}function rM(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)&&(t=n.get(r),n.delete(r)),t}function iM(e){return null!==e&&"object"===typeof e?e.valueOf():e}var aM=Symbol("implicit");function oM(){var e=new eM,t=[],n=[],r=aM;function i(i){var a=e.get(i);if(void 0===a){if(r!==aM)return r;e.set(i,a=t.push(i)-1)}return n[a%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new eM;var r,a=A(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;e.has(o)||e.set(o,t.push(o)-1)}}catch(u){a.e(u)}finally{a.f()}return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return oM(t,n).unknown(r)},JD.apply(i,arguments),i}function uM(){var e,t,n=oM().unknown(void 0),r=n.domain,i=n.range,a=0,o=1,u=!1,s=0,c=0,l=.5;function f(){var n=r().length,f=o<a,d=f?o:a,h=f?a:o;e=(h-d)/Math.max(1,n-s+2*c),u&&(e=Math.floor(e)),d+=(h-d-e*(n-s))*l,t=e*(1-s),u&&(d=Math.round(d),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}(n).map((function(t){return d+e*t}));return i(f?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),f()):r()},n.range=function(e){var t;return arguments.length?(t=m(e,2),a=t[0],o=t[1],a=+a,o=+o,f()):[a,o]},n.rangeRound=function(e){var t;return t=m(e,2),a=t[0],o=t[1],a=+a,o=+o,u=!0,f()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(u=!!e,f()):u},n.padding=function(e){return arguments.length?(s=Math.min(1,c=+e),f()):s},n.paddingInner=function(e){return arguments.length?(s=Math.min(1,e),f()):s},n.paddingOuter=function(e){return arguments.length?(c=+e,f()):c},n.align=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),f()):l},n.copy=function(){return uM(r(),[a,o]).round(u).paddingInner(s).paddingOuter(c).align(l)},JD.apply(f(),arguments)}function sM(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return sM(t())},e}function cM(){return sM(uM.apply(null,arguments).paddingInner(1))}var lM=Math.sqrt(50),fM=Math.sqrt(10),dM=Math.sqrt(2);function hM(e,t,n){var r,i,a,o=(t-e)/Math.max(0,n),u=Math.floor(Math.log10(o)),s=o/Math.pow(10,u),c=s>=lM?10:s>=fM?5:s>=dM?2:1;return u<0?(a=Math.pow(10,-u)/c,(r=Math.round(e*a))/a<e&&++r,(i=Math.round(t*a))/a>t&&--i,a=-a):(a=Math.pow(10,u)*c,(r=Math.round(e/a))*a<e&&++r,(i=Math.round(t/a))*a>t&&--i),i<r&&.5<=n&&n<2?hM(e,t,2*n):[r,i,a]}function pM(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];var r=t<e,i=m(r?hM(t,e,n):hM(e,t,n),3),a=i[0],o=i[1],u=i[2];if(!(o>=a))return[];var s=o-a+1,c=new Array(s);if(r)if(u<0)for(var l=0;l<s;++l)c[l]=(o-l)/-u;else for(var f=0;f<s;++f)c[f]=(o-f)*u;else if(u<0)for(var d=0;d<s;++d)c[d]=(a+d)/-u;else for(var h=0;h<s;++h)c[h]=(a+h)*u;return c}function vM(e,t,n){return hM(e=+e,t=+t,n=+n)[2]}function mM(e,t,n){n=+n;var r=(t=+t)<(e=+e),i=r?vM(t,e,n):vM(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function yM(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gM(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bM(e){var t,n,r;function i(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{var o=i+a>>>1;n(e[o],r)<0?i=o+1:a=o}while(i<a)}return i}return 2!==e.length?(t=yM,n=function(t,n){return yM(e(t),n)},r=function(t,n){return e(t)-n}):(t=e===yM||e===gM?e:xM,n=e,r=e),{left:i,center:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return a>n&&r(e[a-1],t)>-r(e[a],t)?a-1:a},right:function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{var o=i+a>>>1;n(e[o],r)<=0?i=o+1:a=o}while(i<a)}return i}}}function xM(){return 0}var wM=en().mark(_M);function kM(e){return null===e?NaN:+e}function _M(e,t){var n,r,i,a,o,u,s;return en().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(void 0!==t){c.next=21;break}n=A(e),c.prev=2,n.s();case 4:if((r=n.n()).done){c.next=11;break}if(!(null!=(i=r.value)&&(i=+i)>=i)){c.next=9;break}return c.next=9,i;case 9:c.next=4;break;case 11:c.next=16;break;case 13:c.prev=13,c.t0=c.catch(2),n.e(c.t0);case 16:return c.prev=16,n.f(),c.finish(16);case 19:c.next=40;break;case 21:a=-1,o=A(e),c.prev=23,o.s();case 25:if((u=o.n()).done){c.next=32;break}if(s=u.value,!(null!=(s=t(s,++a,e))&&(s=+s)>=s)){c.next=30;break}return c.next=30,s;case 30:c.next=25;break;case 32:c.next=37;break;case 34:c.prev=34,c.t1=c.catch(23),o.e(c.t1);case 37:return c.prev=37,o.f(),c.finish(37);case 40:case"end":return c.stop()}}),wM,null,[[2,13,16,19],[23,34,37,40]])}var SM=bM(yM),EM=SM.right,TM=(SM.left,bM(kM).center,EM);function IM(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function jM(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function OM(){}var NM=.7,AM=1/NM,CM="\\s*([+-]?\\d+)\\s*",PM="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",DM="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",MM=/^#([0-9a-f]{3,8})$/,RM=new RegExp("^rgb\\(".concat(CM,",").concat(CM,",").concat(CM,"\\)$")),LM=new RegExp("^rgb\\(".concat(DM,",").concat(DM,",").concat(DM,"\\)$")),FM=new RegExp("^rgba\\(".concat(CM,",").concat(CM,",").concat(CM,",").concat(PM,"\\)$")),BM=new RegExp("^rgba\\(".concat(DM,",").concat(DM,",").concat(DM,",").concat(PM,"\\)$")),UM=new RegExp("^hsl\\(".concat(PM,",").concat(DM,",").concat(DM,"\\)$")),VM=new RegExp("^hsla\\(".concat(PM,",").concat(DM,",").concat(DM,",").concat(PM,"\\)$")),zM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function qM(){return this.rgb().formatHex()}function HM(){return this.rgb().formatRgb()}function WM(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=MM.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?GM(t):3===n?new YM(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?KM(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?KM(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=RM.exec(e))?new YM(t[1],t[2],t[3],1):(t=LM.exec(e))?new YM(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=FM.exec(e))?KM(t[1],t[2],t[3],t[4]):(t=BM.exec(e))?KM(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=UM.exec(e))?tR(t[1],t[2]/100,t[3]/100,1):(t=VM.exec(e))?tR(t[1],t[2]/100,t[3]/100,t[4]):zM.hasOwnProperty(e)?GM(zM[e]):"transparent"===e?new YM(NaN,NaN,NaN,0):null}function GM(e){return new YM(e>>16&255,e>>8&255,255&e,1)}function KM(e,t,n,r){return r<=0&&(e=t=n=NaN),new YM(e,t,n,r)}function QM(e,t,n,r){return 1===arguments.length?function(e){return e instanceof OM||(e=WM(e)),e?new YM((e=e.rgb()).r,e.g,e.b,e.opacity):new YM}(e):new YM(e,t,n,null==r?1:r)}function YM(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function $M(){return"#".concat(eR(this.r)).concat(eR(this.g)).concat(eR(this.b))}function XM(){var e=JM(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(ZM(this.r),", ").concat(ZM(this.g),", ").concat(ZM(this.b)).concat(1===e?")":", ".concat(e,")"))}function JM(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ZM(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function eR(e){return((e=ZM(e))<16?"0":"")+e.toString(16)}function tR(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new rR(e,t,n,r)}function nR(e){if(e instanceof rR)return new rR(e.h,e.s,e.l,e.opacity);if(e instanceof OM||(e=WM(e)),!e)return new rR;if(e instanceof rR)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,u=a-i,s=(a+i)/2;return u?(o=t===a?(n-r)/u+6*(n<r):n===a?(r-t)/u+2:(t-n)/u+4,u/=s<.5?a+i:2-a-i,o*=60):u=s>0&&s<1?0:o,new rR(o,u,s,e.opacity)}function rR(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function iR(e){return(e=(e||0)%360)<0?e+360:e}function aR(e){return Math.max(0,Math.min(1,e||0))}function oR(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function uR(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}IM(OM,WM,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:qM,formatHex:qM,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return nR(this).formatHsl()},formatRgb:HM,toString:HM}),IM(YM,QM,jM(OM,{brighter:function(e){return e=null==e?AM:Math.pow(AM,e),new YM(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?NM:Math.pow(NM,e),new YM(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},clamp:function(){return new YM(ZM(this.r),ZM(this.g),ZM(this.b),JM(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$M,formatHex:$M,formatHex8:function(){return"#".concat(eR(this.r)).concat(eR(this.g)).concat(eR(this.b)).concat(eR(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:XM,toString:XM})),IM(rR,(function(e,t,n,r){return 1===arguments.length?nR(e):new rR(e,t,n,null==r?1:r)}),jM(OM,{brighter:function(e){return e=null==e?AM:Math.pow(AM,e),new rR(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?NM:Math.pow(NM,e),new rR(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new YM(oR(e>=240?e-240:e+120,i,r),oR(e,i,r),oR(e<120?e+240:e-120,i,r),this.opacity)},clamp:function(){return new rR(iR(this.h),aR(this.s),aR(this.l),JM(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=JM(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(iR(this.h),", ").concat(100*aR(this.s),"%, ").concat(100*aR(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));var sR=function(e){return function(){return e}};function cR(e,t){return function(n){return e+n*t}}function lR(e){return 1===(e=+e)?fR:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):sR(isNaN(t)?n:t)}}function fR(e,t){var n=t-e;return n?cR(e,n):sR(isNaN(e)?t:e)}var dR=function e(t){var n=lR(t);function r(e,t){var r=n((e=QM(e)).r,(t=QM(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=fR(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function hR(e){return function(t){var n,r,i=t.length,a=new Array(i),o=new Array(i),u=new Array(i);for(n=0;n<i;++n)r=QM(t[n]),a[n]=r.r||0,o[n]=r.g||0,u[n]=r.b||0;return a=e(a),o=e(o),u=e(u),r.opacity=1,function(e){return r.r=a(e),r.g=o(e),r.b=u(e),r+""}}}hR((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,u=r<t-1?e[r+2]:2*a-i;return uR((n-r/t)*t,o,i,a,u)}})),hR((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],u=e[(r+2)%t];return uR((n-r/t)*t,i,a,o,u)}}));function pR(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=kR(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=a[n](e);return o}}function vR(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function mR(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function yR(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=kR(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var gR=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bR=new RegExp(gR.source,"g");function xR(e,t){var n,r,i,a=gR.lastIndex=bR.lastIndex=0,o=-1,u=[],s=[];for(e+="",t+="";(n=gR.exec(e))&&(r=bR.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),u[o]?u[o]+=i:u[++o]=i),(n=n[0])===(r=r[0])?u[o]?u[o]+=r:u[++o]=r:(u[++o]=null,s.push({i:o,x:mR(n,r)})),a=bR.lastIndex;return a<t.length&&(i=t.slice(a),u[o]?u[o]+=i:u[++o]=i),u.length<2?s[0]?function(e){return function(t){return e(t)+""}}(s[0].x):function(e){return function(){return e}}(t):(t=s.length,function(e){for(var n,r=0;r<t;++r)u[(n=s[r]).i]=n.x(e);return u.join("")})}function wR(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function kR(e,t){var n,r=typeof t;return null==t||"boolean"===r?sR(t):("number"===r?mR:"string"===r?(n=WM(t))?(t=n,dR):xR:t instanceof WM?dR:t instanceof Date?vR:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?wR:Array.isArray(t)?pR:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?yR:mR)(e,t)}function _R(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function SR(e){return+e}var ER=[0,1];function TR(e){return e}function IR(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function jR(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=IR(i,r),a=n(o,a)):(r=IR(r,i),a=n(a,o)),function(e){return a(r(e))}}function OR(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=IR(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=TM(e,t,1,r)-1;return a[n](i[n](t))}}function NR(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function AR(){var e,t,n,r,i,a,o=ER,u=ER,s=kR,c=TR;function l(){var e=Math.min(o.length,u.length);return c!==TR&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?OR:jR,i=a=null,f}function f(t){return null==t||isNaN(t=+t)?n:(i||(i=r(o.map(e),u,s)))(e(c(t)))}return f.invert=function(n){return c(t((a||(a=r(u,o.map(e),mR)))(n)))},f.domain=function(e){return arguments.length?(o=Array.from(e,SR),l()):o.slice()},f.range=function(e){return arguments.length?(u=Array.from(e),l()):u.slice()},f.rangeRound=function(e){return u=Array.from(e),s=_R,l()},f.clamp=function(e){return arguments.length?(c=!!e||TR,l()):c!==TR},f.interpolate=function(e){return arguments.length?(s=e,l()):s},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,l()}}function CR(){return AR()(TR,TR)}var PR,DR=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function MR(e){if(!(t=DR.exec(e)))throw new Error("invalid format: "+e);var t;return new RR({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function RR(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function LR(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function FR(e){return(e=LR(Math.abs(e)))?e[1]:NaN}function BR(e,t){var n=LR(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}MR.prototype=RR.prototype,RR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var UR={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return BR(100*e,t)},r:BR,s:function(e,t){var n=LR(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(PR=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+LR(e,Math.max(0,t+a-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function VR(e){return e}var zR,qR,HR,WR=Array.prototype.map,GR=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function KR(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?VR:(t=WR.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],o=0,u=t[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),a.push(e.substring(i-=u,i+u)),!((s+=u+1)>r));)u=t[o=(o+1)%t.length];return a.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",u=void 0===e.numerals?VR:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(WR.call(e.numerals,String)),s=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",l=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=MR(e)).fill,n=e.align,f=e.sign,d=e.symbol,h=e.zero,p=e.width,v=e.comma,m=e.precision,y=e.trim,g=e.type;"n"===g?(v=!0,g="g"):UR[g]||(void 0===m&&(m=12),y=!0,g="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",x="$"===d?a:/[%p]/.test(g)?s:"",w=UR[g],k=/[defgprs%]/.test(g);function _(e){var i,a,s,d=b,_=x;if("c"===g)_=w(e)+_,e="";else{var S=(e=+e)<0||1/e<0;if(e=isNaN(e)?l:w(Math.abs(e),m),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),S&&0===+e&&"+"!==f&&(S=!1),d=(S?"("===f?f:c:"-"===f||"("===f?"":f)+d,_=("s"===g?GR[8+PR/3]:"")+_+(S&&"("===f?")":""),k)for(i=-1,a=e.length;++i<a;)if(48>(s=e.charCodeAt(i))||s>57){_=(46===s?o+e.slice(i+1):e.slice(i))+_,e=e.slice(0,i);break}}v&&!h&&(e=r(e,1/0));var E=d.length+e.length+_.length,T=E<p?new Array(p-E+1).join(t):"";switch(v&&h&&(e=r(T+e,T.length?p-_.length:1/0),T=""),n){case"<":e=d+e+_+T;break;case"=":e=d+T+e+_;break;case"^":e=T.slice(0,E=T.length>>1)+d+e+_+T.slice(E);break;default:e=T+d+e+_}return u(e)}return m=void 0===m?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),_.toString=function(){return e+""},_}return{format:f,formatPrefix:function(e,t){var n=f(((e=MR(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(FR(t)/3))),i=Math.pow(10,-r),a=GR[8+r/3];return function(e){return n(i*e)+a}}}}function QR(e,t,n,r){var i,a=mM(e,t,n);switch((r=MR(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(FR(t)/3)))-FR(Math.abs(e)))}(a,o))||(r.precision=i),HR(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,FR(t)-FR(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-FR(Math.abs(e)))}(a))||(r.precision=i-2*("%"===r.type))}return qR(r)}function YR(e){var t=e.domain;return e.ticks=function(e){var n=t();return pM(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return QR(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,a=t(),o=0,u=a.length-1,s=a[o],c=a[u],l=10;for(c<s&&(i=s,s=c,c=i,i=o,o=u,u=i);l-- >0;){if((i=vM(s,c,n))===r)return a[o]=s,a[u]=c,t(a);if(i>0)s=Math.floor(s/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;s=Math.ceil(s*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function $R(){var e=CR();return e.copy=function(){return NR(e,$R())},JD.apply(e,arguments),YR(e)}function XR(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,SR),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return XR(e).unknown(t)},e=arguments.length?Array.from(e,SR):[0,1],YR(n)}function JR(e,t){var n,r=0,i=(e=e.slice()).length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e}function ZR(e){return Math.log(e)}function eL(e){return Math.exp(e)}function tL(e){return-Math.log(-e)}function nL(e){return-Math.exp(-e)}function rL(e){return isFinite(e)?+("1e"+e):e<0?0:e}function iL(e){return function(t,n){return-e(-t,n)}}function aL(e){var t,n,r=e(ZR,eL),i=r.domain,a=10;function o(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(a),n=function(e){return 10===e?rL:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(a),i()[0]<0?(t=iL(t),n=iL(n),e(tL,nL)):e(ZR,eL),r}return r.base=function(e){return arguments.length?(a=+e,o()):a},r.domain=function(e){return arguments.length?(i(e),o()):i()},r.ticks=function(e){var r=i(),o=r[0],u=r[r.length-1],s=u<o;if(s){var c=[u,o];o=c[0],u=c[1]}var l,f,d=t(o),h=t(u),p=null==e?10:+e,v=[];if(!(a%1)&&h-d<p){if(d=Math.floor(d),h=Math.ceil(h),o>0){for(;d<=h;++d)for(l=1;l<a;++l)if(!((f=d<0?l/n(-d):l*n(d))<o)){if(f>u)break;v.push(f)}}else for(;d<=h;++d)for(l=a-1;l>=1;--l)if(!((f=d>0?l/n(-d):l*n(d))<o)){if(f>u)break;v.push(f)}2*v.length<p&&(v=pM(o,u,p))}else v=pM(d,h,Math.min(h-d,p)).map(n);return s?v.reverse():v},r.tickFormat=function(e,i){if(null==e&&(e=10),null==i&&(i=10===a?"s":","),"function"!==typeof i&&(a%1||null!=(i=MR(i)).precision||(i.trim=!0),i=qR(i)),e===1/0)return i;var o=Math.max(1,a*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*a<a-.5&&(r*=a),r<=o?i(e):""}},r.nice=function(){return i(JR(i(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function oL(){var e=aL(AR()).domain([1,10]);return e.copy=function(){return NR(e,oL()).base(e.base())},JD.apply(e,arguments),e}function uL(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function sL(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function cL(e){var t=1,n=e(uL(t),sL(t));return n.constant=function(n){return arguments.length?e(uL(t=+n),sL(t)):t},YR(n)}function lL(){var e=cL(AR());return e.copy=function(){return NR(e,lL()).constant(e.constant())},JD.apply(e,arguments)}function fL(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function dL(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function hL(e){return e<0?-e*e:e*e}function pL(e){var t=e(TR,TR),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(TR,TR):.5===n?e(dL,hL):e(fL(n),fL(1/n)):n},YR(t)}function vL(){var e=pL(AR());return e.copy=function(){return NR(e,vL()).exponent(e.exponent())},JD.apply(e,arguments),e}function mL(){return vL.apply(null,arguments).exponent(.5)}function yL(e){return Math.sign(e)*e*e}function gL(){var e,t=CR(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(yL(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,SR)).map(yL)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return gL(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},JD.apply(i,arguments),YR(i)}function bL(e,t){var n;if(void 0===t){var r,i=A(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;null!=a&&(n<a||void 0===n&&a>=a)&&(n=a)}}catch(l){i.e(l)}finally{i.f()}}else{var o,u=-1,s=A(e);try{for(s.s();!(o=s.n()).done;){var c=o.value;null!=(c=t(c,++u,e))&&(n<c||void 0===n&&c>=c)&&(n=c)}}catch(l){s.e(l)}finally{s.f()}}return n}function xL(e,t){var n;if(void 0===t){var r,i=A(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;null!=a&&(n>a||void 0===n&&a>=a)&&(n=a)}}catch(l){i.e(l)}finally{i.f()}}else{var o,u=-1,s=A(e);try{for(s.s();!(o=s.n()).done;){var c=o.value;null!=(c=t(c,++u,e))&&(n>c||void 0===n&&c>=c)&&(n=c)}}catch(l){s.e(l)}finally{s.f()}}return n}function wL(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yM;if(e===yM)return kL;if("function"!==typeof e)throw new TypeError("compare is not a function");return function(t,n){var r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function kL(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function _L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?kL:wL(i);r>n;){if(r-n>600){var a=r-n+1,o=t-n+1,u=Math.log(a),s=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*s*(a-s)/a)*(o-a/2<0?-1:1);_L(e,t,Math.max(n,Math.floor(t-o*s/a+c)),Math.min(r,Math.floor(t+(a-o)*s/a+c)),i)}var l=e[t],f=n,d=r;for(SL(e,n,t),i(e[r],l)>0&&SL(e,n,r);f<d;){for(SL(e,f,d),++f,--d;i(e[f],l)<0;)++f;for(;i(e[d],l)>0;)--d}0===i(e[n],l)?SL(e,n,d):SL(e,++d,r),d<=t&&(n=d+1),t<=d&&(r=d-1)}return e}function SL(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function EL(e,t,n){if((r=(e=Float64Array.from(_M(e,n))).length)&&!isNaN(t=+t)){if(t<=0||r<2)return xL(e);if(t>=1)return bL(e);var r,i=(r-1)*t,a=Math.floor(i),o=bL(_L(e,a).subarray(0,a+1));return o+(xL(e.subarray(a+1))-o)*(i-a)}}function TL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kM;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e);return o+(+n(e[a+1],a+1,e)-o)*(i-a)}}function IL(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=TL(t,e/i);return a}function a(t){return null==t||isNaN(t=+t)?e:n[TM(r,t)]}return a.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},a.domain=function(e){if(!arguments.length)return t.slice();t=[];var n,r=A(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;null==a||isNaN(a=+a)||t.push(a)}}catch(o){r.e(o)}finally{r.f()}return t.sort(yM),i()},a.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return r.slice()},a.copy=function(){return IL().domain(t).range(n).unknown(e)},JD.apply(a,arguments)}function jL(){var e,t=0,n=1,r=1,i=[.5],a=[0,1];function o(t){return null!=t&&t<=t?a[TM(i,t,0,r)]:e}function u(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return o}return o.domain=function(e){var r;return arguments.length?(r=m(e,2),t=r[0],n=r[1],t=+t,n=+n,u()):[t,n]},o.range=function(e){return arguments.length?(r=(a=Array.from(e)).length-1,u()):a.slice()},o.invertExtent=function(e){var o=a.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,i[0]]:o>=r?[i[r-1],n]:[i[o-1],i[o]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return i.slice()},o.copy=function(){return jL().domain([t,n]).range(a).unknown(e)},JD.apply(YR(o),arguments)}function OL(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[TM(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return OL().domain(t).range(n).unknown(e)},JD.apply(i,arguments)}zR=KR({thousands:",",grouping:[3],currency:["$",""]}),qR=zR.format,HR=zR.formatPrefix;var NL=1e3,AL=6e4,CL=36e5,PL=864e5,DL=6048e5,ML=2592e6,RL=31536e6,LL=new Date,FL=new Date;function BL(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,a){var o,u=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r)||!(a>0))return u;do{u.push(o=new Date(+n)),t(n,a),e(n)}while(o<n&&n<r);return u},i.filter=function(n){return BL((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return LL.setTime(+t),FL.setTime(+r),e(LL),e(FL),Math.floor(n(LL,FL))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e===0}:function(t){return i.count(0,t)%e===0}):i:null}),i}var UL=BL((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));UL.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?BL((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):UL:null};UL.range;var VL=BL((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*NL)}),(function(e,t){return(t-e)/NL}),(function(e){return e.getUTCSeconds()})),zL=(VL.range,BL((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*NL)}),(function(e,t){e.setTime(+e+t*AL)}),(function(e,t){return(t-e)/AL}),(function(e){return e.getMinutes()}))),qL=(zL.range,BL((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*AL)}),(function(e,t){return(t-e)/AL}),(function(e){return e.getUTCMinutes()}))),HL=(qL.range,BL((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*NL-e.getMinutes()*AL)}),(function(e,t){e.setTime(+e+t*CL)}),(function(e,t){return(t-e)/CL}),(function(e){return e.getHours()}))),WL=(HL.range,BL((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*CL)}),(function(e,t){return(t-e)/CL}),(function(e){return e.getUTCHours()}))),GL=(WL.range,BL((function(e){return e.setHours(0,0,0,0)}),(function(e,t){return e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*AL)/PL}),(function(e){return e.getDate()-1}))),KL=(GL.range,BL((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/PL}),(function(e){return e.getUTCDate()-1}))),QL=(KL.range,BL((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/PL}),(function(e){return Math.floor(e/PL)})));QL.range;function YL(e){return BL((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*AL)/DL}))}var $L=YL(0),XL=YL(1),JL=YL(2),ZL=YL(3),eF=YL(4),tF=YL(5),nF=YL(6);$L.range,XL.range,JL.range,ZL.range,eF.range,tF.range,nF.range;function rF(e){return BL((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/DL}))}var iF=rF(0),aF=rF(1),oF=rF(2),uF=rF(3),sF=rF(4),cF=rF(5),lF=rF(6),fF=(iF.range,aF.range,oF.range,uF.range,sF.range,cF.range,lF.range,BL((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}))),dF=(fF.range,BL((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}))),hF=(dF.range,BL((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()})));hF.every=function(e){return isFinite(e=Math.floor(e))&&e>0?BL((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};hF.range;var pF=BL((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));pF.every=function(e){return isFinite(e=Math.floor(e))&&e>0?BL((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};pF.range;function vF(e,t,n,r,i,a){var o=[[VL,1,NL],[VL,5,5e3],[VL,15,15e3],[VL,30,3e4],[a,1,AL],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,CL],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,PL],[r,2,1728e5],[n,1,DL],[t,1,ML],[t,3,7776e6],[e,1,RL]];function u(t,n,r){var i=Math.abs(n-t)/r,a=bM((function(e){return m(e,3)[2]})).right(o,i);if(a===o.length)return e.every(mM(t/RL,n/RL,r));if(0===a)return UL.every(Math.max(mM(t,n,r),1));var u=m(o[i/o[a-1][2]<o[a][2]/i?a-1:a],2),s=u[0],c=u[1];return s.every(c)}return[function(e,t,n){var r=t<e;if(r){var i=[t,e];e=i[0],t=i[1]}var a=n&&"function"===typeof n.range?n:u(e,t,n),o=a?a.range(e,+t+1):[];return r?o.reverse():o},u]}var mF=m(vF(pF,dF,iF,QL,WL,qL),2),yF=mF[0],gF=mF[1],bF=m(vF(hF,fF,$L,GL,HL,zL),2),xF=bF[0],wF=bF[1];function kF(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function _F(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function SF(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var EF,TF,IF,jF={"-":"",_:" ",0:"0"},OF=/^\s*\d+/,NF=/^%/,AF=/[\\^$*+?|[\]().{}]/g;function CF(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function PF(e){return e.replace(AF,"\\$&")}function DF(e){return new RegExp("^(?:"+e.map(PF).join("|")+")","i")}function MF(e){return new Map(e.map((function(e,t){return[e.toLowerCase(),t]})))}function RF(e,t,n){var r=OF.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function LF(e,t,n){var r=OF.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function FF(e,t,n){var r=OF.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function BF(e,t,n){var r=OF.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function UF(e,t,n){var r=OF.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function VF(e,t,n){var r=OF.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function zF(e,t,n){var r=OF.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function qF(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function HF(e,t,n){var r=OF.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function WF(e,t,n){var r=OF.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function GF(e,t,n){var r=OF.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function KF(e,t,n){var r=OF.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function QF(e,t,n){var r=OF.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function YF(e,t,n){var r=OF.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function $F(e,t,n){var r=OF.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function XF(e,t,n){var r=OF.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function JF(e,t,n){var r=OF.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ZF(e,t,n){var r=NF.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function eB(e,t,n){var r=OF.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function tB(e,t,n){var r=OF.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function nB(e,t){return CF(e.getDate(),t,2)}function rB(e,t){return CF(e.getHours(),t,2)}function iB(e,t){return CF(e.getHours()%12||12,t,2)}function aB(e,t){return CF(1+GL.count(hF(e),e),t,3)}function oB(e,t){return CF(e.getMilliseconds(),t,3)}function uB(e,t){return oB(e,t)+"000"}function sB(e,t){return CF(e.getMonth()+1,t,2)}function cB(e,t){return CF(e.getMinutes(),t,2)}function lB(e,t){return CF(e.getSeconds(),t,2)}function fB(e){var t=e.getDay();return 0===t?7:t}function dB(e,t){return CF($L.count(hF(e)-1,e),t,2)}function hB(e){var t=e.getDay();return t>=4||0===t?eF(e):eF.ceil(e)}function pB(e,t){return e=hB(e),CF(eF.count(hF(e),e)+(4===hF(e).getDay()),t,2)}function vB(e){return e.getDay()}function mB(e,t){return CF(XL.count(hF(e)-1,e),t,2)}function yB(e,t){return CF(e.getFullYear()%100,t,2)}function gB(e,t){return CF((e=hB(e)).getFullYear()%100,t,2)}function bB(e,t){return CF(e.getFullYear()%1e4,t,4)}function xB(e,t){var n=e.getDay();return CF((e=n>=4||0===n?eF(e):eF.ceil(e)).getFullYear()%1e4,t,4)}function wB(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+CF(t/60|0,"0",2)+CF(t%60,"0",2)}function kB(e,t){return CF(e.getUTCDate(),t,2)}function _B(e,t){return CF(e.getUTCHours(),t,2)}function SB(e,t){return CF(e.getUTCHours()%12||12,t,2)}function EB(e,t){return CF(1+KL.count(pF(e),e),t,3)}function TB(e,t){return CF(e.getUTCMilliseconds(),t,3)}function IB(e,t){return TB(e,t)+"000"}function jB(e,t){return CF(e.getUTCMonth()+1,t,2)}function OB(e,t){return CF(e.getUTCMinutes(),t,2)}function NB(e,t){return CF(e.getUTCSeconds(),t,2)}function AB(e){var t=e.getUTCDay();return 0===t?7:t}function CB(e,t){return CF(iF.count(pF(e)-1,e),t,2)}function PB(e){var t=e.getUTCDay();return t>=4||0===t?sF(e):sF.ceil(e)}function DB(e,t){return e=PB(e),CF(sF.count(pF(e),e)+(4===pF(e).getUTCDay()),t,2)}function MB(e){return e.getUTCDay()}function RB(e,t){return CF(aF.count(pF(e)-1,e),t,2)}function LB(e,t){return CF(e.getUTCFullYear()%100,t,2)}function FB(e,t){return CF((e=PB(e)).getUTCFullYear()%100,t,2)}function BB(e,t){return CF(e.getUTCFullYear()%1e4,t,4)}function UB(e,t){var n=e.getUTCDay();return CF((e=n>=4||0===n?sF(e):sF.ceil(e)).getUTCFullYear()%1e4,t,4)}function VB(){return"+0000"}function zB(){return"%"}function qB(e){return+e}function HB(e){return Math.floor(+e/1e3)}function WB(e){return new Date(e)}function GB(e){return e instanceof Date?+e:+new Date(+e)}function KB(e,t,n,r,i,a,o,u,s,c){var l=CR(),f=l.invert,d=l.domain,h=c(".%L"),p=c(":%S"),v=c("%I:%M"),m=c("%I %p"),y=c("%a %d"),g=c("%b %d"),b=c("%B"),x=c("%Y");function w(e){return(s(e)<e?h:u(e)<e?p:o(e)<e?v:a(e)<e?m:r(e)<e?i(e)<e?y:g:n(e)<e?b:x)(e)}return l.invert=function(e){return new Date(f(e))},l.domain=function(e){return arguments.length?d(Array.from(e,GB)):d().map(WB)},l.ticks=function(t){var n=d();return e(n[0],n[n.length-1],null==t?10:t)},l.tickFormat=function(e,t){return null==t?w:c(t)},l.nice=function(e){var n=d();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?d(JR(n,e)):l},l.copy=function(){return NR(l,KB(e,t,n,r,i,a,o,u,s,c))},l}function QB(){return JD.apply(KB(xF,wF,hF,fF,$L,GL,HL,zL,VL,TF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function YB(){return JD.apply(KB(yF,gF,pF,dF,iF,KL,WL,qL,VL,IF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $B(){var e,t,n,r,i,a=0,o=1,u=TR,s=!1;function c(t){return null==t||isNaN(t=+t)?i:u(0===n?.5:(t=(r(t)-e)*n,s?Math.max(0,Math.min(1,t)):t))}function l(e){return function(t){var n,r,i;return arguments.length?(r=(n=m(t,2))[0],i=n[1],u=e(r,i),c):[u(0),u(1)]}}return c.domain=function(i){var u;return arguments.length?(u=m(i,2),a=u[0],o=u[1],e=r(a=+a),t=r(o=+o),n=e===t?0:1/(t-e),c):[a,o]},c.clamp=function(e){return arguments.length?(s=!!e,c):s},c.interpolator=function(e){return arguments.length?(u=e,c):u},c.range=l(kR),c.rangeRound=l(_R),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(a),t=i(o),n=e===t?0:1/(t-e),c}}function XB(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function JB(){var e=YR($B()(TR));return e.copy=function(){return XB(e,JB())},ZD.apply(e,arguments)}function ZB(){var e=aL($B()).domain([1,10]);return e.copy=function(){return XB(e,ZB()).base(e.base())},ZD.apply(e,arguments)}function eU(){var e=cL($B());return e.copy=function(){return XB(e,eU()).constant(e.constant())},ZD.apply(e,arguments)}function tU(){var e=pL($B());return e.copy=function(){return XB(e,tU()).exponent(e.exponent())},ZD.apply(e,arguments)}function nU(){return tU.apply(null,arguments).exponent(.5)}function rU(){var e=[],t=TR;function n(n){if(null!=n&&!isNaN(n=+n))return t((TM(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];var r,i=A(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;null==a||isNaN(a=+a)||e.push(a)}}catch(o){i.e(o)}finally{i.f()}return e.sort(yM),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((function(n,r){return t(r/(e.length-1))}))},n.quantiles=function(t){return Array.from({length:t+1},(function(n,r){return EL(e,r/t)}))},n.copy=function(){return rU(t).domain(e)},ZD.apply(n,arguments)}function iU(){var e,t,n,r,i,a,o,u=0,s=.5,c=1,l=1,f=TR,d=!1;function h(e){return isNaN(e=+e)?o:(e=.5+((e=+a(e))-t)*(l*e<l*t?r:i),f(d?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i,a;return arguments.length?(r=(n=m(t,3))[0],i=n[1],a=n[2],f=function(e,t){void 0===t&&(t=e,e=kR);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return a[t](e-t)}}(e,[r,i,a]),h):[f(0),f(.5),f(1)]}}return h.domain=function(o){var f;return arguments.length?(f=m(o,3),u=f[0],s=f[1],c=f[2],e=a(u=+u),t=a(s=+s),n=a(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),l=t<e?-1:1,h):[u,s,c]},h.clamp=function(e){return arguments.length?(d=!!e,h):d},h.interpolator=function(e){return arguments.length?(f=e,h):f},h.range=p(kR),h.rangeRound=p(_R),h.unknown=function(e){return arguments.length?(o=e,h):o},function(o){return a=o,e=o(u),t=o(s),n=o(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),l=t<e?-1:1,h}}function aU(){var e=YR(iU()(TR));return e.copy=function(){return XB(e,aU())},ZD.apply(e,arguments)}function oU(){var e=aL(iU()).domain([.1,1,10]);return e.copy=function(){return XB(e,oU()).base(e.base())},ZD.apply(e,arguments)}function uU(){var e=cL(iU());return e.copy=function(){return XB(e,uU()).constant(e.constant())},ZD.apply(e,arguments)}function sU(){var e=pL(iU());return e.copy=function(){return XB(e,sU()).exponent(e.exponent())},ZD.apply(e,arguments)}function cU(){return sU.apply(null,arguments).exponent(.5)}function lU(e,t){if((i=e.length)>1)for(var n,r,i,a=1,o=e[t[0]],u=o.length;a<i;++a)for(r=o,o=e[t[a]],n=0;n<u;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}!function(e){EF=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,u=e.months,s=e.shortMonths,c=DF(i),l=MF(i),f=DF(a),d=MF(a),h=DF(o),p=MF(o),v=DF(u),m=MF(u),y=DF(s),g=MF(s),b={a:function(e){return o[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return s[e.getMonth()]},B:function(e){return u[e.getMonth()]},c:null,d:nB,e:nB,f:uB,g:gB,G:xB,H:rB,I:iB,j:aB,L:oB,m:sB,M:cB,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:qB,s:HB,S:lB,u:fB,U:dB,V:pB,w:vB,W:mB,x:null,X:null,y:yB,Y:bB,Z:wB,"%":zB},x={a:function(e){return o[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return s[e.getUTCMonth()]},B:function(e){return u[e.getUTCMonth()]},c:null,d:kB,e:kB,f:IB,g:FB,G:UB,H:_B,I:SB,j:EB,L:TB,m:jB,M:OB,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:qB,s:HB,S:NB,u:AB,U:CB,V:DB,w:MB,W:RB,x:null,X:null,y:LB,Y:BB,Z:VB,"%":zB},w={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return S(e,t,n,r)},d:GF,e:GF,f:JF,g:zF,G:VF,H:QF,I:QF,j:KF,L:XF,m:WF,M:YF,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=l.get(r[0].toLowerCase()),n+r[0].length):-1},q:HF,Q:eB,s:tB,S:$F,u:LF,U:FF,V:BF,w:RF,W:UF,x:function(e,t,r){return S(e,n,t,r)},X:function(e,t,n){return S(e,r,t,n)},y:zF,Y:VF,Z:qF,"%":ZF};function k(e,t){return function(n){var r,i,a,o=[],u=-1,s=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++u<c;)37===e.charCodeAt(u)&&(o.push(e.slice(s,u)),null!=(i=jF[r=e.charAt(++u)])?r=e.charAt(++u):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),o.push(r),s=u+1);return o.push(e.slice(s,u)),o.join("")}}function _(e,t){return function(n){var r,i,a=SF(1900,void 0,1);if(S(a,e,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=_F(SF(a.y,0,1))).getUTCDay(),r=i>4||0===i?aF.ceil(r):aF(r),r=KL.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=kF(SF(a.y,0,1))).getDay(),r=i>4||0===i?XL.ceil(r):XL(r),r=GL.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?_F(SF(a.y,0,1)).getUTCDay():kF(SF(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,_F(a)):kF(a)}}function S(e,t,n,r){for(var i,a,o=0,u=t.length,s=n.length;o<u;){if(r>=s)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=w[i in jF?t.charAt(o++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=k(n,b),b.X=k(r,b),b.c=k(t,b),x.x=k(n,x),x.X=k(r,x),x.c=k(t,x),{format:function(e){var t=k(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=_(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=k(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=_(e+="",!0);return t.toString=function(){return e},t}}}(e),TF=EF.format,EF.parse,IF=EF.utcFormat,EF.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function fU(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function dU(e){return function(){return e}}function hU(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function pU(e,t){return e[t]}function vU(e){var t=[];return t.key=e,t}var mU=n(4234),yU=n.n(mU);function gU(e){return function(e){if(Array.isArray(e))return bU(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return bU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bU(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xU=function(e){return e},wU={"@@functional/placeholder":!0},kU=function(e){return e===wU},_U=function(e){return function t(){return 0===arguments.length||1===arguments.length&&kU(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},SU=function e(t,n){return 1===t?n:_U((function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter((function(e){return e!==wU})).length;return o>=t?n.apply(void 0,i):e(t-o,_U((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=i.map((function(e){return kU(e)?t.shift():e}));return n.apply(void 0,gU(a).concat(t))})))}))},EU=function(e){return SU(e.length,e)},TU=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},IU=EU((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),jU=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return xU;var r=t.reverse(),i=r[0],a=r.slice(1);return function(){return a.reduce((function(e,t){return t(e)}),i.apply(void 0,arguments))}},OU=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},NU=function(e){var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t&&i.every((function(e,n){return e===t[n]}))?n:(t=i,n=e.apply(void 0,i))}};var AU=EU((function(e,t,n){var r=+e;return r+n*(+t-r)})),CU=EU((function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)})),PU=EU((function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))})),DU={rangeStep:function(e,t,n){for(var r=new(yU())(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a},getDigitCount:function(e){return 0===e?1:Math.floor(new(yU())(e).abs().log(10).toNumber())+1},interpolateNumber:AU,uninterpolateNumber:CU,uninterpolateTruncation:PU};function MU(e){return function(e){if(Array.isArray(e))return FU(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||LU(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){i=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}(e,t)||LU(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LU(e,t){if(e){if("string"===typeof e)return FU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?FU(e,t):void 0}}function FU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function BU(e){var t=RU(e,2),n=t[0],r=t[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function UU(e,t,n){if(e.lte(0))return new(yU())(0);var r=DU.getDigitCount(e.toNumber()),i=new(yU())(10).pow(r),a=e.div(i),o=1!==r?.05:.1,u=new(yU())(Math.ceil(a.div(o).toNumber())).add(n).mul(o).mul(i);return t?u:new(yU())(Math.ceil(u))}function VU(e,t,n){var r=1,i=new(yU())(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new(yU())(10).pow(DU.getDigitCount(e)-1),i=new(yU())(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new(yU())(Math.floor(e)))}else 0===e?i=new(yU())(Math.floor((t-1)/2)):n||(i=new(yU())(Math.floor(e)));var o=Math.floor((t-1)/2),u=jU(IU((function(e){return i.add(new(yU())(e-o).mul(r)).toNumber()})),TU);return u(0,t)}function zU(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(yU())(0),tickMin:new(yU())(0),tickMax:new(yU())(0)};var a,o=UU(new(yU())(t).sub(e).div(n-1),r,i);a=e<=0&&t>=0?new(yU())(0):(a=new(yU())(e).add(t).div(2)).sub(new(yU())(a).mod(o));var u=Math.ceil(a.sub(e).div(o).toNumber()),s=Math.ceil(new(yU())(t).sub(a).div(o).toNumber()),c=u+s+1;return c>n?zU(e,t,n,r,i+1):(c<n&&(s=t>0?s+(n-c):s,u=t>0?u:u+(n-c)),{step:o,tickMin:a.sub(new(yU())(u).mul(o)),tickMax:a.add(new(yU())(s).mul(o))})}var qU=NU((function(e){var t=RU(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(i,2),u=RU(BU([n,r]),2),s=u[0],c=u[1];if(s===-1/0||c===1/0){var l=c===1/0?[s].concat(MU(TU(0,i-1).map((function(){return 1/0})))):[].concat(MU(TU(0,i-1).map((function(){return-1/0}))),[c]);return n>r?OU(l):l}if(s===c)return VU(s,i,a);var f=zU(s,c,o,a),d=f.step,h=f.tickMin,p=f.tickMax,v=DU.rangeStep(h,p.add(new(yU())(.1).mul(d)),d);return n>r?OU(v):v})),HU=(NU((function(e){var t=RU(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(i,2),u=RU(BU([n,r]),2),s=u[0],c=u[1];if(s===-1/0||c===1/0)return[n,r];if(s===c)return VU(s,i,a);var l=UU(new(yU())(c).sub(s).div(o-1),a,0),f=jU(IU((function(e){return new(yU())(s).add(new(yU())(e).mul(l)).toNumber()})),TU),d=f(0,o).filter((function(e){return e>=s&&e<=c}));return n>r?OU(d):d})),NU((function(e,t){var n=RU(e,2),r=n[0],i=n[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=RU(BU([r,i]),2),u=o[0],s=o[1];if(u===-1/0||s===1/0)return[r,i];if(u===s)return[u];var c=Math.max(t,2),l=UU(new(yU())(s).sub(u).div(c-1),a,0),f=[].concat(MU(DU.rangeStep(new(yU())(u),new(yU())(s).sub(new(yU())(.99).mul(l)),l)),[s]);return r>i?OU(f):f}))),WU=n(8092),GU=n.n(WU),KU=n(8493);function QU(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function YU(e){return YU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YU(e)}var $U=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],XU=["points","pathLength"],JU={svg:["viewBox","children"],polygon:XU,polyline:XU},ZU=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],eV=function(e,t){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,i.isValidElement)(e)&&(n=e.props),!GU()(n))return null;var r={};return Object.keys(n).forEach((function(e){ZU.includes(e)&&(r[e]=t||function(t){return n[e](n,t)})})),r},tV=function(e,t,n){if(!GU()(e)||"object"!==YU(e))return null;var r=null;return Object.keys(e).forEach((function(i){var a=e[i];ZU.includes(i)&&"function"===typeof a&&(r||(r={}),r[i]=function(e,t,n){return function(r){return e(t,n,r),null}}(a,t,n))})),r},nV=["children"],rV=["children"];function iV(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aV(e){return aV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aV(e)}var oV={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},uV=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},sV=null,cV=null,lV=function e(t){if(t===sV&&HP()(cV))return cV;var n=[];return i.Children.forEach(t,(function(t){_D()(t)||((0,KU.isFragment)(t)?n=n.concat(e(t.props.children)):n.push(t))})),cV=n,sV=t,n};function fV(e,t){var n=[],r=[];return r=HP()(t)?t.map((function(e){return uV(e)})):[uV(t)],lV(e).forEach((function(e){var t=zP()(e,"type.displayName")||zP()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)})),n}function dV(e,t){var n=fV(e,t);return n&&n[0]}var hV=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!ZP(n)||n<=0||!ZP(r)||r<=0)},pV=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],vV=function(e){return e&&e.type&&$P()(e.type)&&pV.indexOf(e.type)>=0},mV=function(e,t,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,i.isValidElement)(e)&&(r=e.props),!GU()(r))return null;var a={};return Object.keys(r).forEach((function(e){var i;(function(e,t,n,r){var i,a=null!==(i=null===JU||void 0===JU?void 0:JU[r])&&void 0!==i?i:[];return!yD()(e)&&(r&&a.includes(t)||$U.includes(t))||n&&ZU.includes(t)})(null===(i=r)||void 0===i?void 0:i[e],e,t,n)&&(a[e]=r[e])})),a},yV=function e(t,n){if(t===n)return!0;var r=i.Children.count(t);if(r!==i.Children.count(n))return!1;if(0===r)return!0;if(1===r)return gV(HP()(t)?t[0]:t,HP()(n)?n[0]:n);for(var a=0;a<r;a++){var o=t[a],u=n[a];if(HP()(o)||HP()(u)){if(!e(o,u))return!1}else if(!gV(o,u))return!1}return!0},gV=function(e,t){if(_D()(e)&&_D()(t))return!0;if(!_D()(e)&&!_D()(t)){var n=e.props||{},r=n.children,i=iV(n,nV),a=t.props||{},o=a.children,u=iV(a,rV);return r&&o?QU(i,u)&&yV(r,o):!r&&!o&&QU(i,u)}return!1},bV=function(e,t){var n=[],r={};return lV(e).forEach((function(e,i){if(vV(e))n.push(e);else if(e){var a=uV(e.type),o=t[a]||{},u=o.handler,s=o.once;if(u&&(!s||!r[a])){var c=u(e,a,i);n.push(c),r[a]=!0}}})),n},xV=["children","className"];function wV(){return wV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wV.apply(this,arguments)}function kV(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var _V=i.forwardRef((function(e,t){var n=e.children,r=e.className,a=kV(e,xV),o=IP()("recharts-layer",r);return i.createElement("g",wV({className:o},mV(a,!0),{ref:t}),n)})),SV=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function EV(){return EV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EV.apply(this,arguments)}function TV(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return IV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IV(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jV(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function OV(e){var t=e.offset,n=e.layout,r=e.width,a=e.dataKey,o=e.data,u=e.dataPointFormatter,s=e.xAxis,c=e.yAxis,l=jV(e,SV),f=mV(l),d=o.map((function(e,o){var l=u(e,a),d=l.x,h=l.y,p=l.value,v=l.errorVal;if(!v)return null;var m,y,g=[];if(Array.isArray(v)){var b=TV(v,2);m=b[0],y=b[1]}else m=y=v;if("vertical"===n){var x=s.scale,w=h+t,k=w+r,_=w-r,S=x(p-m),E=x(p+y);g.push({x1:E,y1:k,x2:E,y2:_}),g.push({x1:S,y1:w,x2:E,y2:w}),g.push({x1:S,y1:k,x2:S,y2:_})}else if("horizontal"===n){var T=c.scale,I=d+t,j=I-r,O=I+r,N=T(p-m),A=T(p+y);g.push({x1:j,y1:A,x2:O,y2:A}),g.push({x1:I,y1:N,x2:I,y2:A}),g.push({x1:j,y1:N,x2:O,y2:N})}return i.createElement(_V,EV({className:"recharts-errorBar",key:"bar-".concat(o)},f),g.map((function(e,t){return i.createElement("line",EV({},e,{key:"line-".concat(t)}))})))}));return i.createElement(_V,{className:"recharts-errorBars"},d)}OV.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"},OV.displayName="ErrorBar";var NV=n(6339),AV=n.n(NV),CV=["children","width","height","viewBox","className","style"];function PV(){return PV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PV.apply(this,arguments)}function DV(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function MV(e){var t=e.children,n=e.width,r=e.height,a=e.viewBox,o=e.className,u=e.style,s=DV(e,CV),c=a||{width:n,height:r,x:0,y:0},l=IP()("recharts-surface",o);return i.createElement("svg",PV({},mV(s,!0,"svg"),{className:l,width:n,height:r,style:u,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),i.createElement("title",null,e.title),i.createElement("desc",null,e.desc),t)}Math.abs,Math.atan2;var RV=Math.cos,LV=(Math.max,Math.min,Math.sin),FV=Math.sqrt,BV=Math.PI,UV=2*BV;var VV,zV,qV,HV,WV,GV,KV,QV,YV,$V,XV,JV,ZV,ez,tz={draw:function(e,t){var n=FV(t/BV);e.moveTo(n,0),e.arc(0,0,n,0,UV)}},nz={draw:function(e,t){var n=FV(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},rz=FV(1/3),iz=2*rz,az={draw:function(e,t){var n=FV(t/iz),r=n*rz;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},oz={draw:function(e,t){var n=FV(t),r=-n/2;e.rect(r,r,n,n)}},uz=LV(BV/10)/LV(7*BV/10),sz=LV(UV/10)*uz,cz=-RV(UV/10)*uz,lz={draw:function(e,t){var n=FV(.8908130915292852*t),r=sz*n,i=cz*n;e.moveTo(0,-n),e.lineTo(r,i);for(var a=1;a<5;++a){var o=UV*a/5,u=RV(o),s=LV(o);e.lineTo(s*n,-u*n),e.lineTo(u*r-s*i,s*r+u*i)}e.closePath()}},fz=FV(3),dz={draw:function(e,t){var n=-FV(t/(3*fz));e.moveTo(0,2*n),e.lineTo(-fz*n,-n),e.lineTo(fz*n,-n),e.closePath()}},hz=-.5,pz=FV(3)/2,vz=1/FV(12),mz=3*(vz/2+1),yz={draw:function(e,t){var n=FV(t/mz),r=n/2,i=n*vz,a=r,o=n*vz+n,u=-a,s=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(u,s),e.lineTo(hz*r-pz*i,pz*r+hz*i),e.lineTo(hz*a-pz*o,pz*a+hz*o),e.lineTo(hz*u-pz*s,pz*u+hz*s),e.lineTo(hz*r+pz*i,hz*i-pz*r),e.lineTo(hz*a+pz*o,hz*o-pz*a),e.lineTo(hz*u+pz*s,hz*s-pz*u),e.closePath()}};function gz(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var bz=Math.PI,xz=2*bz,wz=1e-6,kz=xz-wz;function _z(e){this._+=e[0];for(var t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}var Sz=function(){function e(t){b(this,e),this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?_z:function(e){var t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return _z;var n=Math.pow(10,t);return function(e){this._+=e[0];for(var t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(t)}return w(e,[{key:"moveTo",value:function(e,t){this._append(VV||(VV=gz(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(zV||(zV=gz(["Z"]))))}},{key:"lineTo",value:function(e,t){this._append(qV||(qV=gz(["L",",",""])),this._x1=+e,this._y1=+t)}},{key:"quadraticCurveTo",value:function(e,t,n,r){this._append(HV||(HV=gz(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){this._append(WV||(WV=gz(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+i,this._y1=+a)}},{key:"arcTo",value:function(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error("negative radius: ".concat(i));var a=this._x1,o=this._y1,u=n-e,s=r-t,c=a-e,l=o-t,f=c*c+l*l;if(null===this._x1)this._append(GV||(GV=gz(["M",",",""])),this._x1=e,this._y1=t);else if(f>wz)if(Math.abs(l*u-s*c)>wz&&i){var d=n-a,h=r-o,p=u*u+s*s,v=d*d+h*h,m=Math.sqrt(p),y=Math.sqrt(f),g=i*Math.tan((bz-Math.acos((p+f-v)/(2*m*y)))/2),b=g/y,x=g/m;Math.abs(b-1)>wz&&this._append(QV||(QV=gz(["L",",",""])),e+b*c,t+b*l),this._append(YV||(YV=gz(["A",",",",0,0,",",",",",""])),i,i,+(l*d>c*h),this._x1=e+x*u,this._y1=t+x*s)}else this._append(KV||(KV=gz(["L",",",""])),this._x1=e,this._y1=t);else;}},{key:"arc",value:function(e,t,n,r,i,a){if(e=+e,t=+t,a=!!a,(n=+n)<0)throw new Error("negative radius: ".concat(n));var o=n*Math.cos(r),u=n*Math.sin(r),s=e+o,c=t+u,l=1^a,f=a?r-i:i-r;null===this._x1?this._append($V||($V=gz(["M",",",""])),s,c):(Math.abs(this._x1-s)>wz||Math.abs(this._y1-c)>wz)&&this._append(XV||(XV=gz(["L",",",""])),s,c),n&&(f<0&&(f=f%xz+xz),f>kz?this._append(JV||(JV=gz(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,l,e-o,t-u,n,n,l,this._x1=s,this._y1=c):f>wz&&this._append(ZV||(ZV=gz(["A",",",",0,",",",",",",",""])),n,n,+(f>=bz),l,this._x1=e+n*Math.cos(i),this._y1=t+n*Math.sin(i)))}},{key:"rect",value:function(e,t,n,r){this._append(ez||(ez=gz(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}},{key:"toString",value:function(){return this._}}]),e}();function Ez(e){var t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{var r=Math.floor(n);if(!(r>=0))throw new RangeError("invalid digits: ".concat(n));t=r}return e},function(){return new Sz(t)}}Sz.prototype;FV(3),FV(3);function Tz(){return Tz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tz.apply(this,arguments)}var Iz={symbolCircle:tz,symbolCross:nz,symbolDiamond:az,symbolSquare:oz,symbolStar:lz,symbolTriangle:dz,symbolWye:yz},jz=Math.PI/180,Oz=function(e){var t=e.className,n=e.cx,r=e.cy,a=e.size,o=mV(e,!0);return n===+n&&r===+r&&a===+a?i.createElement("path",Tz({},o,{className:IP()("recharts-symbols",t),transform:"translate(".concat(n,", ").concat(r,")"),d:function(){var t=e.size,n=e.sizeType,r=e.type,i=function(e){var t="symbol".concat(WD()(e));return Iz[t]||tz}(r),a=function(e,t){var n=null,r=Ez(i);function i(){var i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"===typeof e?e:dU(e||tz),t="function"===typeof t?t:dU(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"===typeof t?t:dU(t),i):e},i.size=function(e){return arguments.length?(t="function"===typeof e?e:dU(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(i).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*jz;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(t,n,r));return a()}()})):null};function Nz(e){return Nz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nz(e)}function Az(){return Az=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Az.apply(this,arguments)}function Cz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fz(r.key),r)}}function Dz(e,t){return Dz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dz(e,t)}function Mz(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Rz(e);if(t){var i=Rz(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Nz(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Rz(e){return Rz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rz(e)}function Lz(e,t,n){return(t=Fz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fz(e){var t=function(e,t){if("object"!==Nz(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Nz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Nz(t)?t:String(t)}Oz.defaultProps={type:"circle",size:64,sizeType:"area"},Oz.registerSymbol=function(e,t){Iz["symbol".concat(WD()(e))]=t};var Bz=32,Uz=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dz(e,t)}(o,e);var t,n,r,a=Mz(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.apply(this,arguments)}return t=o,n=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,r=Bz/6,a=Bz/3,o=e.inactive?t:e.color;if("plainline"===e.type)return i.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:Bz,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return i.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(n,"h").concat(a,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(2*a,",").concat(n,"\n            H").concat(Bz,"M").concat(2*a,",").concat(n,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(a,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return i.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(4,"h").concat(Bz,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(i.isValidElement(e.legendIcon)){var u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cz(Object(n),!0).forEach((function(t){Lz(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete u.legendIcon,i.cloneElement(e.legendIcon,u)}return i.createElement(Oz,{fill:o,cx:n,cy:n,size:Bz,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,r=t.iconSize,a=t.layout,o=t.formatter,u=t.inactiveColor,s={x:0,y:0,width:Bz,height:Bz},c={display:"horizontal"===a?"inline-block":"block",marginRight:10},l={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map((function(t,n){var a,f=t.formatter||o,d=IP()((Lz(a={"recharts-legend-item":!0},"legend-item-".concat(n),!0),Lz(a,"inactive",t.inactive),a));if("none"===t.type)return null;var h=t.inactive?u:t.color;return i.createElement("li",Az({className:d,style:c,key:"legend-item-".concat(n)},tV(e.props,t,n)),i.createElement(MV,{width:r,height:r,viewBox:s,style:l},e.renderIcon(t)),i.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},f?f(t.value,t,n):t.value))}))}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,r=e.align;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return i.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}],n&&Pz(t.prototype,n),r&&Pz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.PureComponent);function Vz(e){return Vz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vz(e)}Lz(Uz,"displayName","Legend"),Lz(Uz,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var zz=["ref"];function qz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qz(Object(n),!0).forEach((function(t){$z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xz(r.key),r)}}function Gz(e,t){return Gz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Gz(e,t)}function Kz(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yz(e);if(t){var i=Yz(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Vz(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qz(e)}(this,n)}}function Qz(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yz(e){return Yz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yz(e)}function $z(e,t,n){return(t=Xz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xz(e){var t=function(e,t){if("object"!==Vz(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Vz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Vz(t)?t:String(t)}function Jz(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zz(e){return e.value}function eq(e,t){return!0===e?AV()(t,Zz):yD()(e)?AV()(t,e):t}var tq=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gz(e,t)}(o,e);var t,n,r,a=Kz(o);function o(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $z(Qz(e=a.call.apply(a,[this].concat(n))),"state",{boxWidth:-1,boxHeight:-1}),e}return t=o,r=[{key:"getWithHeight",value:function(e,t){var n=e.props.layout;return"vertical"===n&&ZP(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(n=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){return this.wrapperNode&&this.wrapperNode.getBoundingClientRect?this.wrapperNode.getBoundingClientRect():null}},{key:"getBBoxSnapshot",value:function(){var e=this.state,t=e.boxWidth,n=e.boxHeight;return t>=0&&n>=0?{width:t,height:n}:null}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,i=r.layout,a=r.align,o=r.verticalAlign,u=r.margin,s=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===a&&"vertical"===i?{left:((s||0)-(this.getBBoxSnapshot()||{width:0}).width)/2}:"right"===a?{right:u&&u.right||0}:{left:u&&u.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===o?{top:((c||0)-(this.getBBoxSnapshot()||{height:0}).height)/2}:"bottom"===o?{bottom:u&&u.bottom||0}:{top:u&&u.top||0}),Hz(Hz({},t),n)}},{key:"updateBBox",value:function(){var e=this.state,t=e.boxWidth,n=e.boxHeight,r=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var i=this.wrapperNode.getBoundingClientRect();(Math.abs(i.width-t)>1||Math.abs(i.height-n)>1)&&this.setState({boxWidth:i.width,boxHeight:i.height},(function(){r&&r(i)}))}else-1===t&&-1===n||this.setState({boxWidth:-1,boxHeight:-1},(function(){r&&r(null)}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,r=t.width,a=t.height,o=t.wrapperStyle,u=t.payloadUniqBy,s=t.payload,c=Hz(Hz({position:"absolute",width:r||"auto",height:a||"auto"},this.getDefaultPosition(o)),o);return i.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,t){if(i.isValidElement(e))return i.cloneElement(e,t);if(yD()(e))return i.createElement(e,t);t.ref;var n=Jz(t,zz);return i.createElement(Uz,n)}(n,Hz(Hz({},this.props),{},{payload:eq(u,s)})))}}])&&Wz(t.prototype,n),r&&Wz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.PureComponent);function nq(e){return nq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nq(e)}function rq(e){return function(e){if(Array.isArray(e))return iq(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return iq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iq(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aq(Object(n),!0).forEach((function(t){uq(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uq(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==nq(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==nq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===nq(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sq(e,t,n){return _D()(e)||_D()(t)?n:eD(t)?zP()(e,t,n):yD()(t)?t(e):n}function cq(e,t,n,r){var i=XD()(e,(function(e){return sq(e,t)}));if("number"===n){var a=i.filter((function(e){return ZP(e)||parseFloat(e)}));return a.length?[YD()(a),KD()(a)]:[1/0,-1/0]}return(r?i.filter((function(e){return!_D()(e)})):i).map((function(e){return eD(e)||e instanceof Date?e:""}))}$z(tq,"displayName","Legend"),$z(tq,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var lq=function(e){var t,n=e.type.displayName,r=e.props,i=r.stroke,a=r.fill;switch(n){case"Line":t=i;break;case"Area":case"Radar":t=i&&"none"!==i?i:a;break;default:t=a}return t},fq=function(e){var t,n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=dV(n,tq);return o?(t=o.props&&o.props.payload?o.props&&o.props.payload:"children"===a?(r||[]).reduce((function(e,t){var n=t.item,r=t.props,i=r.sectors||r.data||[];return e.concat(i.map((function(e){return{type:o.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(r||[]).map((function(e){var t=e.item,n=t.props,r=n.dataKey,i=n.name,a=n.legendType;return{inactive:n.hide,dataKey:r,type:o.props.iconType||a||"square",color:lq(t),value:i||r,payload:t.props}})),oq(oq(oq({},o.props),tq.getWithHeight(o,i)),{},{payload:t,item:o})):null},dq=function(e,t,n,r,i){var a=fV(t.props.children,OV).filter((function(e){return function(e,t,n){return!!_D()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,i,e.props.direction)}));if(a&&a.length){var o=a.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var r=sq(t,n,0),i=HP()(r)?[YD()(r),KD()(r)]:[r,r],a=o.reduce((function(e,n){var r=sq(t,n,0),a=i[0]-Math.abs(HP()(r)?r[0]:r),o=i[1]+Math.abs(HP()(r)?r[1]:r);return[Math.min(a,e[0]),Math.max(o,e[1])]}),[1/0,-1/0]);return[Math.min(a[0],e[0]),Math.max(a[1],e[1])]}),[1/0,-1/0])}return null},hq=function(e,t,n,r,i){var a=t.map((function(t){var a=t.props.dataKey;return"number"===n&&a&&dq(e,t,a,r)||cq(e,a,n,i)}));if("number"===n)return a.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var o={};return a.reduce((function(e,t){for(var n=0,r=t.length;n<r;n++)o[t[n]]||(o[t[n]]=!0,e.push(t[n]));return e}),[])},pq=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},vq=function(e,t,n){var r,i,a=e.map((function(e){return e.coordinate===t&&(r=!0),e.coordinate===n&&(i=!0),e.coordinate}));return r||a.push(t),i||a.push(n),a},mq=function(e,t,n){if(!e)return null;var r=e.scale,i=e.duplicateDomain,a=e.type,o=e.range,u="scaleBand"===e.realScaleType?r.bandwidth()/2:2,s=(t||n)&&"category"===a&&r.bandwidth?r.bandwidth()/u:0;return s="angleAxis"===e.axisType&&(null===o||void 0===o?void 0:o.length)>=2?2*XP(o[0]-o[1])*s:s,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=i?i.indexOf(e):e;return{coordinate:r(t)+s,value:e,offset:s}})).filter((function(e){return!GP()(e.coordinate)})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:r(e)+s,value:e,index:t,offset:s}})):r.ticks&&!n?r.ticks(e.tickCount).map((function(e){return{coordinate:r(e)+s,value:e,offset:s}})):r.domain().map((function(e,t){return{coordinate:r(e)+s,value:i?i[e]:e,index:t,offset:s}}))},yq=function(e,t,n){var r;return yD()(n)?r=n:yD()(t)&&(r=t),yD()(e)||r?function(t,n,i,a){yD()(e)&&e(t,n,i,a),yD()(r)&&r(t,n,i,a)}:null},gq=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,u=e.axisType;if("auto"===i)return"radial"===o&&"radiusAxis"===u?{scale:uM(),realScaleType:"band"}:"radial"===o&&"angleAxis"===u?{scale:$R(),realScaleType:"linear"}:"category"===a&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:cM(),realScaleType:"point"}:"category"===a?{scale:uM(),realScaleType:"band"}:{scale:$R(),realScaleType:"linear"};if($P()(i)){var s="scale".concat(WD()(i));return{scale:(t[s]||cM)(),realScaleType:t[s]?s:"point"}}return yD()(i)?{scale:i}:{scale:cM(),realScaleType:"point"}},bq=1e-4,xq=function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-bq,a=Math.max(r[0],r[1])+bq,o=e(t[0]),u=e(t[n-1]);(o<i||o>a||u<i||u>a)&&e.domain([t[0],t[n-1]])}},wq={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var u=GP()(e[o][n][1])?e[o][n][0]:e[o][n][1];u>=0?(e[o][n][0]=i,e[o][n][1]=i+u,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+u,a=e[o][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,a=0,o=e[0].length;a<o;++a){for(i=n=0;n<r;++n)i+=e[n][a][1]||0;if(i)for(n=0;n<r;++n)e[n][a][1]/=i}lU(e,t)}},none:lU,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],a=i.length;r<a;++r){for(var o=0,u=0;o<n;++o)u+=e[o][r][1]||0;i[r][1]+=i[r][0]=-u/2}lU(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,a=0,o=1;o<r;++o){for(var u=0,s=0,c=0;u<i;++u){for(var l=e[t[u]],f=l[o][1]||0,d=(f-(l[o-1][1]||0))/2,h=0;h<u;++h){var p=e[t[h]];d+=(p[o][1]||0)-(p[o-1][1]||0)}s+=f,c+=d*f}n[o-1][1]+=n[o-1][0]=a,s&&(a-=c/s)}n[o-1][1]+=n[o-1][0]=a,lU(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=GP()(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}}},kq=function(e,t,n){var r=t.map((function(e){return e.props.dataKey})),i=function(){var e=dU([]),t=hU,n=lU,r=pU;function i(i){var a,o,u,s=Array.from(e.apply(this,arguments),vU),c=s.length,l=-1,f=A(i);try{for(f.s();!(u=f.n()).done;){var d=u.value;for(a=0,++l;a<c;++a)(s[a][l]=[0,+r(d,s[a].key,l,i)]).data=d}}catch(h){f.e(h)}finally{f.f()}for(a=0,o=fU(t(s));a<c;++a)s[o[a]].index=a;return n(s,o),s}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:dU(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:dU(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?hU:"function"===typeof e?e:dU(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?lU:e,i):n},i}().keys(r).value((function(e,t){return+sq(e,t,0)})).order(hU).offset(wq[n]);return i(e)},_q=function(e,t){var n=t.realScaleType,r=t.type,i=t.tickCount,a=t.originalDomain,o=t.allowDecimals,u=n||t.scale;if("auto"!==u&&"linear"!==u)return null;if(i&&"number"===r&&a&&("auto"===a[0]||"auto"===a[1])){var s=e.domain();if(!s.length)return null;var c=qU(s,i,o);return e.domain([YD()(c),KD()(c)]),{niceTicks:c}}if(i&&"number"===r){var l=e.domain();return{niceTicks:HU(l,i,o)}}return null},Sq=function(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!_D()(i[t.dataKey])){var u=oD(n,"value",i[t.dataKey]);if(u)return u.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var s=sq(i,_D()(o)?t.dataKey:o);return _D()(s)?null:t.scale(s)},Eq=function(e){var t=e.axis,n=e.ticks,r=e.offset,i=e.bandSize,a=e.entry,o=e.index;if("category"===t.type)return n[o]?n[o].coordinate+r:null;var u=sq(a,t.dataKey,t.domain[o]);return _D()(u)?null:t.scale(u)-i/2+r},Tq=function(e,t,n){return Object.keys(e).reduce((function(r,i){var a=e[i].stackedData.reduce((function(e,r){var i=r.slice(t,n+1).reduce((function(e,t){return[YD()(t.concat([e[0]]).filter(ZP)),KD()(t.concat([e[1]]).filter(ZP))]}),[1/0,-1/0]);return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]}),[1/0,-1/0]);return[Math.min(a[0],r[0]),Math.max(a[1],r[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},Iq=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jq=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Oq=function(e,t,n){if(yD()(e))return e(t,n);if(!HP()(e))return t;var r=[];if(ZP(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(Iq.test(e[0])){var i=+Iq.exec(e[0])[1];r[0]=t[0]-i}else yD()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(ZP(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(jq.test(e[1])){var a=+jq.exec(e[1])[1];r[1]=t[1]+a}else yD()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},Nq=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=bD()(t,(function(e){return e.coordinate})),a=1/0,o=1,u=i.length;o<u;o++){var s=i[o],c=i[o-1];a=Math.min((s.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0},Aq=function(e,t,n){return e&&e.length?qD()(e,zP()(n,"type.defaultProps.domain"))?t:e:t},Cq=function(e,t){var n=e.props,r=n.dataKey,i=n.name,a=n.unit,o=n.formatter,u=n.tooltipType,s=n.chartType;return oq(oq({},mV(e)),{},{dataKey:r,unit:a,formatter:o,name:i||r,color:lq(e),value:sq(t,r),type:u,payload:t,chartType:s})},Pq=n(2007),Dq=n.n(Pq),Mq=Object.getOwnPropertyNames,Rq=Object.getOwnPropertySymbols,Lq=Object.prototype.hasOwnProperty;function Fq(e,t){return function(n,r,i){return e(n,r,i)&&t(n,r,i)}}function Bq(e){return function(t,n,r){if(!t||!n||"object"!==typeof t||"object"!==typeof n)return e(t,n,r);var i=r.cache,a=i.get(t),o=i.get(n);if(a&&o)return a===n&&o===t;i.set(t,n),i.set(n,t);var u=e(t,n,r);return i.delete(t),i.delete(n),u}}function Uq(e){return Mq(e).concat(Rq(e))}var Vq=Object.hasOwn||function(e,t){return Lq.call(e,t)};function zq(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var qq="_owner",Hq=Object.getOwnPropertyDescriptor,Wq=Object.keys;function Gq(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function Kq(e,t){return zq(e.getTime(),t.getTime())}function Qq(e,t,n){if(e.size!==t.size)return!1;for(var r,i,a={},o=e.entries(),u=0;(r=o.next())&&!r.done;){for(var s=t.entries(),c=!1,l=0;(i=s.next())&&!i.done;){var f=r.value,d=f[0],h=f[1],p=i.value,v=p[0],m=p[1];c||a[l]||!(c=n.equals(d,v,u,l,e,t,n)&&n.equals(h,m,d,v,e,t,n))||(a[l]=!0),l++}if(!c)return!1;u++}return!0}function Yq(e,t,n){var r,i=Wq(e),a=i.length;if(Wq(t).length!==a)return!1;for(;a-- >0;){if((r=i[a])===qq&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof)return!1;if(!Vq(t,r)||!n.equals(e[r],t[r],r,r,e,t,n))return!1}return!0}function $q(e,t,n){var r,i,a,o=Uq(e),u=o.length;if(Uq(t).length!==u)return!1;for(;u-- >0;){if((r=o[u])===qq&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof)return!1;if(!Vq(t,r))return!1;if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;if(i=Hq(e,r),a=Hq(t,r),(i||a)&&(!i||!a||i.configurable!==a.configurable||i.enumerable!==a.enumerable||i.writable!==a.writable))return!1}return!0}function Xq(e,t){return zq(e.valueOf(),t.valueOf())}function Jq(e,t){return e.source===t.source&&e.flags===t.flags}function Zq(e,t,n){if(e.size!==t.size)return!1;for(var r,i,a={},o=e.values();(r=o.next())&&!r.done;){for(var u=t.values(),s=!1,c=0;(i=u.next())&&!i.done;)s||a[c]||!(s=n.equals(r.value,i.value,r.value,i.value,e,t,n))||(a[c]=!0),c++;if(!s)return!1}return!0}function eH(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}var tH="[object Arguments]",nH="[object Boolean]",rH="[object Date]",iH="[object Map]",aH="[object Number]",oH="[object Object]",uH="[object RegExp]",sH="[object Set]",cH="[object String]",lH=Array.isArray,fH="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,dH=Object.assign,hH=Object.prototype.toString.call.bind(Object.prototype.toString);var pH=vH();vH({strict:!0}),vH({circular:!0}),vH({circular:!0,strict:!0}),vH({createInternalComparator:function(){return zq}}),vH({strict:!0,createInternalComparator:function(){return zq}}),vH({circular:!0,createInternalComparator:function(){return zq}}),vH({circular:!0,createInternalComparator:function(){return zq},strict:!0});function vH(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,i=e.createInternalComparator,a=e.createState,o=e.strict,u=void 0!==o&&o,s=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?$q:Gq,areDatesEqual:Kq,areMapsEqual:r?Fq(Qq,$q):Qq,areObjectsEqual:r?$q:Yq,arePrimitiveWrappersEqual:Xq,areRegExpsEqual:Jq,areSetsEqual:r?Fq(Zq,$q):Zq,areTypedArraysEqual:r?$q:eH};if(n&&(i=dH({},i,n(i))),t){var a=Bq(i.areArraysEqual),o=Bq(i.areMapsEqual),u=Bq(i.areObjectsEqual),s=Bq(i.areSetsEqual);i=dH({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:u,areSetsEqual:s})}return i}(e),c=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areMapsEqual,i=e.areObjectsEqual,a=e.arePrimitiveWrappersEqual,o=e.areRegExpsEqual,u=e.areSetsEqual,s=e.areTypedArraysEqual;return function(e,c,l){if(e===c)return!0;if(null==e||null==c||"object"!==typeof e||"object"!==typeof c)return e!==e&&c!==c;var f=e.constructor;if(f!==c.constructor)return!1;if(f===Object)return i(e,c,l);if(lH(e))return t(e,c,l);if(null!=fH&&fH(e))return s(e,c,l);if(f===Date)return n(e,c,l);if(f===RegExp)return o(e,c,l);if(f===Map)return r(e,c,l);if(f===Set)return u(e,c,l);var d=hH(e);return d===rH?n(e,c,l):d===uH?o(e,c,l):d===iH?r(e,c,l):d===sH?u(e,c,l):d===oH?"function"!==typeof e.then&&"function"!==typeof c.then&&i(e,c,l):d===tH?i(e,c,l):(d===nH||d===aH||d===cH)&&a(e,c,l)}}(s),l=i?i(c):(t=c,function(e,n,r,i,a,o,u){return t(e,n,u)});return function(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,a=e.strict;if(r)return function(e,o){var u=r(),s=u.cache,c=void 0===s?t?new WeakMap:void 0:s,l=u.meta;return n(e,o,{cache:c,equals:i,meta:l,strict:a})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(e,t){return n(e,t,o)}}({circular:r,comparator:c,createState:a,equals:l,strict:u})}function mH(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame((function r(i){n<0&&(n=i),i-n>t?(e(i),n=-1):requestAnimationFrame(r)}))}function yH(e){return yH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yH(e)}function gH(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return bH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bH(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xH(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var i=gH(r),a=i[0],o=i.slice(1);return"number"===typeof a?void mH(n.bind(null,o),a):(n(a),void mH(n.bind(null,o)))}"object"===yH(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function wH(e){return wH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wH(e)}function kH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kH(Object(n),!0).forEach((function(t){SH(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function SH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==wH(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==wH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===wH(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var EH=["Webkit","Moz","O","ms"],TH=["-webkit-","-moz-","-o-","-ms-"],IH=["transform","transformOrigin","transition"],jH=function(e){return e},OH=function(e,t){return Object.keys(t).reduce((function(n,r){return _H(_H({},n),{},SH({},r,e(r,t[r])))}),{})},NH=function(e){return Object.keys(e).reduce((function(e,t){return _H(_H({},e),function(e,t){if(-1===IH.indexOf(e))return SH({},e,Number.isNaN(t)?0:t);var n="transition"===e,r=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),i=t;return EH.reduce((function(e,a,o){return n&&(i=t.replace(/(transform|transform-origin)/gim,"".concat(TH[o],"$1"))),_H(_H({},e),{},SH({},a+r,i))}),{})}(t,e[t]))}),e)},AH=function(e,t,n){return e.map((function(e){return"".concat((r=e,r.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(n);var r})).join(",")};function CH(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||DH(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PH(e){return function(e){if(Array.isArray(e))return MH(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||DH(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DH(e,t){if(e){if("string"===typeof e)return MH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?MH(e,t):void 0}}function MH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var RH=1e-4,LH=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},FH=function(e,t){return e.map((function(e,n){return e*Math.pow(t,n)})).reduce((function(e,t){return e+t}))},BH=function(e,t){return function(n){var r=LH(e,t);return FH(r,n)}},UH=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],a=t[2],o=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,i=0,a=1,o=1;break;case"ease":r=.25,i=.1,a=.25,o=1;break;case"ease-in":r=.42,i=0,a=1,o=1;break;case"ease-out":r=.42,i=0,a=.58,o=1;break;case"ease-in-out":r=0,i=0,a=.58,o=1;break;default:var u=t[0].split("(");if("cubic-bezier"===u[0]&&4===u[1].split(")")[0].split(",").length){var s=u[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),c=CH(s,4);r=c[0],i=c[1],a=c[2],o=c[3]}}[r,a,i,o].every((function(e){return"number"===typeof e&&e>=0&&e<=1}));var l,f,d=BH(r,a),h=BH(i,o),p=(l=r,f=a,function(e){var t=LH(l,f),n=[].concat(PH(t.map((function(e,t){return e*t})).slice(1)),[0]);return FH(n,e)}),v=function(e){return e>1?1:e<0?0:e},m=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=d(n)-t,a=p(n);if(Math.abs(i-t)<RH||a<RH)return h(n);n=v(n-i/a)}return h(n)};return m.isStepper=!1,m},VH=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return UH(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,i=void 0===r?8:r,a=e.dt,o=void 0===a?17:a,u=function(e,t,r){var a=r+(-(e-t)*n-r*i)*o/1e3,u=r*o/1e3+e;return Math.abs(u-t)<RH&&Math.abs(a)<RH?[t,0]:[u,a]};return u.isStepper=!0,u.dt=o,u}();default:if("cubic-bezier"===r.split("(")[0])return UH(r)}return"function"===typeof r?r:null};function zH(e){return zH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zH(e)}function qH(e){return function(e){if(Array.isArray(e))return YH(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||QH(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function WH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HH(Object(n),!0).forEach((function(t){GH(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function GH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==zH(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==zH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===zH(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KH(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||QH(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QH(e,t){if(e){if("string"===typeof e)return YH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?YH(e,t):void 0}}function YH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $H=function(e,t,n){return e+(t-e)*n},XH=function(e){return e.from!==e.to},JH=function e(t,n,r){var i=OH((function(e,n){if(XH(n)){var r=KH(t(n.from,n.to,n.velocity),2),i=r[0],a=r[1];return WH(WH({},n),{},{from:i,velocity:a})}return n}),n);return r<1?OH((function(e,t){return XH(t)?WH(WH({},t),{},{velocity:$H(t.velocity,i[e].velocity,r),from:$H(t.from,i[e].from,r)}):t}),n):e(t,i,r-1)},ZH=function(e,t,n,r,i){var a,o,u,s,c=(a=e,o=t,[Object.keys(a),Object.keys(o)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),l=c.reduce((function(n,r){return WH(WH({},n),{},GH({},r,[e[r],t[r]]))}),{}),f=c.reduce((function(n,r){return WH(WH({},n),{},GH({},r,{from:e[r],velocity:0,to:t[r]}))}),{}),d=-1,h=function(){return null};return h=n.isStepper?function(r){u||(u=r);var a=(r-u)/n.dt;f=JH(n,f,a),i(WH(WH(WH({},e),t),OH((function(e,t){return t.from}),f))),u=r,Object.values(f).filter(XH).length&&(d=requestAnimationFrame(h))}:function(a){s||(s=a);var o=(a-s)/r,u=OH((function(e,t){return $H.apply(void 0,qH(t).concat([n(o)]))}),l);if(i(WH(WH(WH({},e),t),u)),o<1)d=requestAnimationFrame(h);else{var c=OH((function(e,t){return $H.apply(void 0,qH(t).concat([n(1)]))}),l);i(WH(WH(WH({},e),t),c))}},function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(d)}}};function eW(e){return eW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eW(e)}var tW=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function nW(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rW(e){return function(e){if(Array.isArray(e))return iW(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return iW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iW(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aW(Object(n),!0).forEach((function(t){uW(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uW(e,t,n){return(t=cW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cW(r.key),r)}}function cW(e){var t=function(e,t){if("object"!==eW(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eW(t)?t:String(t)}function lW(e,t){return lW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lW(e,t)}function fW(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pW(e);if(t){var i=pW(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dW(this,n)}}function dW(e,t){if(t&&("object"===eW(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hW(e)}function hW(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pW(e){return pW=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pW(e)}var vW=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lW(e,t)}(o,e);var t,n,r,a=fW(o);function o(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var r=(n=a.call(this,e,t)).props,i=r.isActive,u=r.attributeName,s=r.from,c=r.to,l=r.steps,f=r.children,d=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(hW(n)),n.changeStyle=n.changeStyle.bind(hW(n)),!i||d<=0)return n.state={style:{}},"function"===typeof f&&(n.state={style:c}),dW(n);if(l&&l.length)n.state={style:l[0].style};else if(s){if("function"===typeof f)return n.state={style:s},dW(n);n.state={style:u?uW({},u,s):s}}else n.state={style:{}};return n}return t=o,n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,i=t.attributeName,a=t.shouldReAnimate,o=t.to,u=t.from,s=this.state.style;if(r)if(n){if(!(pH(e.to,o)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var l=c||a?u:e.to;if(this.state&&s){var f={style:i?uW({},i,l):l};(i&&[i]!==l||!i&&s!==l)&&this.setState(f)}this.runAnimation(oW(oW({},this.props),{},{from:l,begin:0}))}}else{var d={style:i?uW({},i,o):o};this.state&&s&&(i&&s[i]!==o||!i&&s!==o)&&this.setState(d)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,i=e.duration,a=e.easing,o=e.begin,u=e.onAnimationEnd,s=e.onAnimationStart,c=ZH(n,r,VH(a),i,this.changeStyle);this.manager.start([s,o,function(){t.stopJSAnimation=c()},i,u])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,i=e.onAnimationStart,a=n[0],o=a.style,u=a.duration,s=void 0===u?0:u;return this.manager.start([i].concat(rW(n.reduce((function(e,r,i){if(0===i)return e;var a=r.duration,o=r.easing,u=void 0===o?"ease":o,s=r.style,c=r.properties,l=r.onAnimationEnd,f=i>0?n[i-1]:r,d=c||Object.keys(s);if("function"===typeof u||"spring"===u)return[].concat(rW(e),[t.runJSAnimation.bind(t,{from:f.style,to:s,duration:a,easing:u}),a]);var h=AH(d,a,u),p=oW(oW(oW({},f.style),s),{},{transition:h});return[].concat(rW(e),[p,a,l]).filter(jH)}),[o,Math.max(s,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=xH());var t=e.begin,n=e.duration,r=e.attributeName,i=e.to,a=e.easing,o=e.onAnimationStart,u=e.onAnimationEnd,s=e.steps,c=e.children,l=this.manager;if(this.unSubscribe=l.subscribe(this.handleStyleChange),"function"!==typeof a&&"function"!==typeof c&&"spring"!==a)if(s.length>1)this.runStepAnimation(e);else{var f=r?uW({},r,i):i,d=AH(Object.keys(f),n,a);l.start([o,t,oW(oW({},f),{},{transition:d}),n,u])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.begin,e.duration),r=(e.attributeName,e.easing,e.isActive),a=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,nW(e,tW)),o=i.Children.count(t),u=NH(this.state.style);if("function"===typeof t)return t(u);if(!r||0===o||n<=0)return t;var s=function(e){var t=e.props,n=t.style,r=void 0===n?{}:n,o=t.className;return(0,i.cloneElement)(e,oW(oW({},a),{},{style:oW(oW({},r),u),className:o}))};return 1===o?s(i.Children.only(t)):i.createElement("div",null,i.Children.map(t,(function(e){return s(e)})))}}],n&&sW(t.prototype,n),r&&sW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.PureComponent);vW.displayName="Animate",vW.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},vW.propTypes={from:Dq().oneOfType([Dq().object,Dq().string]),to:Dq().oneOfType([Dq().object,Dq().string]),attributeName:Dq().string,duration:Dq().number,begin:Dq().number,easing:Dq().oneOfType([Dq().string,Dq().func]),steps:Dq().arrayOf(Dq().shape({duration:Dq().number.isRequired,style:Dq().object.isRequired,easing:Dq().oneOfType([Dq().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Dq().func]),properties:Dq().arrayOf("string"),onAnimationEnd:Dq().func})),children:Dq().oneOfType([Dq().node,Dq().func]),isActive:Dq().bool,canBegin:Dq().bool,onAnimationEnd:Dq().func,shouldReAnimate:Dq().bool,onAnimationStart:Dq().func,onAnimationReStart:Dq().func};var mW=vW,yW=n(8267),gW=["children","appearOptions","enterOptions","leaveOptions"];function bW(e){return bW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bW(e)}function xW(){return xW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xW.apply(this,arguments)}function wW(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kW(Object(n),!0).forEach((function(t){OW(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function SW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,NW(r.key),r)}}function EW(e,t){return EW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},EW(e,t)}function TW(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jW(e);if(t){var i=jW(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===bW(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return IW(e)}(this,n)}}function IW(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jW(e){return jW=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jW(e)}function OW(e,t,n){return(t=NW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NW(e){var t=function(e,t){if("object"!==bW(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==bW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===bW(t)?t:String(t)}void 0===Number.isFinite&&(Number.isFinite=function(e){return"number"===typeof e&&isFinite(e)});var AW=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.steps,n=e.duration;return t&&t.length?t.reduce((function(e,t){return e+(Number.isFinite(t.duration)&&t.duration>0?t.duration:0)}),0):Number.isFinite(n)?n:0},CW=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EW(e,t)}(o,e);var t,n,r,a=TW(o);function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),OW(IW(e=a.call(this)),"handleEnter",(function(t,n){var r=e.props,i=r.appearOptions,a=r.enterOptions;e.handleStyleActive(n?i:a)})),OW(IW(e),"handleExit",(function(){var t=e.props.leaveOptions;e.handleStyleActive(t)})),e.state={isActive:!1},e}return t=o,(n=[{key:"handleStyleActive",value:function(e){if(e){var t=e.onAnimationEnd?function(){e.onAnimationEnd()}:null;this.setState(_W(_W({},e),{},{onAnimationEnd:t,isActive:!0}))}}},{key:"parseTimeout",value:function(){var e=this.props,t=e.appearOptions,n=e.enterOptions,r=e.leaveOptions;return AW(t)+AW(n)+AW(r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=(t.appearOptions,t.enterOptions,t.leaveOptions,wW(t,gW));return i.createElement(yW.Transition,xW({},r,{onEnter:this.handleEnter,onExit:this.handleExit,timeout:this.parseTimeout()}),(function(){return i.createElement(mW,e.state,i.Children.only(n))}))}}])&&SW(t.prototype,n),r&&SW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.Component);CW.propTypes={appearOptions:Dq().object,enterOptions:Dq().object,leaveOptions:Dq().object,children:Dq().element};var PW=CW;function DW(e){var t=e.component,n=e.children,r=e.appear,a=e.enter,o=e.leave;return i.createElement(yW.TransitionGroup,{component:t},i.Children.map(n,(function(e,t){return i.createElement(PW,{appearOptions:r,enterOptions:a,leaveOptions:o,key:"child-".concat(t)},e)})))}DW.propTypes={appear:Dq().object,enter:Dq().object,leave:Dq().object,children:Dq().oneOfType([Dq().array,Dq().element]),component:Dq().any},DW.defaultProps={component:"span"};var MW=mW;function RW(){return RW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RW.apply(this,arguments)}function LW(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return FW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FW(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var BW=function(e,t,n,r,i){var a,o=Math.min(Math.abs(n)/2,Math.abs(r)/2),u=r>=0?1:-1,s=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(o>0&&i instanceof Array){for(var l=[0,0,0,0],f=0;f<4;f++)l[f]=i[f]>o?o:i[f];a="M".concat(e,",").concat(t+u*l[0]),l[0]>0&&(a+="A ".concat(l[0],",").concat(l[0],",0,0,").concat(c,",").concat(e+s*l[0],",").concat(t)),a+="L ".concat(e+n-s*l[1],",").concat(t),l[1]>0&&(a+="A ".concat(l[1],",").concat(l[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+u*l[1])),a+="L ".concat(e+n,",").concat(t+r-u*l[2]),l[2]>0&&(a+="A ".concat(l[2],",").concat(l[2],",0,0,").concat(c,",\n        ").concat(e+n-s*l[2],",").concat(t+r)),a+="L ".concat(e+s*l[3],",").concat(t+r),l[3]>0&&(a+="A ".concat(l[3],",").concat(l[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-u*l[3])),a+="Z"}else if(o>0&&i===+i&&i>0){var d=Math.min(o,i);a="M ".concat(e,",").concat(t+u*d,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(e+s*d,",").concat(t,"\n            L ").concat(e+n-s*d,",").concat(t,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(e+n,",").concat(t+u*d,"\n            L ").concat(e+n,",").concat(t+r-u*d,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(e+n-s*d,",").concat(t+r,"\n            L ").concat(e+s*d,",").concat(t+r,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(e,",").concat(t+r-u*d," Z")}else a="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return a},UW=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,i=t.x,a=t.y,o=t.width,u=t.height;if(Math.abs(o)>0&&Math.abs(u)>0){var s=Math.min(i,i+o),c=Math.max(i,i+o),l=Math.min(a,a+u),f=Math.max(a,a+u);return n>=s&&n<=c&&r>=l&&r<=f}return!1},VW=function(e){var t=(0,i.useRef)(),n=LW((0,i.useState)(-1),2),r=n[0],a=n[1];(0,i.useLayoutEffect)((function(){if(t.current&&t.current.getTotalLength)try{var e=t.current.getTotalLength();e&&a(e)}catch(n){}}),[]);var o=e.x,u=e.y,s=e.width,c=e.height,l=e.radius,f=e.className,d=e.animationEasing,h=e.animationDuration,p=e.animationBegin,v=e.isAnimationActive,m=e.isUpdateAnimationActive;if(o!==+o||u!==+u||s!==+s||c!==+c||0===s||0===c)return null;var y=IP()("recharts-rectangle",f);return m?i.createElement(MW,{canBegin:r>0,from:{width:s,height:c,x:o,y:u},to:{width:s,height:c,x:o,y:u},duration:h,animationEasing:d,isActive:m},(function(n){var a=n.width,o=n.height,u=n.x,s=n.y;return i.createElement(MW,{canBegin:r>0,from:"0px ".concat(-1===r?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,isActive:v,easing:d},i.createElement("path",RW({},mV(e,!0),{className:y,d:BW(u,s,a,o,l),ref:t})))})):i.createElement("path",RW({},mV(e,!0),{className:y,d:BW(o,u,s,c,l)}))};VW.defaultProps={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"};var zW=function(e){return null};zW.displayName="Cell";var qW=n(5727),HW=n.n(qW),WW=n(2692),GW=n.n(WW),KW=["dx","dy","textAnchor","verticalAnchor","scaleToFit","angle","lineHeight","capHeight","className","breakAll"];function QW(){return QW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QW.apply(this,arguments)}function YW(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return XW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XW(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var JW=/[ \f\n\r\t\v\u2028\u2029]+/,ZW=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var i=[];return _D()(t)||(i=n?t.toString().split(""):t.toString().split(JW)),{wordsWithComputedWidth:i.map((function(e){return{word:e,width:FD(e,r).width}})),spaceWidth:n?0:FD("\xa0",r).width}}catch(a){return null}},eG=function(e){return[{words:_D()(e)?[]:e.toString().split(JW)}]},tG=function(e){var t=e.width,n=e.scaleToFit,r=e.children,i=e.style,a=e.breakAll,o=e.maxLines;if((t||n)&&!TD.isSsr){var u=ZW({breakAll:a,children:r,style:i});return u?function(e,t,n,r,i){var a=e.maxLines,o=e.children,u=e.style,s=e.breakAll,c=ZP(a),l=o,f=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var a=t.word,o=t.width,u=e[e.length-1];if(u&&(null==r||i||u.width+o+n<Number(r)))u.words.push(a),u.width+=o+n;else{var s={words:[a],width:o};e.push(s)}return e}),[])},d=f(t);if(!c)return d;for(var h,p=function(e){var t=l.slice(0,e),n=ZW({breakAll:s,style:u,children:t+"\u2026"}).wordsWithComputedWidth,i=f(n),o=i.length>a||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(i).width>Number(r);return[o,i]},v=0,m=l.length-1,y=0;v<=m&&y<=l.length-1;){var g=Math.floor((v+m)/2),b=$W(p(g-1),2),x=b[0],w=b[1],k=$W(p(g),1)[0];if(x||k||(v=g+1),x&&k&&(m=g-1),!x&&k){h=w;break}y++}return h||d}({breakAll:a,children:r,maxLines:o,style:i},u.wordsWithComputedWidth,u.spaceWidth,t,n):eG(r)}return eG(r)},nG={x:0,y:0,lineHeight:"1em",capHeight:"0.71em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",fill:"#808080"},rG=function(e){var t=(0,i.useMemo)((function(){return tG({breakAll:e.breakAll,children:e.children,maxLines:e.maxLines,scaleToFit:e.scaleToFit,style:e.style,width:e.width})}),[e.breakAll,e.children,e.maxLines,e.scaleToFit,e.style,e.width]),n=e.dx,r=e.dy,a=e.textAnchor,o=e.verticalAnchor,u=e.scaleToFit,s=e.angle,c=e.lineHeight,l=e.capHeight,f=e.className,d=e.breakAll,h=YW(e,KW);if(!eD(h.x)||!eD(h.y))return null;var p,v=h.x+(ZP(n)?n:0),m=h.y+(ZP(r)?r:0);switch(o){case"start":p=GW()("calc(".concat(l,")"));break;case"middle":p=GW()("calc(".concat((t.length-1)/2," * -").concat(c," + (").concat(l," / 2))"));break;default:p=GW()("calc(".concat(t.length-1," * -").concat(c,")"))}var y=[];if(u){var g=t[0].width,b=e.width;y.push("scale(".concat((ZP(b)?b/g:1)/g,")"))}return s&&y.push("rotate(".concat(s,", ").concat(v,", ").concat(m,")")),y.length&&(h.transform=y.join(" ")),i.createElement("text",QW({},mV(h,!0),{x:v,y:m,className:IP()("recharts-text",f),textAnchor:a,fill:h.fill.includes("url")?nG.fill:h.fill}),t.map((function(e,t){return i.createElement("tspan",{x:v,dy:0===t?p:c,key:t},e.words.join(d?"":" "))})))};function iG(e){return iG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iG(e)}function aG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aG(Object(n),!0).forEach((function(t){uG(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uG(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==iG(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==iG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===iG(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sG(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return cG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cG(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}rG.defaultProps=nG;var lG=Math.PI/180,fG=function(e){return 180*e/Math.PI},dG=function(e,t,n,r){return{x:e+Math.cos(-lG*r)*n,y:t+Math.sin(-lG*r)*n}},hG=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},pG=function(e,t){var n=e.x,r=e.y,i=t.cx,a=t.cy,o=function(e,t){var n=e.x,r=e.y,i=t.x,a=t.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-a,2))}({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o};var u=(n-i)/o,s=Math.acos(u);return r>a&&(s=2*Math.PI-s),{radius:o,angle:fG(s),angleInRadian:s}},vG=function(e,t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),a=Math.floor(r/360);return e+360*Math.min(i,a)},mG=function(e,t){var n=e.x,r=e.y,i=pG({x:n,y:r},t),a=i.radius,o=i.angle,u=t.innerRadius,s=t.outerRadius;if(a<u||a>s)return!1;if(0===a)return!0;var c,l=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-360*a,endAngle:n-360*a}}(t),f=l.startAngle,d=l.endAngle,h=o;if(f<=d){for(;h>d;)h-=360;for(;h<f;)h+=360;c=h>=f&&h<=d}else{for(;h>f;)h-=360;for(;h<d;)h+=360;c=h>=d&&h<=f}return c?oG(oG({},t),{},{radius:a,angle:vG(h,t)}):null};function yG(e){return yG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yG(e)}function gG(e){return function(e){if(Array.isArray(e))return bG(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return bG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bG(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xG(Object(n),!0).forEach((function(t){kG(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kG(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==yG(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==yG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===yG(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _G(){return _G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_G.apply(this,arguments)}var SG=function(e){var t=e.value,n=e.formatter,r=_D()(e.children)?t:e.children;return yD()(n)?n(r):r},EG=function(e,t,n){var r,a,o=e.position,u=e.viewBox,s=e.offset,c=e.className,l=u,f=l.cx,d=l.cy,h=l.innerRadius,p=l.outerRadius,v=l.startAngle,m=l.endAngle,y=l.clockWise,g=(h+p)/2,b=function(e,t){return XP(t-e)*Math.min(Math.abs(t-e),360)}(v,m),x=b>=0?1:-1;"insideStart"===o?(r=v+x*s,a=y):"insideEnd"===o?(r=m-x*s,a=!y):"end"===o&&(r=m+x*s,a=y),a=b<=0?a:!a;var w=dG(f,d,g,r),k=dG(f,d,g,r+359*(a?1:-1)),_="M".concat(w.x,",").concat(w.y,"\n    A").concat(g,",").concat(g,",0,1,").concat(a?0:1,",\n    ").concat(k.x,",").concat(k.y),S=_D()(e.id)?nD("recharts-radial-line-"):e.id;return i.createElement("text",_G({},n,{dominantBaseline:"central",className:IP()("recharts-radial-bar-label",c)}),i.createElement("defs",null,i.createElement("path",{id:S,d:_})),i.createElement("textPath",{xlinkHref:"#".concat(S)},t))},TG=function(e){var t=e.viewBox,n=e.offset,r=e.position,i=t,a=i.cx,o=i.cy,u=i.innerRadius,s=i.outerRadius,c=(i.startAngle+i.endAngle)/2;if("outside"===r){var l=dG(a,o,s+n,c),f=l.x;return{x:f,y:l.y,textAnchor:f>=a?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:a,y:o,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:a,y:o,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:a,y:o,textAnchor:"middle",verticalAnchor:"end"};var d=dG(a,o,(u+s)/2,c);return{x:d.x,y:d.y,textAnchor:"middle",verticalAnchor:"middle"}},IG=function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,i=e.position,a=t,o=a.x,u=a.y,s=a.width,c=a.height,l=c>=0?1:-1,f=l*r,d=l>0?"end":"start",h=l>0?"start":"end",p=s>=0?1:-1,v=p*r,m=p>0?"end":"start",y=p>0?"start":"end";if("top"===i)return wG(wG({},{x:o+s/2,y:u-l*r,textAnchor:"middle",verticalAnchor:d}),n?{height:Math.max(u-n.y,0),width:s}:{});if("bottom"===i)return wG(wG({},{x:o+s/2,y:u+c+f,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(n.y+n.height-(u+c),0),width:s}:{});if("left"===i){var g={x:o-v,y:u+c/2,textAnchor:m,verticalAnchor:"middle"};return wG(wG({},g),n?{width:Math.max(g.x-n.x,0),height:c}:{})}if("right"===i){var b={x:o+s+v,y:u+c/2,textAnchor:y,verticalAnchor:"middle"};return wG(wG({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:c}:{})}var x=n?{width:s,height:c}:{};return"insideLeft"===i?wG({x:o+v,y:u+c/2,textAnchor:y,verticalAnchor:"middle"},x):"insideRight"===i?wG({x:o+s-v,y:u+c/2,textAnchor:m,verticalAnchor:"middle"},x):"insideTop"===i?wG({x:o+s/2,y:u+f,textAnchor:"middle",verticalAnchor:h},x):"insideBottom"===i?wG({x:o+s/2,y:u+c-f,textAnchor:"middle",verticalAnchor:d},x):"insideTopLeft"===i?wG({x:o+v,y:u+f,textAnchor:y,verticalAnchor:h},x):"insideTopRight"===i?wG({x:o+s-v,y:u+f,textAnchor:m,verticalAnchor:h},x):"insideBottomLeft"===i?wG({x:o+v,y:u+c-f,textAnchor:y,verticalAnchor:d},x):"insideBottomRight"===i?wG({x:o+s-v,y:u+c-f,textAnchor:m,verticalAnchor:d},x):GU()(i)&&(ZP(i.x)||JP(i.x))&&(ZP(i.y)||JP(i.y))?wG({x:o+rD(i.x,s),y:u+rD(i.y,c),textAnchor:"end",verticalAnchor:"end"},x):wG({x:o+s/2,y:u+c/2,textAnchor:"middle",verticalAnchor:"middle"},x)},jG=function(e){return"cx"in e&&ZP(e.cx)};function OG(e){var t,n=e.viewBox,r=e.position,a=e.value,o=e.children,u=e.content,s=e.className,c=void 0===s?"":s,l=e.textBreakAll;if(!n||_D()(a)&&_D()(o)&&!(0,i.isValidElement)(u)&&!yD()(u))return null;if((0,i.isValidElement)(u))return(0,i.cloneElement)(u,e);if(yD()(u)){if(t=(0,i.createElement)(u,e),(0,i.isValidElement)(t))return t}else t=SG(e);var f=jG(n),d=mV(e,!0);if(f&&("insideStart"===r||"insideEnd"===r||"end"===r))return EG(e,t,d);var h=f?TG(e):IG(e);return i.createElement(rG,_G({className:IP()("recharts-label",c)},d,h,{breakAll:l}),t)}OG.displayName="Label",OG.defaultProps={offset:5};var NG=function(e){var t=e.cx,n=e.cy,r=e.angle,i=e.startAngle,a=e.endAngle,o=e.r,u=e.radius,s=e.innerRadius,c=e.outerRadius,l=e.x,f=e.y,d=e.top,h=e.left,p=e.width,v=e.height,m=e.clockWise,y=e.labelViewBox;if(y)return y;if(ZP(p)&&ZP(v)){if(ZP(l)&&ZP(f))return{x:l,y:f,width:p,height:v};if(ZP(d)&&ZP(h))return{x:d,y:h,width:p,height:v}}return ZP(l)&&ZP(f)?{x:l,y:f,width:0,height:0}:ZP(t)&&ZP(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:a||r||0,innerRadius:s||0,outerRadius:c||u||o||0,clockWise:m}:e.viewBox?e.viewBox:{}};function AG(e){return AG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AG(e)}OG.parseViewBox=NG,OG.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=e.children,a=NG(e),o=fV(r,OG).map((function(e,n){return(0,i.cloneElement)(e,{viewBox:t||a,key:"label-".concat(n)})}));if(!n)return o;var u=function(e,t){return e?!0===e?i.createElement(OG,{key:"label-implicit",viewBox:t}):eD(e)?i.createElement(OG,{key:"label-implicit",viewBox:t,value:e}):(0,i.isValidElement)(e)?e.type===OG?(0,i.cloneElement)(e,{key:"label-implicit",viewBox:t}):i.createElement(OG,{key:"label-implicit",content:e,viewBox:t}):yD()(e)?i.createElement(OG,{key:"label-implicit",content:e,viewBox:t}):GU()(e)?i.createElement(OG,_G({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||a);return[u].concat(gG(o))};var CG=["data","valueAccessor","dataKey","clockWise","id","textBreakAll"];function PG(e){return function(e){if(Array.isArray(e))return DG(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return DG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DG(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function MG(){return MG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MG.apply(this,arguments)}function RG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function LG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RG(Object(n),!0).forEach((function(t){FG(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function FG(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==AG(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==AG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===AG(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BG(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var UG={valueAccessor:function(e){return HP()(e.value)?HW()(e.value):e.value}};function VG(e){var t=e.data,n=e.valueAccessor,r=e.dataKey,a=e.clockWise,o=e.id,u=e.textBreakAll,s=BG(e,CG);return t&&t.length?i.createElement(_V,{className:"recharts-label-list"},t.map((function(e,t){var c=_D()(r)?n(e,t):sq(e&&e.payload,r),l=_D()(o)?{}:{id:"".concat(o,"-").concat(t)};return i.createElement(OG,MG({},mV(e,!0),s,l,{parentViewBox:e.parentViewBox,index:t,value:c,textBreakAll:u,viewBox:OG.parseViewBox(_D()(a)?e:LG(LG({},e),{},{clockWise:a})),key:"label-".concat(t)}))}))):null}VG.displayName="LabelList",VG.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=fV(e.children,VG).map((function(e,n){return(0,i.cloneElement)(e,{data:t,key:"labelList-".concat(n)})}));return n?[function(e,t){return e?!0===e?i.createElement(VG,{key:"labelList-implicit",data:t}):i.isValidElement(e)||yD()(e)?i.createElement(VG,{key:"labelList-implicit",data:t,content:e}):GU()(e)?i.createElement(VG,MG({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t)].concat(PG(r)):r},VG.defaultProps=UG;var zG=["value","background"];function qG(e){return qG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qG(e)}function HG(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function WG(){return WG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WG.apply(this,arguments)}function GG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function KG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GG(Object(n),!0).forEach((function(t){ZG(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function QG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eK(r.key),r)}}function YG(e,t){return YG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},YG(e,t)}function $G(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=JG(e);if(t){var i=JG(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===qG(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return XG(e)}(this,n)}}function XG(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JG(e){return JG=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},JG(e)}function ZG(e,t,n){return(t=eK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eK(e){var t=function(e,t){if("object"!==qG(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==qG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===qG(t)?t:String(t)}var tK=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YG(e,t)}(o,e);var t,n,r,a=$G(o);function o(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ZG(XG(e=a.call.apply(a,[this].concat(n))),"state",{isAnimationFinished:!1}),ZG(XG(e),"id",nD("recharts-bar-")),ZG(XG(e),"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()})),ZG(XG(e),"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()})),e}return t=o,n=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props.shape,r=mV(this.props);return e&&e.map((function(e,a){var u=KG(KG(KG({},r),e),{},{index:a});return i.createElement(_V,WG({className:"recharts-bar-rectangle"},tV(t.props,e,a),{key:"rectangle-".concat(a)}),o.renderRectangle(n,u))}))}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,r=t.layout,a=t.isAnimationActive,o=t.animationBegin,u=t.animationDuration,s=t.animationEasing,c=t.animationId,l=this.state.prevData;return i.createElement(MW,{begin:o,duration:u,isActive:a,easing:s,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var a=t.t,o=n.map((function(e,t){var n=l&&l[t];if(n){var i=aD(n.x,e.x),o=aD(n.y,e.y),u=aD(n.width,e.width),s=aD(n.height,e.height);return KG(KG({},e),{},{x:i(a),y:o(a),width:u(a),height:s(a)})}if("horizontal"===r){var c=aD(0,e.height)(a);return KG(KG({},e),{},{y:e.y+e.height-c,height:c})}var f=aD(0,e.width)(a);return KG(KG({},e),{},{width:f})}));return i.createElement(_V,null,e.renderRectanglesStatically(o))}))}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&qD()(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props.data,n=mV(this.props.background);return t.map((function(t,r){t.value;var i=t.background,a=HG(t,zG);if(!i)return null;var u=KG(KG(KG(KG(KG({},a),{},{fill:"#eee"},i),n),tV(e.props,t,r)),{},{index:r,key:"background-bar-".concat(r),className:"recharts-bar-background-rectangle"});return o.renderRectangle(e.props.background,u)}))}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.data,a=n.xAxis,o=n.yAxis,u=n.layout,s=fV(n.children,OV);if(!s)return null;var c="vertical"===u?r[0].height/2:r[0].width/2,l=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:sq(e,t)}},f={clipPath:e?"url(#clipPath-".concat(t,")"):null};return i.createElement(_V,f,s.map((function(e,t){return i.cloneElement(e,{key:"error-bar-".concat(t),data:r,xAxis:a,yAxis:o,layout:u,offset:c,dataPointFormatter:l})})))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,r=e.className,a=e.xAxis,o=e.yAxis,u=e.left,s=e.top,c=e.width,l=e.height,f=e.isAnimationActive,d=e.background,h=e.id;if(t||!n||!n.length)return null;var p=this.state.isAnimationFinished,v=IP()("recharts-bar",r),m=a&&a.allowDataOverflow,y=o&&o.allowDataOverflow,g=m||y,b=_D()(h)?this.id:h;return i.createElement(_V,{className:v},m||y?i.createElement("defs",null,i.createElement("clipPath",{id:"clipPath-".concat(b)},i.createElement("rect",{x:m?u:u-c/2,y:y?s:s-l/2,width:m?c:2*c,height:y?l:2*l}))):null,i.createElement(_V,{className:"recharts-bar-rectangles",clipPath:g?"url(#clipPath-".concat(b,")"):null},d?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(g,b),(!f||p)&&VG.renderCallByParent(this.props,n))}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}},{key:"renderRectangle",value:function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):yD()(e)?e(t):i.createElement(VW,t)}}],n&&QG(t.prototype,n),r&&QG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.PureComponent);function nK(e){return nK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nK(e)}function rK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uK(r.key),r)}}function iK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iK(Object(n),!0).forEach((function(t){oK(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iK(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oK(e,t,n){return(t=uK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uK(e){var t=function(e,t){if("object"!==nK(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==nK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===nK(t)?t:String(t)}ZG(tK,"displayName","Bar"),ZG(tK,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",isAnimationActive:!TD.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),ZG(tK,"getComposedData",(function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,u=e.xAxisTicks,s=e.yAxisTicks,c=e.stackedData,l=e.dataStartIndex,f=e.displayedData,d=e.offset,h=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!h)return null;var p=t.layout,v=n.props,m=v.dataKey,y=v.children,g=v.minPointSize,b="horizontal"===p?o:a,x=c?b.scale.domain():null,w=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]}({numericAxis:b}),k=fV(y,zW),_=f.map((function(e,t){var r,f,d,v,y,b;if(c?r=function(e,t){if(!t||2!==t.length||!ZP(t[0])||!ZP(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!ZP(e[0])||e[0]<n)&&(i[0]=n),(!ZP(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i}(c[l+t],x):(r=sq(e,m),HP()(r)||(r=[w,r])),"horizontal"===p){var _,S=[o.scale(r[0]),o.scale(r[1])],E=S[0],T=S[1];f=Eq({axis:a,ticks:u,bandSize:i,offset:h.offset,entry:e,index:t}),d=null!==(_=null!==T&&void 0!==T?T:E)&&void 0!==_?_:void 0,v=h.size;var I=E-T;if(y=Number.isNaN(I)?0:I,b={x:f,y:o.y,width:v,height:o.height},Math.abs(g)>0&&Math.abs(y)<Math.abs(g)){var j=XP(y||g)*(Math.abs(g)-Math.abs(y));d-=j,y+=j}}else{var O=[a.scale(r[0]),a.scale(r[1])],N=O[0],A=O[1];if(f=N,d=Eq({axis:o,ticks:s,bandSize:i,offset:h.offset,entry:e,index:t}),v=A-N,y=h.size,b={x:a.x,y:d,width:a.width,height:y},Math.abs(g)>0&&Math.abs(v)<Math.abs(g))v+=XP(v||g)*(Math.abs(g)-Math.abs(v))}return KG(KG(KG({},e),{},{x:f,y:d,width:v,height:y,value:c?r:r[1],payload:e,background:b},k&&k[t]&&k[t].props),{},{tooltipPayload:[Cq(n,e)],tooltipPosition:{x:f+v/2,y:d+y/2}})}));return KG({data:_,layout:p},d)}));var sK=function(e,t,n,r,i){var a=e.width,o=e.height,u=e.layout,s=e.children,c=Object.keys(t),l={left:n.left,leftMirror:n.left,right:a-n.right,rightMirror:a-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},f=!!dV(s,tK);return c.reduce((function(a,o){var s,c,d,h,p,v=t[o],m=v.orientation,y=v.domain,g=v.padding,b=void 0===g?{}:g,x=v.mirror,w=v.reversed,k="".concat(m).concat(x?"Mirror":"");if("number"===v.type&&("gap"===v.padding||"no-gap"===v.padding)){var _=y[1]-y[0],S=1/0,E=v.categoricalDomain.sort();E.forEach((function(e,t){t>0&&(S=Math.min((e||0)-(E[t-1]||0),S))}));var T=S/_,I="vertical"===v.layout?n.height:n.width;if("gap"===v.padding&&(s=T*I/2),"no-gap"===v.padding){var j=rD(e.barCategoryGap,T*I),O=T*I/2;s=O-j-(O-j)/I*j}}c="xAxis"===r?[n.left+(b.left||0)+(s||0),n.left+n.width-(b.right||0)-(s||0)]:"yAxis"===r?"horizontal"===u?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(s||0),n.top+n.height-(b.bottom||0)-(s||0)]:v.range,w&&(c=[c[1],c[0]]);var N=gq(v,i,f),A=N.scale,C=N.realScaleType;A.domain(y).range(c),xq(A);var P=_q(A,aK(aK({},v),{},{realScaleType:C}));"xAxis"===r?(p="top"===m&&!x||"bottom"===m&&x,d=n.left,h=l[k]-p*v.height):"yAxis"===r&&(p="left"===m&&!x||"right"===m&&x,d=l[k]-p*v.width,h=n.top);var D=aK(aK(aK({},v),P),{},{realScaleType:C,x:d,y:h,scale:A,width:"xAxis"===r?n.width:v.width,height:"yAxis"===r?n.height:v.height});return D.bandSize=Nq(D,P),v.hide||"xAxis"!==r?v.hide||(l[k]+=(p?-1:1)*D.width):l[k]+=(p?-1:1)*D.height,aK(aK({},a),{},oK({},o,D))}),{})},cK=function(e,t){var n=e.x,r=e.y,i=t.x,a=t.y;return{x:Math.min(n,i),y:Math.min(r,a),width:Math.abs(i-n),height:Math.abs(a-r)}},lK=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}var t,n,r;return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i;case"end":var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&rK(t.prototype,n),r&&rK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();oK(lK,"EPS",1e-4);var fK=function(e){var t=Object.keys(e).reduce((function(t,n){return aK(aK({},t),{},oK({},n,lK.create(e[n])))}),{});return aK(aK({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return VD()(e,(function(e,n){return t[n].apply(e,{bandAware:r,position:i})}))},isInRange:function(e){return hD()(e,(function(e,n){return t[n].isInRange(e)}))}})};var dK=function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,a=Math.atan(n/t),o=i>a&&i<Math.PI-a?n/Math.sin(i):t/Math.cos(i);return Math.abs(o)};function hK(e){return hK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hK(e)}function pK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pK(Object(n),!0).forEach((function(t){mK(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pK(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mK(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==hK(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==hK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===hK(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yK(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return dK(r,n)}function gK(e,t){var n,r,i=e.angle,a=e.ticks,o=e.tickFormatter,u=e.viewBox,s=e.orientation,c=e.minTickGap,l=e.unit,f=e.fontSize,d=e.letterSpacing,h=u.x,p=u.y,v=u.width,m=u.height,y="top"===s||"bottom"===s?"width":"height",g=(a||[]).slice(),b=l&&"width"===y?FD(l,{fontSize:f,letterSpacing:d}):{width:0,height:0},x=g.length,w=x>=2?XP(g[1].coordinate-g[0].coordinate):1;if(1===w?(n="width"===y?h:p,r="width"===y?h+v:p+m):(n="width"===y?h+v:p+m,r="width"===y?h:p),t){var k=a[x-1],_=yD()(o)?o(k.value,x-1):k.value,S="width"===y?yK(FD(_,{fontSize:f,letterSpacing:d}),b,i):FD(_,{fontSize:f,letterSpacing:d})[y],E=w*(k.coordinate+w*S/2-r);g[x-1]=k=vK(vK({},k),{},{tickCoord:E>0?k.coordinate-E*w:k.coordinate}),w*(k.tickCoord-w*S/2-n)>=0&&w*(k.tickCoord+w*S/2-r)<=0&&(r=k.tickCoord-w*(S/2+c),g[x-1]=vK(vK({},k),{},{isShow:!0}))}for(var T=t?x-1:x,I=0;I<T;I++){var j=g[I],O=yD()(o)?o(j.value,I):j.value,N="width"===y?yK(FD(O,{fontSize:f,letterSpacing:d}),b,i):FD(O,{fontSize:f,letterSpacing:d})[y];if(0===I){var A=w*(j.coordinate-w*N/2-n);g[I]=j=vK(vK({},j),{},{tickCoord:A<0?j.coordinate-A*w:j.coordinate})}else g[I]=j=vK(vK({},j),{},{tickCoord:j.coordinate});w*(j.tickCoord-w*N/2-n)>=0&&w*(j.tickCoord+w*N/2-r)<=0&&(n=j.tickCoord+w*(N/2+c),g[I]=vK(vK({},j),{},{isShow:!0}))}return g}function bK(e,t,n){var r=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,u=e.orientation,s=e.interval,c=e.tickFormatter,l=e.unit,f=e.angle;if(!i||!i.length||!r)return[];if(ZP(s)||TD.isSsr)return function(e,t){return BD(e,t+1)}(i,"number"===typeof s&&ZP(s)?s:0);var d=[];return"equidistantPreserveStart"===s?function(e){for(var t=1,n=BD(e,t,(function(e){return e.isShow}));t<=e.length;){if(void 0!==n)return n;n=BD(e,++t,(function(e){return e.isShow}))}return e.slice(0,1)}(d=gK({angle:f,ticks:i,tickFormatter:c,viewBox:a,orientation:u,minTickGap:o,unit:l,fontSize:t,letterSpacing:n})):(d="preserveStart"===s||"preserveStartEnd"===s?gK({angle:f,ticks:i,tickFormatter:c,viewBox:a,orientation:u,minTickGap:o,unit:l,fontSize:t,letterSpacing:n},"preserveStartEnd"===s):function(e){var t,n,r=e.angle,i=e.ticks,a=e.tickFormatter,o=e.viewBox,u=e.orientation,s=e.minTickGap,c=e.unit,l=e.fontSize,f=e.letterSpacing,d=o.x,h=o.y,p=o.width,v=o.height,m="top"===u||"bottom"===u?"width":"height",y=c&&"width"===m?FD(c,{fontSize:l,letterSpacing:f}):{width:0,height:0},g=(i||[]).slice(),b=g.length,x=b>=2?XP(g[1].coordinate-g[0].coordinate):1;1===x?(t="width"===m?d:h,n="width"===m?d+p:h+v):(t="width"===m?d+p:h+v,n="width"===m?d:h);for(var w=b-1;w>=0;w--){var k=g[w],_=yD()(a)?a(k.value,b-w-1):k.value,S="width"===m?yK(FD(_,{fontSize:l,letterSpacing:f}),y,r):FD(_,{fontSize:l,letterSpacing:f})[m];if(w===b-1){var E=x*(k.coordinate+x*S/2-n);g[w]=k=vK(vK({},k),{},{tickCoord:E>0?k.coordinate-E*x:k.coordinate})}else g[w]=k=vK(vK({},k),{},{tickCoord:k.coordinate});x*(k.tickCoord-x*S/2-t)>=0&&x*(k.tickCoord+x*S/2-n)<=0&&(n=k.tickCoord-x*(S/2+s),g[w]=vK(vK({},k),{},{isShow:!0}))}return g}({angle:f,ticks:i,tickFormatter:c,viewBox:a,orientation:u,minTickGap:o,unit:l,fontSize:t,letterSpacing:n}),d.filter((function(e){return e.isShow})))}function xK(e){return xK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xK(e)}function wK(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return kK(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kK(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kK(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function SK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_K(Object(n),!0).forEach((function(t){EK(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function EK(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==xK(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==xK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===xK(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TK(e){return HP()(e)&&eD(e[0])&&eD(e[1])?e.join(" ~ "):e}var IK=function(e){var t=e.separator,n=void 0===t?" : ":t,r=e.contentStyle,a=void 0===r?{}:r,o=e.itemStyle,u=void 0===o?{}:o,s=e.labelStyle,c=void 0===s?{}:s,l=e.payload,f=e.formatter,d=e.itemSorter,h=e.wrapperClassName,p=e.labelClassName,v=e.label,m=e.labelFormatter,y=SK({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),g=SK({margin:0},c),b=!_D()(v),x=b?v:"",w=IP()("recharts-default-tooltip",h),k=IP()("recharts-tooltip-label",p);return b&&m&&void 0!==l&&null!==l&&(x=m(v,l)),i.createElement("div",{className:w,style:y},i.createElement("p",{className:k,style:g},i.isValidElement(x)?x:"".concat(x)),function(){if(l&&l.length){var e=(d?bD()(l,d):l).map((function(e,t){if("none"===e.type)return null;var r=SK({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},u),a=e.formatter||f||TK,o=e.value,s=e.name,c=o,d=s;if(a&&null!=c&&null!=d){var h=a(o,s,e,t,l);if(Array.isArray(h)){var p=wK(h,2);c=p[0],d=p[1]}else c=h}return i.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:r},eD(d)?i.createElement("span",{className:"recharts-tooltip-item-name"},d):null,eD(d)?i.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,i.createElement("span",{className:"recharts-tooltip-item-value"},c),i.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return i.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function jK(e){return jK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jK(e)}function OK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OK(Object(n),!0).forEach((function(t){AK(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OK(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function AK(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==jK(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==jK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===jK(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CK(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return PK(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PK(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PK(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var DK="recharts-tooltip-wrapper";function MK(e){return e.dataKey}var RK={active:!1,allowEscapeViewBox:{x:!1,y:!1},reverseDirection:{x:!1,y:!1},offset:10,viewBox:{x:0,y:0,height:0,width:0},coordinate:{x:0,y:0},cursorStyle:{},separator:" : ",wrapperStyle:{},contentStyle:{},itemStyle:{},labelStyle:{},cursor:!0,trigger:"hover",isAnimationActive:!TD.isSsr,animationEasing:"ease",animationDuration:400,filterNull:!0,useTranslate3d:!1},LK=function(e){var t,n=CK((0,i.useState)(-1),2),r=n[0],a=n[1],o=CK((0,i.useState)(-1),2),u=o[0],s=o[1],c=CK((0,i.useState)(!1),2),l=c[0],f=c[1],d=CK((0,i.useState)({x:0,y:0}),2),h=d[0],p=d[1],v=(0,i.useRef)(),m=e.allowEscapeViewBox,y=e.reverseDirection,g=e.coordinate,b=e.offset,x=e.position,w=e.viewBox,k=(0,i.useCallback)((function(e){"Escape"===e.key&&(f(!0),p((function(e){return NK(NK({},e),{},{x:null===g||void 0===g?void 0:g.x,y:null===g||void 0===g?void 0:g.y})})))}),[null===g||void 0===g?void 0:g.x,null===g||void 0===g?void 0:g.y]);(0,i.useEffect)((function(){return function(){if(l?(document.removeEventListener("keydown",k),(null===g||void 0===g?void 0:g.x)===h.x&&(null===g||void 0===g?void 0:g.y)===h.y||f(!1)):document.addEventListener("keydown",k),v.current&&v.current.getBoundingClientRect){var e=v.current.getBoundingClientRect();(Math.abs(e.width-r)>1||Math.abs(e.height-u)>1)&&(a(e.width),s(e.height))}else-1===r&&-1===u||(a(-1),s(-1))}(),function(){document.removeEventListener("keydown",k)}}),[u,r,g,l,h.x,h.y,k]);var _,S,E=function(e){var t=e.key,n=e.tooltipDimension,r=e.viewBoxDimension;if(x&&ZP(x[t]))return x[t];var i=g[t]-n-b,a=g[t]+b;return null!==m&&void 0!==m&&m[t]?y[t]?i:a:null!==y&&void 0!==y&&y[t]?i<w[t]?Math.max(a,w[t]):Math.max(i,w[t]):a+n>w[t]+r?Math.max(i,w[t]):Math.max(a,w[t])},T=e.payload,I=e.payloadUniqBy,j=e.filterNull,O=e.active,N=e.wrapperStyle,A=e.useTranslate3d,C=e.isAnimationActive,P=e.animationDuration,D=e.animationEasing,M=function(e,t){return!0===e?AV()(t,MK):yD()(e)?AV()(t,e):t}(I,j&&T&&T.length?T.filter((function(e){return!_D()(e.value)})):T),R=M&&M.length,L=e.content,F=NK({pointerEvents:"none",visibility:!l&&O&&R?"visible":"hidden",position:"absolute",top:0,left:0},N);x&&ZP(x.x)&&ZP(x.y)?(_=x.x,S=x.y):r>0&&u>0&&g?(_=E({key:"x",tooltipDimension:r,viewBoxDimension:w.width}),S=E({key:"y",tooltipDimension:u,viewBoxDimension:w.height})):F.visibility="hidden",F=NK(NK({},NH({transform:A?"translate3d(".concat(_,"px, ").concat(S,"px, 0)"):"translate(".concat(_,"px, ").concat(S,"px)")})),F),C&&O&&(F=NK(NK({},NH({transition:"transform ".concat(P,"ms ").concat(D)})),F));var B=IP()(DK,(AK(t={},"".concat(DK,"-right"),ZP(_)&&g&&ZP(g.x)&&_>=g.x),AK(t,"".concat(DK,"-left"),ZP(_)&&g&&ZP(g.x)&&_<g.x),AK(t,"".concat(DK,"-bottom"),ZP(S)&&g&&ZP(g.y)&&S>=g.y),AK(t,"".concat(DK,"-top"),ZP(S)&&g&&ZP(g.y)&&S<g.y),t));return i.createElement("div",{tabIndex:-1,role:"dialog",className:B,style:F,ref:v},function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):yD()(e)?i.createElement(e,t):i.createElement(IK,t)}(L,NK(NK({},e),{},{payload:M})))};function FK(){}function BK(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function UK(e){this._context=e}function VK(e){this._context=e}function zK(e){this._context=e}LK.displayName="Tooltip",LK.defaultProps=RK,UK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:BK(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:BK(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},VK.prototype={areaStart:FK,areaEnd:FK,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:BK(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},zK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:BK(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var qK=function(){function e(t,n){b(this,e),this._context=t,this._x=n}return w(e,[{key:"areaStart",value:function(){this._line=0}},{key:"areaEnd",value:function(){this._line=NaN}},{key:"lineStart",value:function(){this._point=0}},{key:"lineEnd",value:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}},{key:"point",value:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}]),e}();function HK(e){this._context=e}function WK(e){this._context=e}function GK(e){return new WK(e)}function KK(e){return e<0?-1:1}function QK(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),u=(a*i+o*r)/(r+i);return(KK(a)+KK(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(u))||0}function YK(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function $K(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,u=(a-r)/3;e._context.bezierCurveTo(r+u,i+u*t,a-u,o-u*n,a,o)}function XK(e){this._context=e}function JK(e){this._context=new ZK(e)}function ZK(e){this._context=e}function eQ(e){this._context=e}function tQ(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function nQ(e,t){this._context=e,this._t=t}function rQ(e){return e[0]}function iQ(e){return e[1]}function aQ(e,t){var n=dU(!0),r=null,i=GK,a=null,o=Ez(u);function u(u){var s,c,l,f=(u=fU(u)).length,d=!1;for(null==r&&(a=i(l=o())),s=0;s<=f;++s)!(s<f&&n(c=u[s],s,u))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+e(c,s,u),+t(c,s,u));if(l)return a=null,l+""||null}return e="function"===typeof e?e:void 0===e?rQ:dU(e),t="function"===typeof t?t:void 0===t?iQ:dU(t),u.x=function(t){return arguments.length?(e="function"===typeof t?t:dU(+t),u):e},u.y=function(e){return arguments.length?(t="function"===typeof e?e:dU(+e),u):t},u.defined=function(e){return arguments.length?(n="function"===typeof e?e:dU(!!e),u):n},u.curve=function(e){return arguments.length?(i=e,null!=r&&(a=i(r)),u):i},u.context=function(e){return arguments.length?(null==e?r=a=null:a=i(r=e),u):r},u}function oQ(e,t,n){var r=null,i=dU(!0),a=null,o=GK,u=null,s=Ez(c);function c(c){var l,f,d,h,p,v=(c=fU(c)).length,m=!1,y=new Array(v),g=new Array(v);for(null==a&&(u=o(p=s())),l=0;l<=v;++l){if(!(l<v&&i(h=c[l],l,c))===m)if(m=!m)f=l,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),d=l-1;d>=f;--d)u.point(y[d],g[d]);u.lineEnd(),u.areaEnd()}m&&(y[l]=+e(h,l,c),g[l]=+t(h,l,c),u.point(r?+r(h,l,c):y[l],n?+n(h,l,c):g[l]))}if(p)return u=null,p+""||null}function l(){return aQ().defined(i).curve(o).context(a)}return e="function"===typeof e?e:void 0===e?rQ:dU(+e),t="function"===typeof t?t:dU(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?iQ:dU(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:dU(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:dU(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:dU(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:dU(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:dU(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:dU(+e),c):n},c.lineX0=c.lineY0=function(){return l().x(e).y(t)},c.lineY1=function(){return l().x(e).y(n)},c.lineX1=function(){return l().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"===typeof e?e:dU(!!e),c):i},c.curve=function(e){return arguments.length?(o=e,null!=a&&(u=o(a)),c):o},c.context=function(e){return arguments.length?(null==e?a=u=null:u=o(a=e),c):a},c}function uQ(e){return uQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uQ(e)}function sQ(){return sQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sQ.apply(this,arguments)}function cQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cQ(Object(n),!0).forEach((function(t){fQ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cQ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fQ(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==uQ(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==uQ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===uQ(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}HK.prototype={areaStart:FK,areaEnd:FK,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},WK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},XK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$K(this,this._t0,YK(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,$K(this,YK(this,n=QK(this,e,t)),n);break;default:$K(this,this._t0,n=QK(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(JK.prototype=Object.create(XK.prototype)).point=function(e,t){XK.prototype.point.call(this,t,e)},ZK.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}},eQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=tQ(e),i=tQ(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},nQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var dQ={curveBasisClosed:function(e){return new VK(e)},curveBasisOpen:function(e){return new zK(e)},curveBasis:function(e){return new UK(e)},curveBumpX:function(e){return new qK(e,!0)},curveBumpY:function(e){return new qK(e,!1)},curveLinearClosed:function(e){return new HK(e)},curveLinear:GK,curveMonotoneX:function(e){return new XK(e)},curveMonotoneY:function(e){return new JK(e)},curveNatural:function(e){return new eQ(e)},curveStep:function(e){return new nQ(e,.5)},curveStepAfter:function(e){return new nQ(e,1)},curveStepBefore:function(e){return new nQ(e,0)}},hQ=function(e){return e.x===+e.x&&e.y===+e.y},pQ=function(e){return e.x},vQ=function(e){return e.y},mQ=function(e){var t,n=e.type,r=e.points,i=e.baseLine,a=e.layout,o=e.connectNulls,u=function(e,t){if(yD()(e))return e;var n="curve".concat(WD()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?dQ[n]||GK:dQ["".concat(n).concat("vertical"===t?"Y":"X")]}(n,a),s=o?r.filter((function(e){return hQ(e)})):r;if(HP()(i)){var c=o?i.filter((function(e){return hQ(e)})):i,l=s.map((function(e,t){return lQ(lQ({},e),{},{base:c[t]})}));return t="vertical"===a?oQ().y(vQ).x1(pQ).x0((function(e){return e.base.x})):oQ().x(pQ).y1(vQ).y0((function(e){return e.base.y})),t.defined(hQ).curve(u),t(l)}return(t="vertical"===a&&ZP(i)?oQ().y(vQ).x1(pQ).x0(i):ZP(i)?oQ().x(pQ).y1(vQ).y0(i):aQ().x(pQ).y(vQ)).defined(hQ).curve(u),t(s)},yQ=function(e){var t=e.className,n=e.points,r=e.path,a=e.pathRef;if((!n||!n.length)&&!r)return null;var o=n&&n.length?mQ(e):r;return i.createElement("path",sQ({},mV(e),eV(e),{className:IP()("recharts-curve",t),d:o,ref:a}))};function gQ(){return gQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gQ.apply(this,arguments)}yQ.defaultProps={type:"linear",points:[],connectNulls:!1};var bQ=function(e,t,n,r,i,a){return"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n)},xQ=function(e){var t=e.x,n=e.y,r=e.width,a=e.height,o=e.top,u=e.left,s=e.className;return ZP(t)&&ZP(n)&&ZP(r)&&ZP(a)&&ZP(o)&&ZP(u)?i.createElement("path",gQ({},mV(e,!0),{className:IP()("recharts-cross",s),d:bQ(t,n,r,a,o,u)})):null};function wQ(){return wQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wQ.apply(this,arguments)}xQ.defaultProps={x:0,y:0,top:0,left:0,width:0,height:0};var kQ=function(e){var t=e.cx,n=e.cy,r=e.radius,i=e.angle,a=e.sign,o=e.isExternal,u=e.cornerRadius,s=e.cornerIsExternal,c=u*(o?1:-1)+r,l=Math.asin(u/c)/lG,f=s?i:i+a*l,d=s?i-a*l:i;return{center:dG(t,n,c,f),circleTangency:dG(t,n,r,f),lineTangency:dG(t,n,c*Math.cos(l*lG),d),theta:l}},_Q=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,a=e.startAngle,o=function(e,t){return XP(t-e)*Math.min(Math.abs(t-e),359.999)}(a,e.endAngle),u=a+o,s=dG(t,n,i,a),c=dG(t,n,i,u),l="M ".concat(s.x,",").concat(s.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(a>u),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var f=dG(t,n,r,a),d=dG(t,n,r,u);l+="L ".concat(d.x,",").concat(d.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(a<=u),",\n            ").concat(f.x,",").concat(f.y," Z")}else l+="L ".concat(t,",").concat(n," Z");return l},SQ=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,u=e.forceCornerRadius,s=e.cornerIsExternal,c=e.startAngle,l=e.endAngle,f=e.className;if(a<r||c===l)return null;var d,h=IP()("recharts-sector",f),p=a-r,v=rD(o,p,0,!0);return d=v>0&&Math.abs(c-l)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,a=e.cornerRadius,o=e.forceCornerRadius,u=e.cornerIsExternal,s=e.startAngle,c=e.endAngle,l=XP(c-s),f=kQ({cx:t,cy:n,radius:i,angle:s,sign:l,cornerRadius:a,cornerIsExternal:u}),d=f.circleTangency,h=f.lineTangency,p=f.theta,v=kQ({cx:t,cy:n,radius:i,angle:c,sign:-l,cornerRadius:a,cornerIsExternal:u}),m=v.circleTangency,y=v.lineTangency,g=v.theta,b=u?Math.abs(s-c):Math.abs(s-c)-p-g;if(b<0)return o?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*a,",0\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*-a,",0\n      "):_Q({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:c});var x="M ".concat(h.x,",").concat(h.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(l<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(l<0),",").concat(m.x,",").concat(m.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(l<0),",").concat(y.x,",").concat(y.y,"\n  ");if(r>0){var w=kQ({cx:t,cy:n,radius:r,angle:s,sign:l,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),k=w.circleTangency,_=w.lineTangency,S=w.theta,E=kQ({cx:t,cy:n,radius:r,angle:c,sign:-l,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),T=E.circleTangency,I=E.lineTangency,j=E.theta,O=u?Math.abs(s-c):Math.abs(s-c)-S-j;if(O<0&&0===a)return"".concat(x,"L").concat(t,",").concat(n,"Z");x+="L".concat(I.x,",").concat(I.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(l<0),",").concat(T.x,",").concat(T.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(O>180),",").concat(+(l>0),",").concat(k.x,",").concat(k.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(l<0),",").concat(_.x,",").concat(_.y,"Z")}else x+="L".concat(t,",").concat(n,"Z");return x}({cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:Math.min(v,p/2),forceCornerRadius:u,cornerIsExternal:s,startAngle:c,endAngle:l}):_Q({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:c,endAngle:l}),i.createElement("path",wQ({},mV(e,!0),{className:h,d:d,role:"img"}))};function EQ(){return EQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EQ.apply(this,arguments)}SQ.defaultProps={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1};var TQ=function(e){var t=e.cx,n=e.cy,r=e.r,a=e.className,o=IP()("recharts-dot",a);return t===+t&&n===+n&&r===+r?i.createElement("circle",EQ({},mV(e),eV(e),{className:o,cx:t,cy:n,r:r})):null},IQ=["viewBox"],jQ=["viewBox"],OQ=["ticks"];function NQ(e){return NQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NQ(e)}function AQ(){return AQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AQ.apply(this,arguments)}function CQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CQ(Object(n),!0).forEach((function(t){BQ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CQ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function DQ(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function MQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,UQ(r.key),r)}}function RQ(e,t){return RQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},RQ(e,t)}function LQ(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=FQ(e);if(t){var i=FQ(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===NQ(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function FQ(e){return FQ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},FQ(e)}function BQ(e,t,n){return(t=UQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UQ(e){var t=function(e,t){if("object"!==NQ(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==NQ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===NQ(t)?t:String(t)}var VQ=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RQ(e,t)}(o,e);var t,n,r,a=LQ(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=a.call(this,e)).state={fontSize:"",letterSpacing:""},t}return t=o,n=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=DQ(e,IQ),i=this.props,a=i.viewBox,o=DQ(i,jQ);return!QU(n,a)||!QU(r,o)||!QU(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,i,a,o,u=this.props,s=u.x,c=u.y,l=u.width,f=u.height,d=u.orientation,h=u.tickSize,p=u.mirror,v=u.tickMargin,m=p?-1:1,y=e.tickSize||h,g=ZP(e.tickCoord)?e.tickCoord:e.coordinate;switch(d){case"top":t=n=e.coordinate,o=(r=(i=c+ +!p*f)-m*y)-m*v,a=g;break;case"left":r=i=e.coordinate,a=(t=(n=s+ +!p*l)-m*y)-m*v,o=g;break;case"right":r=i=e.coordinate,a=(t=(n=s+ +p*l)+m*y)+m*v,o=g;break;default:t=n=e.coordinate,o=(r=(i=c+ +p*f)+m*y)+m*v,a=g}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:a,y:o}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,a=e.height,o=e.orientation,u=e.mirror,s=e.axisLine,c=PQ(PQ(PQ({},mV(this.props)),mV(s)),{},{fill:"none"});if("top"===o||"bottom"===o){var l=+("top"===o&&!u||"bottom"===o&&u);c=PQ(PQ({},c),{},{x1:t,y1:n+l*a,x2:t+r,y2:n+l*a})}else{var f=+("left"===o&&!u||"right"===o&&u);c=PQ(PQ({},c),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+a})}return i.createElement("line",AQ({},c,{className:IP()("recharts-cartesian-axis-line",zP()(s,"className"))}))}},{key:"renderTicks",value:function(e,t,n){var r=this,a=this.props,u=a.tickLine,s=a.stroke,c=a.tick,l=a.tickFormatter,f=a.unit,d=bK(PQ(PQ({},this.props),{},{ticks:e}),t,n),h=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=mV(this.props),m=mV(c),y=PQ(PQ({},v),{},{fill:"none"},mV(u)),g=d.map((function(e,t){var n=r.getTickLineCoord(e),a=n.line,g=n.tick,b=PQ(PQ(PQ(PQ({textAnchor:h,verticalAnchor:p},v),{},{stroke:"none",fill:s},m),g),{},{index:t,payload:e,visibleTicksCount:d.length,tickFormatter:l});return i.createElement(_V,AQ({className:"recharts-cartesian-axis-tick",key:"tick-".concat(t)},tV(r.props,e,t)),u&&i.createElement("line",AQ({},y,a,{className:IP()("recharts-cartesian-axis-tick-line",zP()(u,"className"))})),c&&o.renderTickItem(c,b,"".concat(yD()(l)?l(e.value,t):e.value).concat(f||"")))}));return i.createElement("g",{className:"recharts-cartesian-axis-ticks"},g)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,r=t.width,a=t.height,o=t.ticksGenerator,u=t.className;if(t.hide)return null;var s=this.props,c=s.ticks,l=DQ(s,OQ),f=c;return yD()(o)&&(f=c&&c.length>0?o(this.props):o(l)),r<=0||a<=0||!f||!f.length?null:i.createElement(_V,{className:IP()("recharts-cartesian-axis",u),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(f,this.state.fontSize,this.state.letterSpacing),OG.renderCallByParent(this.props))}}],r=[{key:"renderTickItem",value:function(e,t,n){return i.isValidElement(e)?i.cloneElement(e,t):yD()(e)?e(t):i.createElement(rG,AQ({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],n&&MQ(t.prototype,n),r&&MQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.Component);function zQ(e){return zQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zQ(e)}function qQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function HQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qQ(Object(n),!0).forEach((function(t){WQ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qQ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function WQ(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==zQ(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==zQ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===zQ(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}BQ(VQ,"displayName","CartesianAxis"),BQ(VQ,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var GQ=["Webkit","Moz","O","ms"];function KQ(e){return KQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KQ(e)}function QQ(){return QQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QQ.apply(this,arguments)}function YQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YQ(Object(n),!0).forEach((function(t){nY(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YQ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function XQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rY(r.key),r)}}function JQ(e,t){return JQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},JQ(e,t)}function ZQ(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tY(e);if(t){var i=tY(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===KQ(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return eY(e)}(this,n)}}function eY(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tY(e){return tY=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tY(e)}function nY(e,t,n){return(t=rY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rY(e){var t=function(e,t){if("object"!==KQ(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==KQ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===KQ(t)?t:String(t)}var iY=function(e){return e.changedTouches&&!!e.changedTouches.length},aY=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JQ(e,t)}(o,e);var t,n,r,a=ZQ(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),nY(eY(t=a.call(this,e)),"handleDrag",(function(e){t.leaveTimer&&(clearTimeout(t.leaveTimer),t.leaveTimer=null),t.state.isTravellerMoving?t.handleTravellerMove(e):t.state.isSlideMoving&&t.handleSlideDrag(e)})),nY(eY(t),"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleDrag(e.changedTouches[0])})),nY(eY(t),"handleDragEnd",(function(){t.setState({isTravellerMoving:!1,isSlideMoving:!1}),t.detachDragEndListener()})),nY(eY(t),"handleLeaveWrapper",(function(){(t.state.isTravellerMoving||t.state.isSlideMoving)&&(t.leaveTimer=window.setTimeout(t.handleDragEnd,t.props.leaveTimeOut))})),nY(eY(t),"handleEnterSlideOrTraveller",(function(){t.setState({isTextActive:!0})})),nY(eY(t),"handleLeaveSlideOrTraveller",(function(){t.setState({isTextActive:!1})})),nY(eY(t),"handleSlideDragStart",(function(e){var n=iY(e)?e.changedTouches[0]:e;t.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:n.pageX}),t.attachDragEndListener()})),t.travellerDragStartHandlers={startX:t.handleTravellerDragStart.bind(eY(t),"startX"),endX:t.handleTravellerDragStart.bind(eY(t),"endX")},t.state={},t}return t=o,n=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var t=e.startX,n=e.endX,r=this.state.scaleValues,i=this.props,a=i.gap,u=i.data.length-1,s=Math.min(t,n),c=Math.max(t,n),l=o.getIndexInRange(r,s),f=o.getIndexInRange(r,c);return{startIndex:l-l%a,endIndex:f===u?u:f-f%a}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,i=t.dataKey,a=sq(n[e],i,e);return yD()(r)?r(a,e):a}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,i=t.endX,a=this.props,o=a.x,u=a.width,s=a.travellerWidth,c=a.startIndex,l=a.endIndex,f=a.onChange,d=e.pageX-n;d>0?d=Math.min(d,o+u-s-i,o+u-s-r):d<0&&(d=Math.max(d,o-r,o-i));var h=this.getIndex({startX:r+d,endX:i+d});h.startIndex===c&&h.endIndex===l||!f||f(h),this.setState({startX:r+d,endX:i+d,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=iY(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t,n=this.state,r=n.brushMoveStartX,i=n.movingTravellerId,a=n.endX,o=n.startX,u=this.state[i],s=this.props,c=s.x,l=s.width,f=s.travellerWidth,d=s.onChange,h=s.gap,p=s.data,v={startX:this.state.startX,endX:this.state.endX},m=e.pageX-r;m>0?m=Math.min(m,c+l-f-u):m<0&&(m=Math.max(m,c-u)),v[i]=u+m;var y=this.getIndex(v),g=y.startIndex,b=y.endIndex;this.setState((nY(t={},i,u+m),nY(t,"brushMoveStartX",e.pageX),t),(function(){d&&function(){var e=p.length-1;return"startX"===i&&(a>o?g%h===0:b%h===0)||a<o&&b===e||"endX"===i&&(a>o?b%h===0:g%h===0)||a>o&&b===e}()&&d(y)}))}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,a=e.height,o=e.fill,u=e.stroke;return i.createElement("rect",{stroke:u,fill:o,x:t,y:n,width:r,height:a})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,a=e.height,o=e.data,u=e.children,s=e.padding,c=i.Children.only(u);return c?i.cloneElement(c,{x:t,y:n,width:r,height:a,margin:s,compact:!0,data:o}):null}},{key:"renderTravellerLayer",value:function(e,t){var n=this.props,r=n.y,a=n.travellerWidth,u=n.height,s=n.traveller,c=Math.max(e,this.props.x),l=$Q($Q({},mV(this.props)),{},{x:c,y:r,width:a,height:u});return i.createElement(_V,{className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[t],onTouchStart:this.travellerDragStartHandlers[t],style:{cursor:"col-resize"}},o.renderTraveller(s,l))}},{key:"renderSlide",value:function(e,t){var n=this.props,r=n.y,a=n.height,o=n.stroke,u=n.travellerWidth,s=Math.min(e,t)+u,c=Math.max(Math.abs(t-e)-u,0);return i.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:o,fillOpacity:.2,x:s,y:r,width:c,height:a})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,r=e.y,a=e.height,o=e.travellerWidth,u=e.stroke,s=this.state,c=s.startX,l=s.endX,f={pointerEvents:"none",fill:u};return i.createElement(_V,{className:"recharts-brush-texts"},i.createElement(rG,QQ({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,l)-5,y:r+a/2},f),this.getTextOfTick(t)),i.createElement(rG,QQ({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,l)+o+5,y:r+a/2},f),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,r=e.children,a=e.x,o=e.y,u=e.width,s=e.height,c=e.alwaysShowText,l=this.state,f=l.startX,d=l.endX,h=l.isTextActive,p=l.isSlideMoving,v=l.isTravellerMoving;if(!t||!t.length||!ZP(a)||!ZP(o)||!ZP(u)||!ZP(s)||u<=0||s<=0)return null;var m=IP()("recharts-brush",n),y=1===i.Children.count(r),g=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),r=GQ.reduce((function(e,r){return HQ(HQ({},e),{},WQ({},r+n,t))}),{});return r[e]=t,r}("userSelect","none");return i.createElement(_V,{className:m,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:g},this.renderBackground(),y&&this.renderPanorama(),this.renderSlide(f,d),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(d,"endX"),(h||p||v||c)&&this.renderText())}}],r=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,r=e.width,a=e.height,o=e.stroke,u=Math.floor(n+a/2)-1;return i.createElement(i.Fragment,null,i.createElement("rect",{x:t,y:n,width:r,height:a,fill:o,stroke:"none"}),i.createElement("line",{x1:t+1,y1:u,x2:t+r-1,y2:u,fill:"none",stroke:"#fff"}),i.createElement("line",{x1:t+1,y1:u+2,x2:t+r-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):yD()(e)?e(t):o.renderDefaultTraveller(t)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,i=e.x,a=e.travellerWidth,o=e.updateId,u=e.startIndex,s=e.endIndex;if(n!==t.prevData||o!==t.prevUpdateId)return $Q({prevData:n,prevTravellerWidth:a,prevUpdateId:o,prevX:i,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,i=e.x,a=e.width,o=e.travellerWidth;if(!t||!t.length)return{};var u=t.length,s=cM().domain(wD()(0,u)).range([i,i+a-o]),c=s.domain().map((function(e){return s(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,startX:s(n),endX:s(r),scale:s,scaleValues:c}}({data:n,width:r,x:i,travellerWidth:a,startIndex:u,endIndex:s}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||i!==t.prevX||a!==t.prevTravellerWidth)){t.scale.range([i,i+r-a]);var c=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:n,prevTravellerWidth:a,prevUpdateId:o,prevX:i,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var i=Math.floor((n+r)/2);e[i]>t?r=i:n=i}return t>=e[r]?r:n}}],n&&XQ(t.prototype,n),r&&XQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.PureComponent);nY(aY,"displayName","Brush"),nY(aY,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var oY=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t};function uY(e){return uY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uY(e)}function sY(){return sY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sY.apply(this,arguments)}function cY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cY(Object(n),!0).forEach((function(t){fY(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fY(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==uY(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==uY(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===uY(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dY(e){var t=e.x,n=e.y,r=e.r,a=e.alwaysShow,o=e.clipPathId,u=eD(t),s=eD(n);if(uD(void 0===a,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!s)return null;var c=function(e){var t=e.x,n=e.y,r=e.xAxis,i=e.yAxis,a=fK({x:r.scale,y:i.scale}),o=a.apply({x:t,y:n},{bandAware:!0});return oY(e,"discard")&&!a.isInRange(o)?null:o}(e);if(!c)return null;var l=c.x,f=c.y,d=e.shape,h=e.className,p=lY(lY({clipPath:oY(e,"hidden")?"url(#".concat(o,")"):void 0},mV(e,!0)),{},{cx:l,cy:f});return i.createElement(_V,{className:IP()("recharts-reference-dot",h)},dY.renderDot(d,p),OG.renderCallByParent(e,{x:l-r,y:f-r,width:2*r,height:2*r}))}dY.displayName="ReferenceDot",dY.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1},dY.renderDot=function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):yD()(e)?e(t):i.createElement(TQ,sY({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))};var hY=n(4064),pY=n.n(hY);function vY(e){return vY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vY(e)}function mY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mY(Object(n),!0).forEach((function(t){gY(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gY(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==vY(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==vY(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===vY(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bY(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return xY(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xY(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xY(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wY(){return wY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wY.apply(this,arguments)}function kY(e){var t=e.x,n=e.y,r=e.segment,a=e.xAxis,o=e.yAxis,u=e.shape,s=e.className,c=e.alwaysShow,l=e.clipPathId;uD(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=function(e,t,n,r,i){var a=i.viewBox,o=a.x,u=a.y,s=a.width,c=a.height,l=i.position;if(n){var f=i.y,d=i.yAxis.orientation,h=e.y.apply(f,{position:l});if(oY(i,"discard")&&!e.y.isInRange(h))return null;var p=[{x:o+s,y:h},{x:o,y:h}];return"left"===d?p.reverse():p}if(t){var v=i.x,m=i.xAxis.orientation,y=e.x.apply(v,{position:l});if(oY(i,"discard")&&!e.x.isInRange(y))return null;var g=[{x:y,y:u+c},{x:y,y:u}];return"top"===m?g.reverse():g}if(r){var b=i.segment.map((function(t){return e.apply(t,{position:l})}));return oY(i,"discard")&&pY()(b,(function(t){return!e.isInRange(t)}))?null:b}return null}(fK({x:a.scale,y:o.scale}),eD(t),eD(n),r&&2===r.length,e);if(!f)return null;var d=bY(f,2),h=d[0],p=h.x,v=h.y,m=d[1],y=m.x,g=m.y,b=yY(yY({clipPath:oY(e,"hidden")?"url(#".concat(l,")"):void 0},mV(e,!0)),{},{x1:p,y1:v,x2:y,y2:g});return i.createElement(_V,{className:IP()("recharts-reference-line",s)},function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):yD()(e)?e(t):i.createElement("line",wY({},t,{className:"recharts-reference-line-line"}))}(u,b),OG.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2;return cK({x:t,y:n},{x:r,y:i})}({x1:p,y1:v,x2:y,y2:g})))}function _Y(e){return _Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_Y(e)}function SY(){return SY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SY.apply(this,arguments)}function EY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function TY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EY(Object(n),!0).forEach((function(t){IY(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function IY(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==_Y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_Y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_Y(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}kY.displayName="ReferenceLine",kY.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function jY(e){var t=e.x1,n=e.x2,r=e.y1,a=e.y2,o=e.className,u=e.alwaysShow,s=e.clipPathId;uD(void 0===u,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=eD(t),l=eD(n),f=eD(r),d=eD(a),h=e.shape;if(!c&&!l&&!f&&!d&&!h)return null;var p=function(e,t,n,r,i){var a=i.x1,o=i.x2,u=i.y1,s=i.y2,c=i.xAxis,l=i.yAxis;if(!c||!l)return null;var f=fK({x:c.scale,y:l.scale}),d={x:e?f.x.apply(a,{position:"start"}):f.x.rangeMin,y:n?f.y.apply(u,{position:"start"}):f.y.rangeMin},h={x:t?f.x.apply(o,{position:"end"}):f.x.rangeMax,y:r?f.y.apply(s,{position:"end"}):f.y.rangeMax};return!oY(i,"discard")||f.isInRange(d)&&f.isInRange(h)?cK(d,h):null}(c,l,f,d,e);if(!p&&!h)return null;var v=oY(e,"hidden")?"url(#".concat(s,")"):void 0;return i.createElement(_V,{className:IP()("recharts-reference-area",o)},jY.renderRect(h,TY(TY({clipPath:v},mV(e,!0)),p)),OG.renderCallByParent(e,p))}function OY(e){return function(e){if(Array.isArray(e))return NY(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return NY(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NY(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NY(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}jY.displayName="ReferenceArea",jY.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1},jY.renderRect=function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):yD()(e)?e(t):i.createElement(VW,SY({},t,{className:"recharts-reference-area-rect"}))};var AY=function(e,t,n,r,i){var a=fV(e,kY),o=fV(e,dY),u=[].concat(OY(a),OY(o)),s=fV(e,jY),c="".concat(r,"Id"),l=r[0],f=t;if(u.length&&(f=u.reduce((function(e,t){if(t.props[c]===n&&oY(t.props,"extendDomain")&&ZP(t.props[l])){var r=t.props[l];return[Math.min(e[0],r),Math.max(e[1],r)]}return e}),f)),s.length){var d="".concat(l,"1"),h="".concat(l,"2");f=s.reduce((function(e,t){if(t.props[c]===n&&oY(t.props,"extendDomain")&&ZP(t.props[d])&&ZP(t.props[h])){var r=t.props[d],i=t.props[h];return[Math.min(e[0],r,i),Math.max(e[1],r,i)]}return e}),f)}return i&&i.length&&(f=i.reduce((function(e,t){return ZP(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),f)),f},CY=n(7143),PY=new(n.n(CY)());PY.setMaxListeners&&PY.setMaxListeners(10);var DY="recharts.syncMouseEvents";function MY(e){return MY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MY(e)}function RY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,FY(r.key),r)}}function LY(e,t,n){return(t=FY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FY(e){var t=function(e,t){if("object"!==MY(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==MY(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===MY(t)?t:String(t)}var BY=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),LY(this,"activeIndex",0),LY(this,"coordinateList",[]),LY(this,"layout","horizontal")}var t,n,r;return t=e,n=[{key:"setDetails",value:function(e){var t=e.coordinateList,n=void 0===t?[]:t,r=e.container,i=void 0===r?null:r,a=e.layout,o=void 0===a?null:a,u=e.offset,s=void 0===u?null:u,c=e.mouseHandlerCallback,l=void 0===c?null:c;this.coordinateList=null!==n&&void 0!==n?n:this.coordinateList,this.container=null!==i&&void 0!==i?i:this.container,this.layout=null!==o&&void 0!==o?o:this.layout,this.offset=null!==s&&void 0!==s?s:this.offset,this.mouseHandlerCallback=null!==l&&void 0!==l?l:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"spoofMouse",value:function(){if("horizontal"===this.layout&&0!==this.coordinateList.length){var e=this.container.getBoundingClientRect(),t=e.x,n=e.y,r=t+this.coordinateList[this.activeIndex].coordinate,i=n+this.offset.top;this.mouseHandlerCallback({pageX:r,pageY:i})}}}],n&&RY(t.prototype,n),r&&RY(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),UY=["item"],VY=["children","className","width","height","style","compact","title","desc"];function zY(e){return zY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zY(e)}function qY(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||JY(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HY(){return HY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HY.apply(this,arguments)}function WY(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r$(r.key),r)}}function KY(e,t){return KY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},KY(e,t)}function QY(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$Y(e);if(t){var i=$Y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===zY(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return YY(e)}(this,n)}}function YY(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $Y(e){return $Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$Y(e)}function XY(e){return function(e){if(Array.isArray(e))return ZY(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||JY(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JY(e,t){if(e){if("string"===typeof e)return ZY(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ZY(e,t):void 0}}function ZY(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function e$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e$(Object(n),!0).forEach((function(t){n$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function n$(e,t,n){return(t=r$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r$(e){var t=function(e,t){if("object"!==zY(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==zY(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===zY(t)?t:String(t)}var i$={xAxis:["bottom","top"],yAxis:["left","right"]},a$={x:0,y:0},o$=Number.isFinite?Number.isFinite:isFinite,u$="function"===typeof requestAnimationFrame?requestAnimationFrame:"function"===typeof setImmediate?setImmediate:setTimeout,s$="function"===typeof cancelAnimationFrame?cancelAnimationFrame:"function"===typeof clearImmediate?clearImmediate:clearTimeout,c$=function(e,t,n){var r=t.graphicalItems,i=t.dataStartIndex,a=t.dataEndIndex,o=(r||[]).reduce((function(e,t){var n=t.props.data;return n&&n.length?[].concat(XY(e),XY(n)):e}),[]);return o&&o.length>0?o:n&&n.props&&n.props.data&&n.props.data.length>0?n.props.data:e&&e.length&&ZP(i)&&ZP(a)?e.slice(i,a+1):[]};function l$(e){return"number"===e?[0,"auto"]:void 0}var f$=function(e,t,n,r){var i=e.graphicalItems,a=e.tooltipAxis,o=c$(t,e);return n<0||!i||!i.length||n>=o.length?null:i.reduce((function(e,t){if(t.props.hide)return e;var i,u=t.props.data;a.dataKey&&!a.allowDuplicatedCategory?i=oD(void 0===u?o:u,a.dataKey,r):i=u&&u[n]||o[n];return i?[].concat(XY(e),[Cq(t,i)]):e}),[])},d$=function(e,t,n,r){var i=r||{x:e.chartX,y:e.chartY},a=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(i,n),o=e.orderedTooltipTicks,u=e.tooltipAxis,s=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=-1,o=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(o<=1)return 0;if(i&&"angleAxis"===i.axisType&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var u=i.range,s=0;s<o;s++){var c=s>0?r[s-1].coordinate:r[o-1].coordinate,l=r[s].coordinate,f=s>=o-1?r[0].coordinate:r[s+1].coordinate,d=void 0;if(XP(l-c)!==XP(f-l)){var h=[];if(XP(f-l)===XP(u[1]-u[0])){d=f;var p=l+u[1]-u[0];h[0]=Math.min(p,(p+c)/2),h[1]=Math.max(p,(p+c)/2)}else{d=c;var v=f+u[1]-u[0];h[0]=Math.min(l,(v+l)/2),h[1]=Math.max(l,(v+l)/2)}var m=[Math.min(l,(d+l)/2),Math.max(l,(d+l)/2)];if(e>m[0]&&e<=m[1]||e>=h[0]&&e<=h[1]){a=r[s].index;break}}else{var y=Math.min(c,f),g=Math.max(c,f);if(e>(y+l)/2&&e<=(g+l)/2){a=r[s].index;break}}}else for(var b=0;b<o;b++)if(0===b&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<o-1&&e>(n[b].coordinate+n[b-1].coordinate)/2&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b===o-1&&e>(n[b].coordinate+n[b-1].coordinate)/2){a=n[b].index;break}return a}(a,o,s,u);if(c>=0&&s){var l=s[c]&&s[c].value,f=f$(e,t,c,l),d=function(e,t,n,r){var i=t.find((function(e){return e&&e.index===n}));if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var a=i.coordinate,o=r.radius;return t$(t$(t$({},r),dG(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var u=i.coordinate,s=r.angle;return t$(t$(t$({},r),dG(r.cx,r.cy,u,s)),{},{angle:s,radius:u})}return a$}(n,o,c,i);return{activeTooltipIndex:c,activeLabel:l,activePayload:f,activeCoordinate:d}}return null},h$=function(e,t){var n=t.axes,r=t.graphicalItems,i=t.axisType,a=t.axisIdKey,o=t.stackGroups,u=t.dataStartIndex,s=t.dataEndIndex,c=e.layout,l=e.children,f=e.stackOffset,d=pq(c,i),h=n.reduce((function(t,n){var h,p=n.props,v=p.type,m=p.dataKey,y=p.allowDataOverflow,g=p.allowDuplicatedCategory,b=p.scale,x=p.ticks,w=p.includeHidden,k=n.props[a];if(t[k])return t;var _,S,E,T=c$(e.data,{graphicalItems:r.filter((function(e){return e.props[a]===k})),dataStartIndex:u,dataEndIndex:s}),I=T.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null===e||void 0===e?void 0:e[0],i=null===e||void 0===e?void 0:e[1];if(r&&i&&ZP(r)&&ZP(i))return!0}return!1})(n.props.domain,y,v)&&(_=Oq(n.props.domain,null,y),!d||"number"!==v&&"auto"===b||(E=cq(T,m,"category")));var j=l$(v);if(!_||0===_.length){var O,N=null!==(O=n.props.domain)&&void 0!==O?O:j;if(m){if(_=cq(T,m,v),"category"===v&&d){var A=function(e){if(!HP()(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(_);g&&A?(S=_,_=wD()(0,I)):g||(_=Aq(N,_,n).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(XY(e),[t])}),[]))}else if("category"===v)_=g?_.filter((function(e){return""!==e&&!_D()(e)})):Aq(N,_,n).reduce((function(e,t){return e.indexOf(t)>=0||""===t||_D()(t)?e:[].concat(XY(e),[t])}),[]);else if("number"===v){var C=function(e,t,n,r,i){var a=t.map((function(t){return dq(e,t,n,i,r)})).filter((function(e){return!_D()(e)}));return a&&a.length?a.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null}(T,r.filter((function(e){return e.props[a]===k&&(w||!e.props.hide)})),m,i,c);C&&(_=C)}!d||"number"!==v&&"auto"===b||(E=cq(T,m,"category"))}else _=d?wD()(0,I):o&&o[k]&&o[k].hasStack&&"number"===v?"expand"===f?[0,1]:Tq(o[k].stackGroups,u,s):hq(T,r.filter((function(e){return e.props[a]===k&&(w||!e.props.hide)})),v,c,!0);if("number"===v)_=AY(l,_,k,i,x),N&&(_=Oq(N,_,y));else if("category"===v&&N){var P=N;_.every((function(e){return P.indexOf(e)>=0}))&&(_=P)}}return t$(t$({},t),{},n$({},k,t$(t$({},n.props),{},{axisType:i,domain:_,categoricalDomain:E,duplicateDomain:S,originalDomain:null!==(h=n.props.domain)&&void 0!==h?h:j,isCategorical:d,layout:c})))}),{});return h},p$=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,i=t.AxisComp,a=t.graphicalItems,o=t.stackGroups,u=t.dataStartIndex,s=t.dataEndIndex,c=e.children,l="".concat(r,"Id"),f=fV(c,i),d={};return f&&f.length?d=h$(e,{axes:f,graphicalItems:a,axisType:r,axisIdKey:l,stackGroups:o,dataStartIndex:u,dataEndIndex:s}):a&&a.length&&(d=function(e,t){var n=t.graphicalItems,r=t.Axis,i=t.axisType,a=t.axisIdKey,o=t.stackGroups,u=t.dataStartIndex,s=t.dataEndIndex,c=e.layout,l=e.children,f=c$(e.data,{graphicalItems:n,dataStartIndex:u,dataEndIndex:s}),d=f.length,h=pq(c,i),p=-1;return n.reduce((function(e,t){var v,m=t.props[a],y=l$("number");return e[m]?e:(p++,h?v=wD()(0,d):o&&o[m]&&o[m].hasStack?(v=Tq(o[m].stackGroups,u,s),v=AY(l,v,m,i)):(v=Oq(y,hq(f,n.filter((function(e){return e.props[a]===m&&!e.props.hide})),"number",c),r.defaultProps.allowDataOverflow),v=AY(l,v,m,i)),t$(t$({},e),{},n$({},m,t$(t$({axisType:i},r.defaultProps),{},{hide:!0,orientation:zP()(i$,"".concat(i,".").concat(p%2),null),domain:v,originalDomain:y,isCategorical:h,layout:c}))))}),{})}(e,{Axis:i,graphicalItems:a,axisType:r,axisIdKey:l,stackGroups:o,dataStartIndex:u,dataEndIndex:s})),d},v$=function(e){var t,n,r=e.children,i=e.defaultShowTooltip,a=dV(r,aY);return{chartX:0,chartY:0,dataStartIndex:a&&a.props&&a.props.startIndex||0,dataEndIndex:void 0!==(null===a||void 0===a||null===(t=a.props)||void 0===t?void 0:t.endIndex)?null===a||void 0===a||null===(n=a.props)||void 0===n?void 0:n.endIndex:e.data&&e.data.length-1||0,activeTooltipIndex:-1,isTooltipActive:!_D()(i)&&i}},m$=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},y$=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),i=void 0===r?{}:r,a=e.yAxisMap,o=void 0===a?{}:a,u=n.width,s=n.height,c=n.children,l=n.margin||{},f=dV(c,aY),d=dV(c,tq),h=Object.keys(o).reduce((function(e,t){var n=o[t],r=n.orientation;return n.mirror||n.hide?e:t$(t$({},e),{},n$({},r,e[r]+n.width))}),{left:l.left||0,right:l.right||0}),p=Object.keys(i).reduce((function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:t$(t$({},e),{},n$({},r,zP()(e,"".concat(r))+n.height))}),{top:l.top||0,bottom:l.bottom||0}),v=t$(t$({},p),h),m=v.bottom;return f&&(v.bottom+=f.props.height||aY.defaultProps.height),d&&t&&(v=function(e,t,n,r){var i=n.children,a=n.width,o=n.margin,u=a-(o.left||0)-(o.right||0),s=fq({children:i,legendWidth:u}),c=e;if(s){var l=r||{},f=s.align,d=s.verticalAlign,h=s.layout;("vertical"===h||"horizontal"===h&&"middle"===d)&&ZP(e[f])&&(c=oq(oq({},e),{},uq({},f,c[f]+(l.width||0)))),("horizontal"===h||"vertical"===h&&"center"===f)&&ZP(e[d])&&(c=oq(oq({},e),{},uq({},d,c[d]+(l.height||0))))}return c}(v,0,n,t)),t$(t$({brushBottom:m},v),{},{width:u-v.left-v.right,height:s-v.top-v.bottom})},g$=function(e){var t,n=e.chartName,r=e.GraphicalChild,a=e.defaultTooltipEventType,o=void 0===a?"axis":a,u=e.validateTooltipEventTypes,s=void 0===u?["axis"]:u,c=e.axisComponents,l=e.legendContent,f=e.formatAxisMap,d=e.defaultProps,h=function(e,t){var n=t.graphicalItems,r=t.stackGroups,i=t.offset,a=t.updateId,o=t.dataStartIndex,u=t.dataEndIndex,s=e.barSize,l=e.layout,f=e.barGap,d=e.barCategoryGap,h=e.maxBarSize,p=m$(l),v=p.numericAxisName,m=p.cateAxisName,y=function(e){return!(!e||!e.length)&&e.some((function(e){var t=uV(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(n),g=y&&function(e){var t=e.barSize,n=e.stackGroups,r=void 0===n?{}:n;if(!r)return{};for(var i={},a=Object.keys(r),o=0,u=a.length;o<u;o++)for(var s=r[a[o]].stackGroups,c=Object.keys(s),l=0,f=c.length;l<f;l++){var d=s[c[l]],h=d.items,p=d.cateAxisId,v=h.filter((function(e){return uV(e.type).indexOf("Bar")>=0}));if(v&&v.length){var m=v[0].props.barSize,y=v[0].props[p];i[y]||(i[y]=[]),i[y].push({item:v[0],stackList:v.slice(1),barSize:_D()(m)?t:m})}}return i}({barSize:s,stackGroups:r}),b=[];return n.forEach((function(n,s){var p=c$(e.data,{dataStartIndex:o,dataEndIndex:u},n),y=n.props,x=y.dataKey,w=y.maxBarSize,k=n.props["".concat(v,"Id")],_=n.props["".concat(m,"Id")],S=c.reduce((function(e,r){var i,a=t["".concat(r.axisType,"Map")],o=n.props["".concat(r.axisType,"Id")],u=a&&a[o];return t$(t$({},e),{},(n$(i={},r.axisType,u),n$(i,"".concat(r.axisType,"Ticks"),mq(u)),i))}),{}),E=S[m],T=S["".concat(m,"Ticks")],I=r&&r[k]&&r[k].hasStack&&function(e,t){var n=e.props.stackId;if(eD(n)){var r=t[n];if(r&&r.items.length){for(var i=-1,a=0,o=r.items.length;a<o;a++)if(r.items[a]===e){i=a;break}return i>=0?r.stackedData[i]:null}}return null}(n,r[k].stackGroups),j=uV(n.type).indexOf("Bar")>=0,O=Nq(E,T),N=[];if(j){var A,C,P=_D()(w)?h:w,D=null!==(A=null!==(C=Nq(E,T,!0))&&void 0!==C?C:P)&&void 0!==A?A:0;N=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,i=e.sizeList,a=void 0===i?[]:i,o=e.maxBarSize,u=a.length;if(u<1)return null;var s,c=rD(t,r,0,!0);if(a[0].barSize===+a[0].barSize){var l=!1,f=r/u,d=a.reduce((function(e,t){return e+t.barSize||0}),0);(d+=(u-1)*c)>=r&&(d-=(u-1)*c,c=0),d>=r&&f>0&&(l=!0,d=u*(f*=.9));var h={offset:((r-d)/2>>0)-c,size:0};s=a.reduce((function(e,t){var n=[].concat(rq(e),[{item:t.item,position:{offset:h.offset+h.size+c,size:l?f:t.barSize}}]);return h=n[n.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){n.push({item:e,position:h})})),n}),[])}else{var p=rD(n,r,0,!0);r-2*p-(u-1)*c<=0&&(c=0);var v=(r-2*p-(u-1)*c)/u;v>1&&(v>>=0);var m=o===+o?Math.min(v,o):v;s=a.reduce((function(e,t,n){var r=[].concat(rq(e),[{item:t.item,position:{offset:p+(v+c)*n+(v-m)/2,size:m}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:r[r.length-1].position})})),r}),[])}return s}({barGap:f,barCategoryGap:d,bandSize:D!==O?D:O,sizeList:g[_],maxBarSize:P}),D!==O&&(N=N.map((function(e){return t$(t$({},e),{},{position:t$(t$({},e.position),{},{offset:e.position.offset-D/2})})})))}var M,R,L,F=n&&n.type&&n.type.getComposedData;F&&b.push({props:t$(t$({},F(t$(t$({},S),{},{displayedData:p,props:e,dataKey:x,item:n,bandSize:O,barPosition:N,offset:i,stackedData:I,layout:l,dataStartIndex:o,dataEndIndex:u}))),{},(M={key:n.key||"item-".concat(s)},n$(M,v,S[v]),n$(M,m,S[m]),n$(M,"animationId",a),M)),childIndex:(R=n,L=e.children,lV(L).indexOf(R)),item:n})})),b},p=function(e,t){var i=e.props,a=e.dataStartIndex,o=e.dataEndIndex,u=e.updateId;if(!hV({props:i}))return null;var s=i.children,l=i.layout,d=i.stackOffset,p=i.data,v=i.reverseStackOrder,m=m$(l),y=m.numericAxisName,g=m.cateAxisName,b=fV(s,r),x=function(e,t,n,r,i,a){if(!e)return null;var o=(a?t.reverse():t).reduce((function(e,t){var i=t.props,a=i.stackId;if(i.hide)return e;var o=t.props[n],u=e[o]||{hasStack:!1,stackGroups:{}};if(eD(a)){var s=u.stackGroups[a]||{numericAxisId:n,cateAxisId:r,items:[]};s.items.push(t),u.hasStack=!0,u.stackGroups[a]=s}else u.stackGroups[nD("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return oq(oq({},e),{},uq({},o,u))}),{});return Object.keys(o).reduce((function(t,a){var u=o[a];return u.hasStack&&(u.stackGroups=Object.keys(u.stackGroups).reduce((function(t,a){var o=u.stackGroups[a];return oq(oq({},t),{},uq({},a,{numericAxisId:n,cateAxisId:r,items:o.items,stackedData:kq(e,o.items,i)}))}),{})),oq(oq({},t),{},uq({},a,u))}),{})}(p,b,"".concat(y,"Id"),"".concat(g,"Id"),d,v),w=c.reduce((function(e,t){var n="".concat(t.axisType,"Map");return t$(t$({},e),{},n$({},n,p$(i,t$(t$({},t),{},{graphicalItems:b,stackGroups:t.axisType===y&&x,dataStartIndex:a,dataEndIndex:o}))))}),{}),k=y$(t$(t$({},w),{},{props:i,graphicalItems:b}),null===t||void 0===t?void 0:t.legendBBox);Object.keys(w).forEach((function(e){w[e]=f(i,w[e],k,e.replace("Map",""),n)}));var _=function(e){var t=iD(e),n=mq(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:bD()(n,(function(e){return e.coordinate})),tooltipAxis:t,tooltipAxisBandSize:Nq(t,n)}}(w["".concat(g,"Map")]),S=h(i,t$(t$({},w),{},{dataStartIndex:a,dataEndIndex:o,updateId:u,graphicalItems:b,stackGroups:x,offset:k}));return t$(t$({formattedGraphicalItems:S,graphicalItems:b,offset:k,stackGroups:x},_),w)};return t=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KY(e,t)}(c,e);var t,r,a,u=QY(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),n$(YY(t=u.call(this,e)),"accessibilityManager",new BY),n$(YY(t),"clearDeferId",(function(){!_D()(t.deferId)&&s$&&s$(t.deferId),t.deferId=null})),n$(YY(t),"handleLegendBBoxUpdate",(function(e){if(e){var n=t.state,r=n.dataStartIndex,i=n.dataEndIndex,a=n.updateId;t.setState(t$({legendBBox:e},p({props:t.props,dataStartIndex:r,dataEndIndex:i,updateId:a},t$(t$({},t.state),{},{legendBBox:e}))))}})),n$(YY(t),"handleReceiveSyncEvent",(function(e,n,r){t.props.syncId===e&&n!==t.uniqueChartId&&(t.clearDeferId(),t.deferId=u$&&u$(t.applySyncEvent.bind(YY(t),r)))})),n$(YY(t),"handleBrushChange",(function(e){var n=e.startIndex,r=e.endIndex;if(n!==t.state.dataStartIndex||r!==t.state.dataEndIndex){var i=t.state.updateId;t.setState((function(){return t$({dataStartIndex:n,dataEndIndex:r},p({props:t.props,dataStartIndex:n,dataEndIndex:r,updateId:i},t.state))})),t.triggerSyncEvent({dataStartIndex:n,dataEndIndex:r})}})),n$(YY(t),"handleMouseEnter",(function(e){var n=t.props.onMouseEnter,r=t.getMouseInfo(e);if(r){var i=t$(t$({},r),{},{isTooltipActive:!0});t.setState(i),t.triggerSyncEvent(i),yD()(n)&&n(i,e)}})),n$(YY(t),"triggeredAfterMouseMove",(function(e){var n=t.props.onMouseMove,r=t.getMouseInfo(e),i=r?t$(t$({},r),{},{isTooltipActive:!0}):{isTooltipActive:!1};t.setState(i),t.triggerSyncEvent(i),yD()(n)&&n(i,e)})),n$(YY(t),"handleItemMouseEnter",(function(e){t.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))})),n$(YY(t),"handleItemMouseLeave",(function(){t.setState((function(){return{isTooltipActive:!1}}))})),n$(YY(t),"handleMouseMove",(function(e){e&&yD()(e.persist)&&e.persist(),t.triggeredAfterMouseMove(e)})),n$(YY(t),"handleMouseLeave",(function(e){var n=t.props.onMouseLeave,r={isTooltipActive:!1};t.setState(r),t.triggerSyncEvent(r),yD()(n)&&n(r,e),t.cancelThrottledTriggerAfterMouseMove()})),n$(YY(t),"handleOuterEvent",(function(e){var n=function(e){var t=e&&e.type;return t&&oV[t]?oV[t]:null}(e),r=zP()(t.props,"".concat(n));n&&yD()(r)&&r(/.*touch.*/i.test(n)?t.getMouseInfo(e.changedTouches[0]):t.getMouseInfo(e),e)})),n$(YY(t),"handleClick",(function(e){var n=t.props.onClick,r=t.getMouseInfo(e);if(r){var i=t$(t$({},r),{},{isTooltipActive:!0});t.setState(i),t.triggerSyncEvent(i),yD()(n)&&n(i,e)}})),n$(YY(t),"handleMouseDown",(function(e){var n=t.props.onMouseDown;yD()(n)&&n(t.getMouseInfo(e),e)})),n$(YY(t),"handleMouseUp",(function(e){var n=t.props.onMouseUp;yD()(n)&&n(t.getMouseInfo(e),e)})),n$(YY(t),"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleMouseMove(e.changedTouches[0])})),n$(YY(t),"handleTouchStart",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleMouseDown(e.changedTouches[0])})),n$(YY(t),"handleTouchEnd",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleMouseUp(e.changedTouches[0])})),n$(YY(t),"verticalCoordinatesGenerator",(function(e){var t=e.xAxis,n=e.width,r=e.height,i=e.offset;return vq(bK(t$(t$(t$({},VQ.defaultProps),t),{},{ticks:mq(t,!0),viewBox:{x:0,y:0,width:n,height:r}})),i.left,i.left+i.width)})),n$(YY(t),"horizontalCoordinatesGenerator",(function(e){var t=e.yAxis,n=e.width,r=e.height,i=e.offset;return vq(bK(t$(t$(t$({},VQ.defaultProps),t),{},{ticks:mq(t,!0),viewBox:{x:0,y:0,width:n,height:r}})),i.top,i.top+i.height)})),n$(YY(t),"axesTicksGenerator",(function(e){return mq(e,!0)})),n$(YY(t),"renderCursor",(function(e){var r=t.state,a=r.isTooltipActive,o=r.activeCoordinate,u=r.activePayload,s=r.offset,c=r.activeTooltipIndex,l=t.getTooltipEventType();if(!e||!e.props.cursor||!a||!o||"ScatterChart"!==n&&"axis"!==l)return null;var f,d=t.props.layout,h=yQ;if("ScatterChart"===n)f=o,h=xQ;else if("BarChart"===n)f=t.getCursorRectangle(),h=VW;else if("radial"===d){var p=t.getCursorPoints(),v=p.cx,m=p.cy,y=p.radius;f={cx:v,cy:m,startAngle:p.startAngle,endAngle:p.endAngle,innerRadius:y,outerRadius:y},h=SQ}else f={points:t.getCursorPoints()},h=yQ;var g=e.key||"_recharts-cursor",b=t$(t$(t$(t$({stroke:"#ccc",pointerEvents:"none"},s),f),mV(e.props.cursor)),{},{payload:u,payloadIndex:c,key:g,className:"recharts-tooltip-cursor"});return(0,i.isValidElement)(e.props.cursor)?(0,i.cloneElement)(e.props.cursor,b):(0,i.createElement)(h,b)})),n$(YY(t),"renderPolarAxis",(function(e,n,r){var a=zP()(e,"type.axisType"),o=zP()(t.state,"".concat(a,"Map")),u=o&&o[e.props["".concat(a,"Id")]];return(0,i.cloneElement)(e,t$(t$({},u),{},{className:a,key:e.key||"".concat(n,"-").concat(r),ticks:mq(u,!0)}))})),n$(YY(t),"renderXAxis",(function(e,n,r){var i=t.state.xAxisMap[e.props.xAxisId];return t.renderAxis(i,e,n,r)})),n$(YY(t),"renderYAxis",(function(e,n,r){var i=t.state.yAxisMap[e.props.yAxisId];return t.renderAxis(i,e,n,r)})),n$(YY(t),"renderGrid",(function(e){var n=t.state,r=n.xAxisMap,a=n.yAxisMap,o=n.offset,u=t.props,s=u.width,c=u.height,l=iD(r),f=vD()(a,(function(e){return hD()(e.domain,o$)}))||iD(a),d=e.props||{};return(0,i.cloneElement)(e,{key:e.key||"grid",x:ZP(d.x)?d.x:o.left,y:ZP(d.y)?d.y:o.top,width:ZP(d.width)?d.width:o.width,height:ZP(d.height)?d.height:o.height,xAxis:l,yAxis:f,offset:o,chartWidth:s,chartHeight:c,verticalCoordinatesGenerator:d.verticalCoordinatesGenerator||t.verticalCoordinatesGenerator,horizontalCoordinatesGenerator:d.horizontalCoordinatesGenerator||t.horizontalCoordinatesGenerator})})),n$(YY(t),"renderPolarGrid",(function(e){var n=e.props,r=n.radialLines,a=n.polarAngles,o=n.polarRadius,u=t.state,s=u.radiusAxisMap,c=u.angleAxisMap,l=iD(s),f=iD(c),d=f.cx,h=f.cy,p=f.innerRadius,v=f.outerRadius;return(0,i.cloneElement)(e,{polarAngles:HP()(a)?a:mq(f,!0).map((function(e){return e.coordinate})),polarRadius:HP()(o)?o:mq(l,!0).map((function(e){return e.coordinate})),cx:d,cy:h,innerRadius:p,outerRadius:v,key:e.key||"polar-grid",radialLines:r})})),n$(YY(t),"renderLegend",(function(){var e=t.state.formattedGraphicalItems,n=t.props,r=n.children,a=n.width,o=n.height,u=t.props.margin||{},s=a-(u.left||0)-(u.right||0),c=fq({children:r,formattedGraphicalItems:e,legendWidth:s,legendContent:l});if(!c)return null;var f=c.item,d=WY(c,UY);return(0,i.cloneElement)(f,t$(t$({},d),{},{chartWidth:a,chartHeight:o,margin:u,ref:function(e){t.legendInstance=e},onBBoxUpdate:t.handleLegendBBoxUpdate}))})),n$(YY(t),"renderTooltip",(function(){var e=dV(t.props.children,LK);if(!e)return null;var n=t.state,r=n.isTooltipActive,a=n.activeCoordinate,o=n.activePayload,u=n.activeLabel,s=n.offset;return(0,i.cloneElement)(e,{viewBox:t$(t$({},s),{},{x:s.left,y:s.top}),active:r,label:u,payload:r?o:[],coordinate:a})})),n$(YY(t),"renderBrush",(function(e){var n=t.props,r=n.margin,a=n.data,o=t.state,u=o.offset,s=o.dataStartIndex,c=o.dataEndIndex,l=o.updateId;return(0,i.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:yq(t.handleBrushChange,null,e.props.onChange),data:a,x:ZP(e.props.x)?e.props.x:u.left,y:ZP(e.props.y)?e.props.y:u.top+u.height+u.brushBottom-(r.bottom||0),width:ZP(e.props.width)?e.props.width:u.width,startIndex:s,endIndex:c,updateId:"brush-".concat(l)})})),n$(YY(t),"renderReferenceElement",(function(e,n,r){if(!e)return null;var a=YY(t).clipPathId,o=t.state,u=o.xAxisMap,s=o.yAxisMap,c=o.offset,l=e.props,f=l.xAxisId,d=l.yAxisId;return(0,i.cloneElement)(e,{key:e.key||"".concat(n,"-").concat(r),xAxis:u[f],yAxis:s[d],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:a})})),n$(YY(t),"renderActivePoints",(function(e){var t=e.item,n=e.activePoint,r=e.basePoint,i=e.childIndex,a=e.isRange,o=[],u=t.props.key,s=t.item.props,l=s.activeDot,f=t$(t$({index:i,dataKey:s.dataKey,cx:n.x,cy:n.y,r:4,fill:lq(t.item),strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value,key:"".concat(u,"-activePoint-").concat(i)},mV(l)),eV(l));return o.push(c.renderActiveDot(l,f)),r?o.push(c.renderActiveDot(l,t$(t$({},f),{},{cx:r.x,cy:r.y,key:"".concat(u,"-basePoint-").concat(i)}))):a&&o.push(null),o})),n$(YY(t),"renderGraphicChild",(function(e,n,r){var a=t.filterFormatItem(e,n,r);if(!a)return null;var o=t.getTooltipEventType(),u=t.state,s=u.isTooltipActive,c=u.tooltipAxis,l=u.activeTooltipIndex,f=u.activeLabel,d=dV(t.props.children,LK),h=a.props,p=h.points,v=h.isRange,m=h.baseLine,y=a.item.props,g=y.activeDot,b=!y.hide&&s&&d&&g&&l>=0,x={};"axis"!==o&&d&&"click"===d.props.trigger?x={onClick:yq(t.handleItemMouseEnter,null,e.props.onCLick)}:"axis"!==o&&(x={onMouseLeave:yq(t.handleItemMouseLeave,null,e.props.onMouseLeave),onMouseEnter:yq(t.handleItemMouseEnter,null,e.props.onMouseEnter)});var w=(0,i.cloneElement)(e,t$(t$({},a.props),x));if(b){var k,_;if(c.dataKey&&!c.allowDuplicatedCategory){var S="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());k=oD(p,S,f),_=v&&m&&oD(m,S,f)}else k=p[l],_=v&&m&&m[l];if(!_D()(k))return[w].concat(XY(t.renderActivePoints({item:a,activePoint:k,basePoint:_,childIndex:l,isRange:v})))}return v?[w,null,null]:[w,null]})),n$(YY(t),"renderCustomized",(function(e,n,r){return(0,i.cloneElement)(e,t$(t$({key:"recharts-customized-".concat(r)},t.props),t.state))})),t.uniqueChartId=_D()(e.id)?nD("recharts"):e.id,t.clipPathId="".concat(t.uniqueChartId,"-clip"),e.throttleDelay&&(t.triggeredAfterMouseMove=AP()(t.triggeredAfterMouseMove,e.throttleDelay)),t.state={},t}return t=c,r=[{key:"componentDidMount",value:function(){var e,t;_D()(this.props.syncId)||this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.handleMouseMove,layout:this.props.layout})}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){_D()(e.syncId)&&!_D()(this.props.syncId)&&this.addListener(),!_D()(e.syncId)&&_D()(this.props.syncId)&&this.removeListener()}},{key:"componentWillUnmount",value:function(){this.clearDeferId(),_D()(this.props.syncId)||this.removeListener(),this.cancelThrottledTriggerAfterMouseMove()}},{key:"cancelThrottledTriggerAfterMouseMove",value:function(){"function"===typeof this.triggeredAfterMouseMove.cancel&&this.triggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=dV(this.props.children,LK);if(e&&ED()(e.props.shared)){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:o}return o}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t=function(e){var t=e.ownerDocument.documentElement,n={top:0,left:0};return"undefined"!==typeof e.getBoundingClientRect&&(n=e.getBoundingClientRect()),{top:n.top+window.pageYOffset-t.clientTop,left:n.left+window.pageXOffset-t.clientLeft}}(this.container),n=function(e,t){return{chartX:Math.round(e.pageX-t.left),chartY:Math.round(e.pageY-t.top)}}(e,t),r=this.inRange(n.chartX,n.chartY);if(!r)return null;var i=this.state,a=i.xAxisMap,o=i.yAxisMap;if("axis"!==this.getTooltipEventType()&&a&&o){var u=iD(a).scale,s=iD(o).scale,c=u&&u.invert?u.invert(n.chartX):null,l=s&&s.invert?s.invert(n.chartY):null;return t$(t$({},n),{},{xValue:c,yValue:l})}var f=d$(this.state,this.props.data,this.props.layout,r);return f?t$(t$({},n),f):null}},{key:"getCursorRectangle",value:function(){var e=this.props.layout,t=this.state,n=t.activeCoordinate,r=t.offset,i=t.tooltipAxisBandSize,a=i/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?n.x-a:r.left+.5,y:"horizontal"===e?r.top+.5:n.y-a,width:"horizontal"===e?i:r.width-1,height:"horizontal"===e?r.height-1:i}}},{key:"getCursorPoints",value:function(){var e,t,n,r,i=this.props.layout,a=this.state,o=a.activeCoordinate,u=a.offset;if("horizontal"===i)n=e=o.x,t=u.top,r=u.top+u.height;else if("vertical"===i)r=t=o.y,e=u.left,n=u.left+u.width;else if(!_D()(o.cx)||!_D()(o.cy)){if("centric"!==i){var s=o.cx,c=o.cy,l=o.radius,f=o.startAngle,d=o.endAngle;return{points:[dG(s,c,l,f),dG(s,c,l,d)],cx:s,cy:c,radius:l,startAngle:f,endAngle:d}}var h=o.cx,p=o.cy,v=o.innerRadius,m=o.outerRadius,y=o.angle,g=dG(h,p,v,y),b=dG(h,p,m,y);e=g.x,t=g.y,n=b.x,r=b.y}return[{x:e,y:t},{x:n,y:r}]}},{key:"inRange",value:function(e,t){var n=this.props.layout;if("horizontal"===n||"vertical"===n){var r=this.state.offset;return e>=r.left&&e<=r.left+r.width&&t>=r.top&&t<=r.top+r.height?{x:e,y:t}:null}var i=this.state,a=i.angleAxisMap,o=i.radiusAxisMap;if(a&&o){var u=iD(a);return mG({x:e,y:t},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=dV(e,LK),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd}),t$(t$({},eV(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){PY.on(DY,this.handleReceiveSyncEvent),PY.setMaxListeners&&PY._maxListeners&&PY.setMaxListeners(PY._maxListeners+1)}},{key:"removeListener",value:function(){PY.removeListener(DY,this.handleReceiveSyncEvent),PY.setMaxListeners&&PY._maxListeners&&PY.setMaxListeners(PY._maxListeners-1)}},{key:"triggerSyncEvent",value:function(e){var t=this.props.syncId;_D()(t)||PY.emit(DY,t,this.uniqueChartId,e)}},{key:"applySyncEvent",value:function(e){var t=this.props,n=t.layout,r=t.syncMethod,i=this.state.updateId,a=e.dataStartIndex,o=e.dataEndIndex;if(_D()(e.dataStartIndex)&&_D()(e.dataEndIndex))if(_D()(e.activeTooltipIndex))this.setState(e);else{var u=e.chartX,s=e.chartY,c=e.activeTooltipIndex,l=this.state,f=l.offset,d=l.tooltipTicks;if(!f)return;if("function"===typeof r)c=r(d,e);else if("value"===r){c=-1;for(var h=0;h<d.length;h++)if(d[h].value===e.activeLabel){c=h;break}}var v=t$(t$({},f),{},{x:f.left,y:f.top}),m=Math.min(u,v.x+v.width),y=Math.min(s,v.y+v.height),g=d[c]&&d[c].value,b=f$(this.state,this.props.data,c),x=d[c]?{x:"horizontal"===n?d[c].coordinate:m,y:"horizontal"===n?y:d[c].coordinate}:a$;this.setState(t$(t$({},e),{},{activeLabel:g,activeCoordinate:x,activePayload:b,activeTooltipIndex:c}))}else this.setState(t$({dataStartIndex:a,dataEndIndex:o},p({props:this.props,dataStartIndex:a,dataEndIndex:o,updateId:i},this.state)))}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,i=0,a=r.length;i<a;i++){var o=r[i];if(o.item===e||o.props.key===e.key||t===uV(o.item.type)&&n===o.childIndex)return o}return null}},{key:"renderAxis",value:function(e,t,n,r){var a=this.props,o=a.width,u=a.height;return i.createElement(VQ,HY({},e,{className:IP()("recharts-".concat(e.axisType," ").concat(e.axisType),e.className),key:t.key||"".concat(n,"-").concat(r),viewBox:{x:0,y:0,width:o,height:u},ticksGenerator:this.axesTicksGenerator}))}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,r=t.top,a=t.height,o=t.width;return i.createElement("defs",null,i.createElement("clipPath",{id:e},i.createElement("rect",{x:n,y:r,height:a,width:o})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=qY(t,2),r=n[0],i=n[1];return t$(t$({},e),{},n$({},r,i.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=qY(t,2),r=n[0],i=n[1];return t$(t$({},e),{},n$({},r,i.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t,n;return null===(t=this.state.xAxisMap)||void 0===t||null===(n=t[e])||void 0===n?void 0:n.scale}},{key:"getYScaleByAxisId",value:function(e){var t,n;return null===(t=this.state.yAxisMap)||void 0===t||null===(n=t[e])||void 0===n?void 0:n.scale}},{key:"getItemByXY",value:function(e){var t=this.state.formattedGraphicalItems;if(t&&t.length)for(var n=0,r=t.length;n<r;n++){var i=t[n],a=i.props,o=i.item,u=uV(o.type);if("Bar"===u){var s=(a.data||[]).find((function(t){return UW(e,t)}));if(s)return{graphicalItem:i,payload:s}}else if("RadialBar"===u){var c=(a.data||[]).find((function(t){return mG(e,t)}));if(c)return{graphicalItem:i,payload:c}}}return null}},{key:"render",value:function(){var e=this;if(!hV(this))return null;var t=this.props,n=t.children,r=t.className,a=t.width,o=t.height,u=t.style,s=t.compact,c=t.title,l=t.desc,f=WY(t,VY),d=mV(f),h={CartesianGrid:{handler:this.renderGrid,once:!0},ReferenceArea:{handler:this.renderReferenceElement},ReferenceLine:{handler:this.renderReferenceElement},ReferenceDot:{handler:this.renderReferenceElement},XAxis:{handler:this.renderXAxis},YAxis:{handler:this.renderYAxis},Brush:{handler:this.renderBrush,once:!0},Bar:{handler:this.renderGraphicChild},Line:{handler:this.renderGraphicChild},Area:{handler:this.renderGraphicChild},Radar:{handler:this.renderGraphicChild},RadialBar:{handler:this.renderGraphicChild},Scatter:{handler:this.renderGraphicChild},Pie:{handler:this.renderGraphicChild},Funnel:{handler:this.renderGraphicChild},Tooltip:{handler:this.renderCursor,once:!0},PolarGrid:{handler:this.renderPolarGrid,once:!0},PolarAngleAxis:{handler:this.renderPolarAxis},PolarRadiusAxis:{handler:this.renderPolarAxis},Customized:{handler:this.renderCustomized}};if(s)return i.createElement(MV,HY({},d,{width:a,height:o,title:c,desc:l}),this.renderClipPath(),bV(n,h));this.props.accessibilityLayer&&(d.tabIndex=0,d.role="img",d.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},d.onFocus=function(){e.accessibilityManager.focus()});var p=this.parseEventsOfWrapper();return i.createElement("div",HY({className:IP()("recharts-wrapper",r),style:t$({position:"relative",cursor:"default",width:a,height:o},u)},p,{ref:function(t){e.container=t},role:"region"}),i.createElement(MV,HY({},d,{width:a,height:o,title:c,desc:l}),this.renderClipPath(),bV(n,h)),this.renderLegend(),this.renderTooltip())}}],r&&GY(t.prototype,r),a&&GY(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(i.Component),n$(t,"displayName",n),n$(t,"defaultProps",t$({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),n$(t,"getDerivedStateFromProps",(function(e,t){var n=e.data,r=e.children,i=e.width,a=e.height,o=e.layout,u=e.stackOffset,s=e.margin;if(_D()(t.updateId)){var c=v$(e);return t$(t$(t$({},c),{},{updateId:0},p(t$(t$({props:e},c),{},{updateId:0}),t)),{},{prevData:n,prevWidth:i,prevHeight:a,prevLayout:o,prevStackOffset:u,prevMargin:s,prevChildren:r})}if(n!==t.prevData||i!==t.prevWidth||a!==t.prevHeight||o!==t.prevLayout||u!==t.prevStackOffset||!QU(s,t.prevMargin)){var l=v$(e),f={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},d=t$(t$({},d$(t,n,o)),{},{updateId:t.updateId+1}),h=t$(t$(t$({},l),f),d);return t$(t$(t$({},h),p(t$({props:e},h),t)),{},{prevData:n,prevWidth:i,prevHeight:a,prevLayout:o,prevStackOffset:u,prevMargin:s,prevChildren:r})}if(!yV(r,t.prevChildren)){var v=!_D()(n)?t.updateId:t.updateId+1;return t$(t$({updateId:v},p(t$(t$({props:e},t),{},{updateId:v}),t)),{},{prevChildren:r})}return null})),n$(t,"renderActiveDot",(function(e,t){var n;return n=(0,i.isValidElement)(e)?(0,i.cloneElement)(e,t):yD()(e)?e(t):i.createElement(TQ,t),i.createElement(_V,{className:"recharts-active-dot",key:t.key},n)})),t},b$=function(){return null};b$.displayName="XAxis",b$.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var x$=function(){return null};x$.displayName="YAxis",x$.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var w$=g$({chartName:"BarChart",GraphicalChild:tK,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:b$},{axisType:"yAxis",AxisComp:x$}],formatAxisMap:sK}),k$=function(e){var t=e.data;console.log(t);var n=function(e){var t=e.fill,n=e.x,r=e.y,i=e.width,a=e.height,o=e.radius;return(0,yA.jsx)("g",{children:(0,yA.jsx)("rect",{x:n,y:r,width:i,height:a,rx:o,ry:o,fill:t})})};return(0,yA.jsx)(fD,{width:"100%",height:"100%",children:(0,yA.jsxs)(w$,{height:300,data:t,margin:{top:20,right:30,left:20,bottom:5},barSize:50,children:[(0,yA.jsx)(b$,{dataKey:"name"}),(0,yA.jsx)(x$,{}),(0,yA.jsx)(LK,{content:function(e){var t=e.active,n=e.payload;e.label;return t&&n&&n.length?(0,yA.jsxs)("div",{className:"bg-defaultBg border p-2 rounded-lg",children:[(0,yA.jsxs)("p",{className:"label text-xs text-white",children:[n[0].value," On-time"]}),(0,yA.jsxs)("p",{className:"label text-xs text-white",children:[n[1].value," Late arrivals"]}),(0,yA.jsxs)("p",{className:"label text-xs text-white",children:[n[2]?n[2].value:0," Absent"]})]}):null}}),(0,yA.jsx)(tq,{iconType:"wye",payload:[{value:"Late Arrival",type:"circle",color:"#c4975b"},{value:"On-time",type:"circle",color:"#1d322f"},{value:"Absence",type:"circle",color:"#cfd0d1"}]}),(0,yA.jsx)(tK,{dataKey:"uv",stackId:"a",fill:"#1d322f",shape:(0,yA.jsx)(n,{radius:10})}),(0,yA.jsx)(tK,{dataKey:"pv",stackId:"a",fill:"#c4975b",shape:(0,yA.jsx)(n,{radius:10})}),(0,yA.jsx)(tK,{dataKey:"amt",stackId:"a",fill:"#cfd0d1",shape:(0,yA.jsx)(n,{radius:10})})]})})},_$=function(){var e=m((0,i.useState)(),2),t=e[0],n=e[1];return(0,i.useEffect)((function(){var e=(new Date).getFullYear();Hj.collection("attendance").where("time_in",">=",new Date(e,0,1)).where("time_in","<",new Date(e+1,0,1)).get().then((function(e){var t=e.docs.map((function(e){var t=e.data(),n=t.time_in,r=t.employee_id,i=t.time_out,a=new Date(1e3*(null===n||void 0===n?void 0:n.seconds)),o=(new Date).toLocaleDateString()===a.toLocaleDateString(),u=i;if(!i&&!o){var s=new Date(a);u=qj.fromDate(new Date(s.setHours(23,59,0,0)))}return{theDate:a.toLocaleDateString(),time_in:n,time_out:u,employee_id:r,id:e.id}})),r=[];null===t||void 0===t||t.forEach((function(e){var t,n,i,a=new Date(1e3*(null===(t=e.time_in)||void 0===t?void 0:t.seconds)).getMonth(),o=new Date(1e3*(null===(n=e.time_in)||void 0===n?void 0:n.seconds)),u=new Date(1e3*(null===(i=e.time_in)||void 0===i?void 0:i.seconds)).toLocaleString("default",{month:"long"});return r[a]||(r[a]={name:u,pv:0,uv:0}),o.getHours()<=9?r[a].pv=r[a].pv+1:r[a].uv=r[a].uv+1}));var i=r.filter((function(e){return void 0!==e}));n(i)}))}),[]),(0,yA.jsxs)("section",{children:[(0,yA.jsx)(_A,{}),(0,yA.jsx)(pP,{}),(0,yA.jsx)(SP,{}),(0,yA.jsx)("div",{className:"container mt-6 mb-6",children:(0,yA.jsxs)("div",{className:"flex space-x-4",children:[(0,yA.jsx)("div",{className:"w-7/12",children:(0,yA.jsx)("div",{className:"bg-white rounded-lg shadow-md py-5 overflow-hidden h-full max-h-[500px]",children:(0,yA.jsx)(k$,{data:t})})}),(0,yA.jsx)("div",{className:"w-5/12",children:(0,yA.jsx)(EP,{})})]})})]})},S$=n.p+"static/media/user.cfe9f79c746ba3002568.jpg",E$=function(){return(0,yA.jsx)("div",{className:"bg-defaultBg\t h-screen text-amber-100 ",children:(0,yA.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,yA.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 "})})})},T$=function(e){var t=e.selection,n=m((0,i.useState)(),2),r=n[0],a=n[1],o=m((0,i.useState)(!0),2),u=o[0],s=o[1],c=lP();(0,i.useEffect)((function(){Hj.collection("users").onSnapshot(function(){var e=nn(en().mark((function e(t){var n,r;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.docs.map((function(e){var t=e.data(),n=t.email,r=t.name,i=t.phone,a=t.department,o=t.role,u=t.e_date,s=t.e_id;return{email:n,name:r,phone:i,department:a,id:e.id,e_date:u,role:o,e_id:s,status:!1}})),e.next=3,Promise.all(n.map(function(){var e=nn(en().mark((function e(t){var n,r,i;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hj.collection("attendance").where("employee_id","==",t.id).get();case 2:if((n=e.sent).empty){e.next=9;break}return r=(new Date).toLocaleDateString(),i=n.docs.some((function(e){var t,n;return new Date(1e3*(null===e||void 0===e||null===(t=e.data())||void 0===t||null===(n=t.time_in)||void 0===n?void 0:n.seconds)).toLocaleDateString()===r})),e.abrupt("return",f(f({},t),{},{status:i}));case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:r=e.sent,a(r),s(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var l=(0,i.useMemo)((function(){return t.filterDepartment?r.filter((function(e){return e.department===t.filterDepartment})):r}),[r,t]),d=(0,i.useMemo)((function(){return"name"===t.sort?g(l).sort((function(e,t){return e.name.localeCompare(t.name)})):"e_id"===t.sort?g(l).sort((function(e,t){return e.e_id-t.e_id})):l}),[l,t]);return u?(0,yA.jsx)(E$,{}):(0,yA.jsx)("div",{className:"flex space-x-5  flex-wrap justify-center",children:r&&(null===d||void 0===d?void 0:d.map((function(e,t){var n=fP(null===e||void 0===e?void 0:e.department,c);return(0,yA.jsx)("div",{className:"w-3/12 mb-10",children:(0,yA.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-4 text-center mt-6",children:[(0,yA.jsxs)("div",{className:"relative w-max m-auto",children:[(0,yA.jsx)("img",{src:S$,alt:null===e||void 0===e?void 0:e.name,className:"w-24 h-24 -mt-10 rounded-full mx-auto mb-2"}),(0,yA.jsx)("span",{className:"".concat(null!==e&&void 0!==e&&e.status?"bg-green-600":"bg-red-600"," w-4 h-4 block absolute top-0 right-4 border-2 m-auto rounded-full")})]}),(0,yA.jsx)("span",{children:null===e||void 0===e?void 0:e.e_id}),(0,yA.jsx)("h2",{className:"text-lg font-bold mb-0 capitalize",children:null===e||void 0===e?void 0:e.name}),(0,yA.jsx)("p",{className:"text-gray-500 font-semibold capitalize mb-4",children:null===e||void 0===e?void 0:e.role}),(0,yA.jsxs)("div",{className:" bg-color-two rounded-lg text-white text-left px-5 py-2 my-2",children:[(0,yA.jsxs)("p",{className:"flex items-center",children:[(0,yA.jsx)(xO,{className:"mr-2"}),null===e||void 0===e?void 0:e.email]}),(0,yA.jsxs)("p",{className:"flex items-center",children:[(0,yA.jsx)(pO,{className:"mr-2"})," ",null===e||void 0===e?void 0:e.phone]})]}),(0,yA.jsxs)("div",{className:" bg-color-three rounded-lg mb-3 text-left px-5 py-2 mt-2",children:[(0,yA.jsxs)("p",{className:"flex items-center justify-between",children:["Department:",(0,yA.jsx)("span",{className:"font-semibold",children:n})]}),(0,yA.jsxs)("p",{className:"flex items-center justify-between",children:["Date of joining:",(0,yA.jsx)("span",{className:"font-semibold",children:null===e||void 0===e?void 0:e.e_date})]})]}),(0,yA.jsx)(Ze,{to:"./view/"+(null===e||void 0===e?void 0:e.id),className:"block rounded-md m-auto border border-color-one hover:bg-color-one hover:text-white text-color-one font-bold py-2 px-4 ",children:"View Profile"})]})},t)})))})},I$=function(e){var t=e.closeModal,n=m((0,i.useState)([]),2),r=n[0],a=n[1],o=_t();return(0,i.useEffect)((function(){Hj.collection("users").where("isManager","==",!0).get().then((function(e){var t=e.docs.map((function(e){return{id:e.id,name:e.data().name}}));a(t)}))}),[]),(0,yA.jsx)("div",{children:(0,yA.jsx)("div",{className:"fixed inset-0 grid overflow-y-auto\tpy-5 items-center justify-center z-50 bg-[#0000008c]",children:(0,yA.jsxs)("div",{className:"bg-white p-8 rounded shadow-md relative ",children:[(0,yA.jsx)("button",{className:"mt-4 bg-black rounded-full text-xs absolute right-2 top-1 text-white font-bold py-1 px-2 ",onClick:t,children:"X"}),(0,yA.jsx)("h1",{className:"text-2xl font-bold  mb-5",children:"Add Department"}),(0,yA.jsx)(gA,{typeProp:"addDepartment"}),(0,yA.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=e.currentTarget.elements.namedItem("name"),r=e.currentTarget.elements.namedItem("head");""==(null===n||void 0===n?void 0:n.value)?o(pA({name:"addDepartment",msg:"Please fill all fields.",code:1})):Hj.collection("departments").add({department_name:n.value,department_head:r.value}).then((function(e){o(pA({name:"addDepartment",msg:"Department added successfully!",code:3,time:3e3})),setTimeout((function(){null===t||void 0===t||t()}),3e3)})).catch((function(e){console.error("Error adding document: ",e),o(pA({name:"addDepartment",msg:e.message,code:1}))}))},className:"mt-3",children:[(0,yA.jsxs)("div",{className:"mb-4 space-y-3 block",children:[(0,yA.jsx)("input",{id:"name",type:"text",name:"name",placeholder:"Department Name*",className:"border w-full border-gray-300 p-2 rounded"}),(0,yA.jsxs)("select",{name:"head",className:"border w-full border-gray-300 p-2 rounded",children:[(0,yA.jsx)("option",{value:"",children:"Department head"}),r&&(null===r||void 0===r?void 0:r.map((function(e,t){return(0,yA.jsx)("option",{value:e.id,children:e.name},t)})))]})]}),(0,yA.jsx)("button",{type:"submit",className:"bg-defaultBg w-full text-white py-2 px-5 rounded",children:"Add"})]})]})})})},j$=function(e){var t=e.page,n=e.setSelection,r=Te().id,a=pt((function(e){return e.user})),o=_t(),u=(Ee(),m((0,i.useState)({}),2)),s=u[0],l=u[1],d=m((0,i.useState)(null),2),h=d[0],p=d[1],v=lP();(0,i.useEffect)((function(){Hj.collection("users").doc(r).onSnapshot((function(e){var t=e.data();t&&p({name:t.name,role:t.role,email:t.email,e_id:t.e_id,id:t.id})}))}),[r]);var y=function(e){var t=e.target,r=t.value,i=t.name;n&&n((function(e){return f(f({},e),{},c({},i,r))}))};return(0,yA.jsxs)("section",{className:"bg-defaultBg  py-10",children:[(0,yA.jsxs)("div",{className:"container flex justify-between",children:["main"==t&&(0,yA.jsxs)("div",{className:"flex justify-between w-full",children:[(0,yA.jsxs)("div",{children:[(0,yA.jsx)("h1",{className:" text-3xl text-amber-100 font-thin",children:"Employees"}),(0,yA.jsxs)("div",{className:"flex mt-3",children:[(0,yA.jsxs)("select",{name:"filterDepartment",onChange:y,className:"border w-full border-color-one text-color-one mr-2 p-2 rounded bg-transparent text-sm h-max",children:[(0,yA.jsx)("option",{value:"",children:"Department"}),v&&(null===v||void 0===v?void 0:v.map((function(e){return(0,yA.jsx)("option",{value:e.id,children:e.title},e.id)})))]}),(0,yA.jsxs)("select",{name:"sort",onChange:y,className:"border w-full border-color-one text-color-one mr-2 p-2 rounded bg-transparent text-sm h-max",children:[(0,yA.jsx)("option",{value:"",children:"Sort"}),(0,yA.jsx)("option",{value:"e_id",children:"Employee id"}),(0,yA.jsx)("option",{value:"name",children:"Name"})]})]})]}),(0,yA.jsxs)("div",{children:[(0,yA.jsxs)("button",{className:"defaultstyle",onClick:function(){l(f(f({},s),{},{Employeeform:!0}))},children:[(0,yA.jsx)("span",{className:"text-2xl font-bold  leading-6",children:"+"}),"Add Employee"]}),(0,yA.jsxs)("button",{className:"defaultstyle ml-3",onClick:function(){l(f(f({},s),{},{DepartmentForm:!0}))},children:[(0,yA.jsx)("span",{className:"text-2xl font-bold  leading-6",children:"+"}),"Add Department"]})]})]}),"view"==t&&h&&(0,yA.jsxs)("div",{className:"flex justify-between w-full",children:[(0,yA.jsxs)("div",{children:[(0,yA.jsx)(Ze,{to:"../employees",className:"block  text-amber-100 text-xs px-2 py-1 w-max mb-2",children:"Go back"}),(0,yA.jsxs)("div",{className:"flex items-center space-x-2 capitalize text-gray-400",children:[(0,yA.jsxs)("div",{className:"relative w-max m-auto",children:[(0,yA.jsx)("img",{src:S$,alt:h.name,className:"w-24 h-24 rounded-full mx-auto mb-2"}),(0,yA.jsx)("span",{className:"".concat("bg-green-600"," w-4 h-4 block absolute top-0 right-4 border-2 m-auto rounded-full")})]}),(0,yA.jsxs)("div",{children:[(0,yA.jsx)("p",{className:" w-max bg-color-one text-black px-2 rounded-md text-xs",children:h.e_id}),(0,yA.jsx)("h1",{className:" text-3xl text-amber-100 font-thin",children:h.name}),(0,yA.jsx)("p",{children:h.role}),(0,yA.jsx)("p",{children:h.email})]})]})]}),a.id!==r&&(0,yA.jsx)("div",{children:(0,yA.jsx)("button",{className:"bg-red-500 text-white p-3 rounded-full ml-3",onClick:function(){l(f(f({},s),{},{DeleteForm:!0}))},children:(0,yA.jsx)(mO,{})})})]}),"view"==t&&!h&&(0,yA.jsx)("h1",{className:"text-white",children:" If you are viewing this page and the employee is not found, it seems they might have been removed."})]}),s.Employeeform&&(0,yA.jsx)(hP,{closeModal:function(){o(vA("addEmployee")),l(f(f({},s),{},{Employeeform:!1}))}}),s.DepartmentForm&&(0,yA.jsx)(I$,{closeModal:function(){o(vA("addDepartment")),l(f(f({},s),{},{DepartmentForm:!1}))}}),s.DeleteForm&&(0,yA.jsx)("div",{children:(0,yA.jsx)("div",{className:"fixed inset-0 grid overflow-y-auto\tpy-5 items-center justify-center z-50 bg-[#0000008c]",children:(0,yA.jsxs)("div",{className:"bg-white p-8 rounded shadow-md relative ",id:"employeeFormPopup",children:[(0,yA.jsx)(gA,{typeProp:"deleteEmployee"}),(0,yA.jsx)("h1",{className:"text-2xl font-bold  mb-5",children:"Are you sure to remove the user?"}),(0,yA.jsxs)("div",{className:"flex space-x-3 mb-3",children:[(0,yA.jsx)("button",{className:" rounded-md m-auto border hover:bg-red-600 text-white w-full font-bold py-2 px-4  bg-red-700",children:"Remove"}),(0,yA.jsx)("button",{className:"w-full rounded-md m-auto border border-color-one hover:bg-color-one hover:text-white text-color-one font-bold py-2 px-4 ",onClick:function(){return l(f(f({},s),{},{DeleteForm:!1}))},children:"Close"})]}),(0,yA.jsx)("p",{children:"Delete action is currently disabled on development mode."})]})})})]})},O$=function(){var e=m((0,i.useState)({}),2),t=e[0],n=e[1];return(0,yA.jsxs)("section",{children:[(0,yA.jsx)(_A,{}),(0,yA.jsx)(gA,{typeProp:"deleteEmployee"}),(0,yA.jsx)(j$,{page:"main",setSelection:n}),(0,yA.jsx)("div",{className:" bg-gradient-to-b from-defaultBg to-transparent to-[130px] from-[1.5rem] ",children:(0,yA.jsx)(T$,{selection:t})})]})},N$=function(e){var t=e.closeModal,n=e.type,r=e.User,a=Te().id,o=lP(),u=_t(),s=m((0,i.useState)([]),2),l=s[0],d=s[1],h=m((0,i.useState)([]),2),p=h[0],v=h[1],y=m((0,i.useState)([]),2),g=y[0],b=y[1],x=m((0,i.useState)({}),2),w=x[0],k=x[1],_=m((0,i.useState)({personal:{name:null===r||void 0===r?void 0:r.name,phone:null===r||void 0===r?void 0:r.phone},employment:{role:null===r||void 0===r?void 0:r.role,email:null===r||void 0===r?void 0:r.email,jobmode:null===r||void 0===r?void 0:r.jobmode,jobstatus:null===r||void 0===r?void 0:r.jobstatus,date:null===r||void 0===r?void 0:r.e_date,eid:null===r||void 0===r?void 0:r.e_id,manager:null===r||void 0===r?void 0:r.manager,department:null===r||void 0===r?void 0:r.department}}),2),S=_[0],E=_[1],T=function(e){var t=e.currentTarget,r=t.name,i=t.value;E(f(f({},S),{},"Personalform"==n?{personal:f(f({},S.personal),{},c({},r,i))}:{employment:f(f({},S.employment),{},c({},r,i))}));var a,o={status:!1};if("email"!==r||/(.+)@(.+){2,}\.(.+){2,}/.test(i))if("phone"===r&&i.length<10){var u;o=f(f({},o),{},(c(u={},r,"Invalid phone number"),c(u,"status",!0),u))}else o=f(f({},o),{},c({},r,null));else o=f(f({},o),{},(c(a={},r,"Enter a valid email id"),c(a,"status",!0),a));k(f(f({},w),o))};(0,i.useEffect)((function(){var e=Object.keys(w).filter((function(e){return"status"!==e})).every((function(e){return null===w[e]}));k(f(f({},w),{},{status:!e}))}),[S]);(0,i.useEffect)((function(){b(o),Hj.collection("users").where("isManager","==",!0).get().then((function(e){var t=e.docs.map((function(e){return{id:e.id,name:e.data().name,dept:e.data().department}}));return d(t),t})).then((function(e){var t=e.filter((function(e){return(null===e||void 0===e?void 0:e.dept)===r.department}));v(t)}))}),[]);return(0,yA.jsx)("div",{children:(0,yA.jsx)("div",{className:"fixed inset-0 grid overflow-y-auto\tpy-5 items-center justify-center z-50 bg-[#0000008c]",children:(0,yA.jsxs)("div",{className:"bg-white p-8 rounded shadow-md relative ",id:"employeeFormPopup",children:[(0,yA.jsx)("button",{className:"mt-4 bg-black rounded-full text-xs absolute right-2 top-1 text-white font-bold py-1 px-2 ",onClick:t,children:"X"}),(0,yA.jsxs)("h1",{className:"text-2xl font-bold  mb-5",children:["Quick Edit ","Personalform"==n?"Personal details":"Employment details"]}),(0,yA.jsx)(gA,{typeProp:"editEmployee"}),(0,yA.jsxs)("form",{onSubmit:function(e){var i,o,s,c;e.preventDefault();var l,f,d=null===(i=e.currentTarget)||void 0===i||null===(o=i.isManager)||void 0===o?void 0:o.checked,h=null!==(s=e.currentTarget.address)&&void 0!==s&&s.value?null===(c=e.currentTarget.address)||void 0===c?void 0:c.value:"",p=document.getElementById("employeeFormPopup"),v="Personalform"==n?S.personal:S.employment;if(Object.keys(v).some((function(e){return""===v[e].trim()}))||1==w.status)return u(pA({name:"editEmployee",msg:"Please fill valid data in all mandotory fields",code:1})),void(p&&p.scrollIntoView({behavior:"smooth",block:"start"}));l="Personalform"==n?{name:S.personal.name,phone:S.personal.phone,address:h,dob:null===(f=e.currentTarget.dob)||void 0===f?void 0:f.value}:{e_id:S.employment.eid,e_date:S.employment.date,email:S.employment.email,role:S.employment.role,jobmode:S.employment.jobmode,jobstatus:S.employment.jobstatus,isManager:d,manager:S.employment.manager,department:S.employment.department},"Employmentform"==n&&cP.post("http://localhost:5000/editUser",{email:S.employment.email,uid:null===r||void 0===r?void 0:r.id}).then((function(e){console.log(e)})),l&&Hj.collection("users").doc(a).set(l,{merge:!0}).then((function(e){u(pA({name:"editEmployee",msg:"Employee details updated successfully!",code:3,time:3e3})),p&&p.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout((function(){null===t||void 0===t||t()}),3e3)})).catch((function(e){console.log("Error updating user : ",e)}))},className:"mt-3",children:["Personalform"==n&&(0,yA.jsxs)("div",{children:[(0,yA.jsx)("div",{className:"mb-4 space-x-3 flex",children:(0,yA.jsx)("input",{id:"NameInput",type:"text",name:"name",placeholder:"Name*",defaultValue:null===r||void 0===r?void 0:r.name,onBlur:T,className:"border border-gray-300 p-2 w-full rounded"})}),(0,yA.jsxs)("div",{className:"mb-4 space-x-3 ",children:[(0,yA.jsx)("input",{id:"phoneNumberInput",type:"text",name:"phone",placeholder:"Phone Number*",defaultValue:null===r||void 0===r?void 0:r.phone,onBlur:T,className:"border border-gray-300 p-2 w-full rounded"}),w.phone&&(0,yA.jsx)("small",{className:"block text-red-500\t",children:w.phone})]}),(0,yA.jsxs)("div",{className:"w-full mb-4 ",children:[(0,yA.jsx)("label",{className:" font-semibold",children:"Date of birth: "}),(0,yA.jsx)("br",{}),(0,yA.jsx)("input",{id:"dob",type:"date",name:"dob",placeholder:"Date of birth",onBlur:T,defaultValue:null===r||void 0===r?void 0:r.dob,max:function(){var e=new Date;return e.setFullYear(e.getFullYear()-18),e.toISOString().split("T")[0]}(),className:"border mt-2 w-full border-gray-300 p-2 rounded"})]}),(0,yA.jsx)("div",{className:"mb-4 space-x-3",children:(0,yA.jsx)("textarea",{id:"addressInput",placeholder:"Address",name:"address",defaultValue:r.address?r.address:"",className:"border w-full border-gray-300 p-2 rounded"})})]}),"Employmentform"==n&&(0,yA.jsxs)("div",{children:[(0,yA.jsxs)("div",{className:"mb-4 space-x-3 ",children:[(0,yA.jsx)("input",{id:"emailInput",type:"email",name:"email",placeholder:"Email*",defaultValue:null===r||void 0===r?void 0:r.email,onBlur:T,className:"border w-full border-gray-300 p-2 rounded"}),w.email&&(0,yA.jsx)("small",{className:"block text-red-500\t",children:w.email})]}),(0,yA.jsxs)("div",{className:"mb-4 space-x-3 flex",children:[(0,yA.jsx)("input",{id:"EidInput",type:"text",name:"eid",placeholder:"Employee id*",defaultValue:null===r||void 0===r?void 0:r.e_id,onBlur:T,className:"border border-gray-300 p-2 rounded"}),(0,yA.jsx)("input",{id:"role",type:"text",name:"role",placeholder:"Role*",defaultValue:null===r||void 0===r?void 0:r.role,onBlur:T,className:"border h-max w-full border-gray-300 p-2 rounded"})]}),(0,yA.jsxs)("div",{className:"mb-4 space-x-3 flex",children:[(0,yA.jsxs)("select",{name:"department",onBlur:T,onChange:function(e){var t=l.filter((function(t){return(null===t||void 0===t?void 0:t.dept)===e.currentTarget.value}));v(t),console.log(p)},className:"border w-full border-gray-300 p-2 rounded",children:[(0,yA.jsx)("option",{children:"Department *"}),g&&(null===g||void 0===g?void 0:g.map((function(e){return(0,yA.jsx)("option",{value:e.id,selected:(null===e||void 0===e?void 0:e.id)===r.department,children:e.title},e.id)})))]}),(0,yA.jsxs)("select",{name:"manager",onBlur:T,className:"border w-full border-gray-300 p-2 rounded",children:[(0,yA.jsx)("option",{children:"Manager"}),p&&(null===p||void 0===p?void 0:p.map((function(e){return(0,yA.jsx)("option",{value:e.id,selected:(null===e||void 0===e?void 0:e.id)===r.manager,children:e.name},e.id)})))]})]}),(0,yA.jsxs)("div",{className:"w-full mb-4 ",children:[(0,yA.jsx)("label",{className:" font-semibold",children:"Employment date: "}),(0,yA.jsx)("br",{}),(0,yA.jsx)("input",{id:"date",type:"date",name:"date",placeholder:"Date",defaultValue:null===r||void 0===r?void 0:r.e_date,onBlur:T,max:(new Date).toISOString().split("T")[0],className:"border mt-2 w-full border-gray-300 p-2 rounded"})]}),(0,yA.jsxs)("div",{className:"mb-4 ",children:[(0,yA.jsx)("label",{className:"mr-3 font-semibold",children:"Job status* "}),(0,yA.jsx)("br",{}),(0,yA.jsx)("input",{type:"radio",name:"jobstatus",value:"intern",className:"mr-2",onBlur:T,defaultChecked:"intern"===(null===r||void 0===r?void 0:r.jobstatus)}),"Intern",(0,yA.jsx)("input",{type:"radio",name:"jobstatus",value:"fulltime",className:"ml-3 mr-2",onBlur:T,defaultChecked:"fulltime"==(null===r||void 0===r?void 0:r.jobstatus)}),"Fulltime"]}),(0,yA.jsxs)("div",{className:"mb-4 ",children:[(0,yA.jsx)("label",{className:"mr-3 font-semibold",children:"Job mode* "}),(0,yA.jsx)("br",{}),(0,yA.jsx)("input",{type:"radio",name:"jobmode",value:"remote",className:"mr-2",onBlur:T,defaultChecked:"remote"===(null===r||void 0===r?void 0:r.jobmode)}),"Remote",(0,yA.jsx)("input",{type:"radio",name:"jobmode",value:"office",className:"ml-3 mr-2",onBlur:T,defaultChecked:"office"===(null===r||void 0===r?void 0:r.jobmode)}),"Office"]}),(0,yA.jsxs)("div",{className:"mb-4 block",children:[(0,yA.jsx)("input",{type:"checkbox",name:"isManager",className:"mr-2 mb-2",defaultChecked:!0===(null===r||void 0===r?void 0:r.isManager)}),"Give Manager features",(0,yA.jsx)("br",{})]})]}),(0,yA.jsx)("button",{type:"submit",className:"bg-defaultBg w-full text-white py-2 px-5 rounded",children:"Update"})]})]})})})},A$=function(){var e=Te().id,t=m((0,i.useState)(),2),n=t[0],r=t[1],a=lP(),o=fP(null===n||void 0===n?void 0:n.department,a),u=m((0,i.useState)({}),2),s=u[0],c=u[1],l=_t();return(0,i.useEffect)((function(){Hj.collection("users").doc(e).onSnapshot((function(e){var t=e.data();t&&r(f({},t)),null!==t&&void 0!==t&&t.manager&&Hj.collection("users").doc(null===t||void 0===t?void 0:t.manager).get().then((function(e){var n=e.data();r(f(f({},t),{},{managerName:null===n||void 0===n?void 0:n.name}))}))}))}),[e]),(0,yA.jsxs)("div",{className:"container bg-gradient-to-b from-defaultBg to-transparent to-[130px] from-[1.5rem] ",children:[n&&(0,yA.jsxs)("div",{className:"  pt-5 flex space-x-12",children:[(0,yA.jsxs)("div",{className:"bg-white overflow-hidden  w-full rounded-lg shadow-md items-center justify-between mb-4",children:[(0,yA.jsxs)("h2",{className:"px-8 py-2 text-2xl font-bold text-white bg-color-two flex justify-between items-center",children:["Personal Details",(0,yA.jsx)("span",{children:(0,yA.jsx)(fO,{size:20,color:"grey",onClick:function(){l(vA("editEmployee")),c(f(f({},s),{},{Personalform:!0}))}})})]}),(0,yA.jsx)("table",{className:"py-2 block w-full border-separate capitalize text-left border-spacing-y-2 border-spacing-x-4 px-4",children:(0,yA.jsxs)("tbody",{children:[(0,yA.jsxs)("tr",{children:[(0,yA.jsx)("th",{className:"font-semibold text-black",children:"Name:"}),(0,yA.jsx)("td",{children:n.name})]}),(0,yA.jsxs)("tr",{children:[(0,yA.jsx)("th",{className:"font-semibold text-black",children:"Phone:"}),(0,yA.jsx)("td",{children:n.phone})]}),(0,yA.jsxs)("tr",{children:[(0,yA.jsx)("th",{className:"font-semibold text-black",children:"Date of birth:"}),(0,yA.jsx)("td",{children:n.dob})]}),(0,yA.jsxs)("tr",{children:[(0,yA.jsx)("th",{className:"font-semibold text-black",children:"Address"}),(0,yA.jsx)("td",{children:n.address})]})]})})]}),(0,yA.jsxs)("div",{className:"bg-white overflow-hidden  w-full rounded-lg shadow-md items-center justify-between mb-4",children:[(0,yA.jsxs)("h2",{className:"px-8 py-2 text-2xl font-bold text-white bg-color-three flex justify-between items-center",children:["Employment Details",(0,yA.jsx)("span",{children:(0,yA.jsx)(fO,{size:20,color:"grey",onClick:function(){l(vA("editEmployee")),c(f(f({},s),{},{Employmentform:!0}))}})})]}),(0,yA.jsx)("table",{className:"py-2 block w-full border-separate capitalize border-spacing-y-2 border-spacing-x-4 px-4",children:(0,yA.jsxs)("tbody",{children:[(0,yA.jsxs)("tr",{children:[(0,yA.jsx)("td",{className:"font-semibold text-black",children:"Employment date:"}),(0,yA.jsx)("td",{children:n.e_date})]}),(0,yA.jsxs)("tr",{children:[(0,yA.jsx)("td",{className:"font-semibold text-black",children:"Role:"}),(0,yA.jsx)("td",{children:n.role})]}),(0,yA.jsxs)("tr",{children:[(0,yA.jsx)("td",{className:"font-semibold text-black",children:"Department:"}),(0,yA.jsx)("td",{children:o})]}),(0,yA.jsxs)("tr",{children:[(0,yA.jsx)("td",{className:"font-semibold text-black",children:"Manager:"}),(0,yA.jsx)("td",{children:(0,yA.jsx)(Ze,{to:"../employees/view/".concat(null===n||void 0===n?void 0:n.manager),children:null===n||void 0===n?void 0:n.managerName})})]}),n.isManager&&(0,yA.jsxs)("tr",{children:[(0,yA.jsx)("td",{className:"font-semibold text-black",children:"Manager role:"}),(0,yA.jsx)("td",{children:(0,yA.jsx)(iO,{})})]}),(0,yA.jsxs)("tr",{children:[(0,yA.jsx)("td",{className:"font-semibold text-black",children:"Job Mode:"}),(0,yA.jsx)("td",{children:n.jobmode})]}),(0,yA.jsxs)("tr",{children:[(0,yA.jsx)("td",{className:"font-semibold text-black",children:"Job Status:"}),(0,yA.jsx)("td",{children:n.jobstatus})]})]})})]})]}),s.Personalform&&(0,yA.jsx)(N$,{type:"Personalform",User:n,closeModal:function(){return c(f(f({},s),{},{Personalform:!1}))}}),s.Employmentform&&(0,yA.jsx)(N$,{type:"Employmentform",User:n,closeModal:function(){return c(f(f({},s),{},{Employmentform:!1}))}})]})},C$=function(){return(0,yA.jsxs)("section",{children:[(0,yA.jsx)(_A,{}),(0,yA.jsx)(j$,{page:"view"}),(0,yA.jsx)(A$,{})]})},P$=function(){var e=pt((function(e){return e.user})),t=m((0,i.useState)([]),2),n=t[0],r=t[1];(0,i.useEffect)((function(){Hj.collection("notifications").orderBy("timestamp","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return f(f({},e.data()),{},{id:e.id})}));r(t)}))}),[]);var a=function(e){var t=new Date(1e3*e),n=t.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0});return{date:t.getDate()+" "+t.toLocaleString("default",{month:"short"}),time:n}},o=function(e){console.log("open"),Hj.collection("notifications").doc(e).update({read:!0}).then().catch((function(e){console.log("error adding notification open status",e)}))},u=function(e){Hj.collection("notifications").doc(e).delete().then((function(){console.log("A notification got deleted!")})).catch((function(e){console.log("Error removing notification: ",e)}))};return(0,yA.jsxs)("div",{className:"container bg-gradient-to-b from-defaultBg to-transparent to-[130px] from-[1.5rem]",children:[(0,yA.jsxs)("div",{className:"px-6 mb-10",children:[(0,yA.jsx)("h2",{className:" text-white bg-defaultBg border py-2 px-4 mb-4",children:"Employees Notifications"}),null===n||void 0===n?void 0:n.filter((function(t){return t.user!=e.id})).map((function(e){return(0,yA.jsxs)("div",{className:"\n            flex items-center justify-between \n            ".concat(e.read?"bg-gray-100":"bg-color-one"," \n            px-4 py-3 rounded-lg mb-4 shadow-md\n            "),children:[(0,yA.jsx)(Ze,{to:"../".concat(e.linkTo),onClick:function(){!e.read&&o(e.id)},className:"w-full",children:(0,yA.jsxs)("div",{children:[(0,yA.jsx)("h6",{className:" font-semibold",children:e.title}),(0,yA.jsx)("p",{className:"text-sm text-gray-600",children:null===e||void 0===e?void 0:e.message})]})}),(0,yA.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,yA.jsxs)("p",{className:" text-sm  border-gray-500 rounded-md px-2 w-max",children:[a(null===e||void 0===e?void 0:e.timestamp.seconds).date+" ",a(e.timestamp).time]}),(0,yA.jsx)(mO,{onClick:function(){return u(e.id)}})]})]},e.id)}))]}),(0,yA.jsxs)("div",{className:"px-6",children:[(0,yA.jsx)("h2",{className:" text-white bg-defaultBg border border-color-one py-2 px-4 mb-4",children:"My Notifications"}),null===n||void 0===n?void 0:n.filter((function(t){return t.user==e.id})).map((function(e){return(0,yA.jsxs)("div",{className:"flex items-center justify-between \n                                    ".concat(e.read?"bg-gray-100":"bg-color-one"," \n                                    px-4 py-3 rounded-lg mb-4 shadow-md"),children:[(0,yA.jsx)(Ze,{to:"../".concat(e.linkTo),onClick:function(){!e.read&&o(e.id)},className:"w-full",children:(0,yA.jsxs)("div",{children:[(0,yA.jsx)("h6",{className:" font-semibold",children:e.title}),(0,yA.jsx)("p",{className:"text-sm text-gray-600",children:null===e||void 0===e?void 0:e.message})]})}),(0,yA.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,yA.jsxs)("p",{className:" text-sm  border-gray-500 rounded-md px-2 w-max",children:[a(null===e||void 0===e?void 0:e.timestamp.seconds).date+" ",a(e.timestamp).time]}),(0,yA.jsx)(mO,{onClick:function(){return u(e.id)}})]})]},e.id)}))]})]})},D$=function(){return(0,yA.jsxs)("section",{children:[(0,yA.jsx)(_A,{}),(0,yA.jsx)("div",{className:"bg-defaultBg  py-10",children:(0,yA.jsx)("div",{className:"container flex justify-between",children:(0,yA.jsx)("div",{children:(0,yA.jsx)("h1",{className:" text-3xl text-amber-100 font-thin",children:"Notifications"})})})}),(0,yA.jsx)(P$,{})]})},M$=function(){return(0,yA.jsxs)("section",{children:[(0,yA.jsx)(_A,{}),(0,yA.jsx)("div",{className:"bg-defaultBg  py-10",children:(0,yA.jsx)("div",{className:"container flex justify-between",children:(0,yA.jsx)("div",{children:(0,yA.jsx)("h1",{className:" text-3xl text-amber-100 font-thin",children:"Projects"})})})})]})},R$=function(e){var t,n,r,a,o,u=e.data,s=e.users,c=e.types,l=m((0,i.useState)(!1),2),f=l[0],d=l[1],h=m((0,i.useState)(null),2),p=h[0],v=h[1],y=m((0,i.useState)({}),2),g=y[0],b=y[1],x=_t(),w=Ee(),k=_e(),_=new URLSearchParams(k.search).get("id");(0,i.useEffect)((function(){_&&(v(_),b(null===u||void 0===u?void 0:u.find((function(e){return e.id===_}))),d(!0))}),[_,u]);var S=function(e){p&&Hj.collection("leaves").doc(p).set({status:e},{merge:!0}).then((function(){x(pA({name:"updateLeave",msg:"Leave status updated successfully!",code:3,time:3e3})),setTimeout((function(){d(!1),b({}),w("."),v(null)}),3e3)})).catch((function(e){x(pA({name:"updateLeave",msg:"Unable to update leave status. Try again later.",code:1,time:3e3})),console.log("Error updating user : ",e)}))};return(0,yA.jsxs)("div",{className:"px-8 w-full pt-4 h-full pb-7 bg-white overflow-hidden rounded-lg shadow-md items-center justify-between mb-4",children:[(0,yA.jsx)("h2",{className:" pb-2 text-2xl font-bold flex justify-between items-center mb-3",children:"Leave applications"}),(0,yA.jsx)("ul",{children:null===u||void 0===u?void 0:u.sort((function(e,t){return"pending"===e.status&&"pending"!==t.status?-1:"pending"!==e.status&&"pending"===t.status?1:0})).filter((function(e){var t,n=new Date,r=new Date(1e3*(null===(t=e.end)||void 0===t?void 0:t.seconds));return"pending"===e.status||r.getDate()>=n.getDate()&&r.getFullYear()>=n.getFullYear()&&r.getMonth()>=n.getMonth()})).map((function(e){var t,n,r="rejected"==e.status?"bg-color-three":"pending"==e.status?"bg-color-two":"bg-defaultBg";return(0,yA.jsxs)("li",{className:"flex justify-between items-center mb-2 pt-1 pb-4 border-b last:border-b-0",children:[(0,yA.jsxs)("p",{className:"font-bold",children:[s.find((function(t){return t.id===e.user_id})).name,(0,yA.jsx)("span",{className:"text-xs font-semibold text-gray-500 border-l border-gray-300 pl-1 ml-1",children:null===c||void 0===c||null===(t=c.find((function(t){return t.id===e.type})))||void 0===t?void 0:t.title}),(0,yA.jsx)("br",{}),(0,yA.jsxs)("span",{className:"text-sm font-semibold text-gray-500",children:["Applied on ",new Date(1e3*(null===(n=e.timestamp)||void 0===n?void 0:n.seconds)).toLocaleDateString()]})]}),(0,yA.jsx)(Ze,{to:"./?id="+e.id,className:r+" text-white text-center py-1 px-5 min-w-[115px] h-max rounded-2xl font-semibold uppercase text-sm",children:e.status})]})}))}),f&&(0,yA.jsx)("div",{className:"fixed inset-0 grid overflow-y-auto\tpy-5 items-center justify-center z-50 bg-[#0000008c]",children:(0,yA.jsxs)("div",{className:"bg-white p-8 px-12 rounded shadow-md relative ",children:[(0,yA.jsx)("button",{className:"mt-4 bg-black rounded-full text-xs absolute right-2 top-1 text-white font-bold py-1 px-2 ",onClick:function(){d(!1),x(vA("updateLeave")),b({}),w("."),v(null)},children:"X"}),(0,yA.jsxs)("h1",{className:"text-2xl font-bold  mb-5",children:["Leave application from ",null===s||void 0===s||null===(t=s.find((function(e){return e.id===(null===g||void 0===g?void 0:g.user_id)})))||void 0===t?void 0:t.name]}),(0,yA.jsx)(gA,{typeProp:"updateLeave"}),g&&(0,yA.jsx)("table",{className:"mt-3 w-full text-left border bg-color-three/30 rounded-lg overflow-hidden ",children:(0,yA.jsxs)("tbody",{children:[(0,yA.jsxs)("tr",{className:"border-b border-color-two",children:[(0,yA.jsx)("th",{className:"px-5 pb-1 pt-3",children:"Name"}),(0,yA.jsx)("td",{className:"px-5",children:null===s||void 0===s?void 0:s.find((function(e){return e.id===(null===g||void 0===g?void 0:g.user_id)})).name})]}),(0,yA.jsxs)("tr",{className:"border-b border-color-two",children:[(0,yA.jsx)("th",{className:"px-5 py-1",children:"Leave type"}),(0,yA.jsx)("td",{className:"px-5",children:null===c||void 0===c||null===(n=c.find((function(e){return e.id===(null===g||void 0===g?void 0:g.type)})))||void 0===n?void 0:n.title})]}),(0,yA.jsxs)("tr",{className:"border-b border-color-two",children:[(0,yA.jsx)("th",{className:"px-5 py-1",children:"Starting date"}),(0,yA.jsx)("td",{className:"px-5",children:new Date(1e3*(null===(r=g.start)||void 0===r?void 0:r.seconds)).toLocaleDateString()})]}),(0,yA.jsxs)("tr",{className:"border-b border-color-two",children:[(0,yA.jsx)("th",{className:"px-5 py-1",children:"Ending date"}),(0,yA.jsx)("td",{className:"px-5",children:new Date(1e3*(null===(a=g.end)||void 0===a?void 0:a.seconds)).toLocaleDateString()})]}),(0,yA.jsxs)("tr",{className:"border-b border-color-two",children:[(0,yA.jsx)("th",{className:"px-5 py-1",children:"Reason"}),(0,yA.jsx)("td",{className:"px-5",children:g.reason})]}),(0,yA.jsxs)("tr",{className:"border-b border-color-two",children:[(0,yA.jsx)("th",{className:"px-5 pt-1 pb-3",children:"Applied on"}),(0,yA.jsx)("td",{className:"px-5",children:new Date(1e3*(null===(o=g.timestamp)||void 0===o?void 0:o.seconds)).toLocaleDateString()})]}),(0,yA.jsxs)("tr",{className:"border-b border-color-two",children:[(0,yA.jsx)("th",{className:"px-5 pt-1 pb-3",children:"Current status"}),(0,yA.jsx)("td",{className:"px-5 uppercase font-semibold",children:null===g||void 0===g?void 0:g.status})]})]})}),"pending"===(null===g||void 0===g?void 0:g.status)&&(0,yA.jsxs)("div",{className:"flex space-x-3 mt-3",children:[(0,yA.jsx)("button",{className:" rounded-3xl m-auto border hover:bg-emerald-700 text-white w-full font-bold py-2 px-4  bg-emerald-900",onClick:function(){S("approved")},children:"Approve"}),(0,yA.jsx)("button",{className:" rounded-3xl m-auto border hover:bg-rose-700 text-white w-full font-bold py-2 px-4  bg-rose-900",onClick:function(){S("rejected")},children:"Reject"})]})]})})]})},L$=function(e){var t=e.data,n=e.users,r=e.types,a=m((0,i.useState)("today"),2),o=a[0],u=a[1],s=m((0,i.useState)([]),2),c=s[0],l=s[1],f=(0,i.useRef)(null);return(0,i.useEffect)((function(){var e;console.log(o);null===f||void 0===f||null===(e=f.current)||void 0===e||e.value;if("tomorrow"==o){var n=null===t||void 0===t?void 0:t.filter((function(e){var t,n,r=(new Date).setDate((new Date).getDate()+1),i=new Date(1e3*(null===(t=e.start)||void 0===t?void 0:t.seconds)),a=new Date(1e3*(null===(n=e.end)||void 0===n?void 0:n.seconds));return i.getDate()<=new Date(r).getDate()&&i.getFullYear()<=new Date(r).getFullYear()&&i.getMonth()<=new Date(r).getMonth()&&a.getDate()>=new Date(r).getDate()&&a.getFullYear()>=new Date(r).getFullYear()&&a.getMonth()>=new Date(r).getMonth()}));l(n)}else if("today"==o){var r=new Date,i=null===t||void 0===t?void 0:t.filter((function(e){var t,n,i=new Date(1e3*(null===(t=e.start)||void 0===t?void 0:t.seconds)),a=new Date(1e3*(null===(n=e.end)||void 0===n?void 0:n.seconds));return i.getDate()<=r.getDate()&&i.getFullYear()<=r.getFullYear()&&i.getMonth()<=r.getMonth()&&a.getDate()>=r.getDate()&&a.getFullYear()>=r.getFullYear()&&a.getMonth()>=r.getMonth()}));l(i)}else{var a=null===t||void 0===t?void 0:t.filter((function(e){var t,n,r=new Date(o),i=new Date(1e3*(null===(t=e.start)||void 0===t?void 0:t.seconds)),a=new Date(1e3*(null===(n=e.end)||void 0===n?void 0:n.seconds));return i.getDate()<=r.getDate()&&i.getFullYear()<=r.getFullYear()&&i.getMonth()<=r.getMonth()&&a.getDate()>=r.getDate()&&a.getFullYear()>=r.getFullYear()&&a.getMonth()>=r.getMonth()}));l(a)}}),[t,o,f]),(0,yA.jsxs)("div",{className:"px-8 pt-4 pb-7  w-full bg-white overflow-hidden rounded-lg shadow-md items-center justify-between mb-4",children:[(0,yA.jsx)("h2",{className:" pb-2 text-2xl font-bold flex justify-between items-center",children:"Leave calendar"}),(0,yA.jsxs)("div",{className:"mr-0 ",children:[(0,yA.jsx)("button",{onClick:function(){u("today")},className:" ".concat("today"===o?"bg-defaultBg text-white":"bg-white text-defaultBg"," border w-max border-defaultBg font-semibold mr-2 py-1 px-4 rounded-2xl text-sm h-max"),children:"Today"}),(0,yA.jsx)("button",{onClick:function(){u("tomorrow")},className:" ".concat("tomorrow"===o?"bg-defaultBg text-white":"bg-white text-defaultBg"," border w-max border-defaultBg font-semibold mr-2 py-1 px-4 rounded-2xl text-sm h-max"),children:"Tomorrow"}),(0,yA.jsx)("input",{type:"date",ref:f,onChange:function(e){u(e.currentTarget.value)},className:" ".concat("custom"===o?"bg-defaultBg text-white":"bg-white text-defaultBg"," border w-max border-defaultBg font-semibold mr-2 py-1 px-4 rounded-2xl text-sm h-max")})]}),(0,yA.jsx)("ul",{className:"mt-4",children:0===(null===c||void 0===c?void 0:c.length)?(0,yA.jsx)("div",{className:"flex items-center",children:(0,yA.jsx)("p",{className:"text-red-700",children:"No leave records exist for the day"})}):null===c||void 0===c?void 0:c.map((function(e){var t,i,a,o="rejected"==e.status?"bg-color-three":"bg-defaultBg";return(0,yA.jsx)("li",{className:" mb-2 py-2 bg-gray-100 px-5 rounded-xl",children:(0,yA.jsxs)(Ze,{to:"./?id="+e.id,className:"flex w-full justify-between items-center",children:[(0,yA.jsxs)("p",{className:"font-bold",children:[n.find((function(t){return t.id===e.user_id})).name,(0,yA.jsx)("br",{}),(0,yA.jsx)("span",{className:"text-xs font-semibold text-gray-500 border-r border-gray-300 pr-1 mr-1",children:null===r||void 0===r||null===(t=r.find((function(t){return t.id===e.type})))||void 0===t?void 0:t.title}),(0,yA.jsxs)("span",{className:"text-sm font-semibold text-gray-500",children:[new Date(1e3*(null===(i=e.start)||void 0===i?void 0:i.seconds)).toLocaleString("en-GB",{month:"short",day:"2-digit"})," to ",new Date(1e3*(null===(a=e.end)||void 0===a?void 0:a.seconds)).toLocaleString("en-GB",{month:"short",day:"2-digit"})]})]}),(0,yA.jsx)("button",{className:o+" text-white text-center py-1 px-5 min-w-[115px] h-max rounded-2xl font-semibold uppercase text-sm",children:e.status})]})})}))})]})},F$=["points","className","baseLinePoints","connectNulls"];function B$(){return B$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B$.apply(this,arguments)}function U$(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function V$(e){return function(e){if(Array.isArray(e))return z$(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return z$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z$(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var q$=function(e){return e&&e.x===+e.x&&e.y===+e.y},H$=function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach((function(e){q$(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])})),q$(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(n=[n.reduce((function(e,t){return[].concat(V$(e),V$(t))}),[])]);var r=n.map((function(e){return e.reduce((function(e,t,n){return"".concat(e).concat(0===n?"M":"L").concat(t.x,",").concat(t.y)}),"")})).join("");return 1===n.length?"".concat(r,"Z"):r},W$=function(e){var t=e.points,n=e.className,r=e.baseLinePoints,a=e.connectNulls,o=U$(e,F$);if(!t||!t.length)return null;var u=IP()("recharts-polygon",n);if(r&&r.length){var s=o.stroke&&"none"!==o.stroke,c=function(e,t,n){var r=H$(e,n);return"".concat("Z"===r.slice(-1)?r.slice(0,-1):r,"L").concat(H$(t.reverse(),n).slice(1))}(t,r,a);return i.createElement("g",{className:u},i.createElement("path",B$({},mV(o,!0),{fill:"Z"===c.slice(-1)?o.fill:"none",stroke:"none",d:c})),s?i.createElement("path",B$({},mV(o,!0),{fill:"none",d:H$(t,a)})):null,s?i.createElement("path",B$({},mV(o,!0),{fill:"none",d:H$(r,a)})):null)}var l=H$(t,a);return i.createElement("path",B$({},mV(o,!0),{fill:"Z"===l.slice(-1)?o.fill:"none",className:u,d:l}))};function G$(e){return G$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G$(e)}function K$(){return K$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K$.apply(this,arguments)}function Q$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q$(Object(n),!0).forEach((function(t){eX(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tX(r.key),r)}}function X$(e,t){return X$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},X$(e,t)}function J$(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Z$(e);if(t){var i=Z$(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===G$(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Z$(e){return Z$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Z$(e)}function eX(e,t,n){return(t=tX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tX(e){var t=function(e,t){if("object"!==G$(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==G$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===G$(t)?t:String(t)}var nX=Math.PI/180,rX=1e-5,iX=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X$(e,t)}(o,e);var t,n,r,a=J$(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.apply(this,arguments)}return t=o,n=[{key:"getTickLineCoord",value:function(e){var t=this.props,n=t.cx,r=t.cy,i=t.radius,a=t.orientation,o=t.tickSize||8,u=dG(n,r,i,e.coordinate),s=dG(n,r,i+("inner"===a?-1:1)*o,e.coordinate);return{x1:u.x,y1:u.y,x2:s.x,y2:s.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,n=Math.cos(-e.coordinate*nX);return n>rX?"outer"===t?"start":"end":n<-rX?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.radius,a=e.axisLine,o=e.axisLineType,u=Y$(Y$({},mV(this.props)),{},{fill:"none"},mV(a));if("circle"===o)return i.createElement(TQ,K$({className:"recharts-polar-angle-axis-line"},u,{cx:t,cy:n,r:r}));var s=this.props.ticks.map((function(e){return dG(t,n,r,e.coordinate)}));return i.createElement(W$,K$({className:"recharts-polar-angle-axis-line"},u,{points:s}))}},{key:"renderTicks",value:function(){var e=this,t=this.props,n=t.ticks,r=t.tick,a=t.tickLine,u=t.tickFormatter,s=t.stroke,c=mV(this.props),l=mV(r),f=Y$(Y$({},c),{},{fill:"none"},mV(a)),d=n.map((function(t,n){var d=e.getTickLineCoord(t),h=Y$(Y$(Y$({textAnchor:e.getTickTextAnchor(t)},c),{},{stroke:"none",fill:s},l),{},{index:n,payload:t,x:d.x2,y:d.y2});return i.createElement(_V,K$({className:"recharts-polar-angle-axis-tick",key:"tick-".concat(n)},tV(e.props,t,n)),a&&i.createElement("line",K$({className:"recharts-polar-angle-axis-tick-line"},f,d)),r&&o.renderTickItem(r,h,u?u(t.value,n):t.value))}));return i.createElement(_V,{className:"recharts-polar-angle-axis-ticks"},d)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.radius,r=e.axisLine;return n<=0||!t||!t.length?null:i.createElement(_V,{className:"recharts-polar-angle-axis"},r&&this.renderAxisLine(),this.renderTicks())}}],r=[{key:"renderTickItem",value:function(e,t,n){return i.isValidElement(e)?i.cloneElement(e,t):yD()(e)?e(t):i.createElement(rG,K$({},t,{className:"recharts-polar-angle-axis-tick-value"}),n)}}],n&&$$(t.prototype,n),r&&$$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.PureComponent);eX(iX,"displayName","PolarAngleAxis"),eX(iX,"axisType","angleAxis"),eX(iX,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var aX=n(3638),oX=n.n(aX),uX=n(8559),sX=n.n(uX),cX=["cx","cy","angle","ticks","axisLine"],lX=["ticks","tick","angle","tickFormatter","stroke"];function fX(e){return fX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fX(e)}function dX(){return dX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dX.apply(this,arguments)}function hX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hX(Object(n),!0).forEach((function(t){xX(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hX(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vX(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wX(r.key),r)}}function yX(e,t){return yX=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yX(e,t)}function gX(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bX(e);if(t){var i=bX(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===fX(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function bX(e){return bX=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bX(e)}function xX(e,t,n){return(t=wX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wX(e){var t=function(e,t){if("object"!==fX(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==fX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===fX(t)?t:String(t)}var kX=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yX(e,t)}(o,e);var t,n,r,a=gX(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.apply(this,arguments)}return t=o,n=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,n=this.props,r=n.angle,i=n.cx,a=n.cy;return dG(i,a,t,r)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.angle,i=e.ticks,a=sX()(i,(function(e){return e.coordinate||0}));return{cx:t,cy:n,startAngle:r,endAngle:r,innerRadius:oX()(i,(function(e){return e.coordinate||0})).coordinate||0,outerRadius:a.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.angle,a=e.ticks,o=e.axisLine,u=vX(e,cX),s=a.reduce((function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]}),[1/0,-1/0]),c=dG(t,n,s[0],r),l=dG(t,n,s[1],r),f=pX(pX(pX({},mV(u)),{},{fill:"none"},mV(o)),{},{x1:c.x,y1:c.y,x2:l.x,y2:l.y});return i.createElement("line",dX({className:"recharts-polar-radius-axis-line"},f))}},{key:"renderTicks",value:function(){var e=this,t=this.props,n=t.ticks,r=t.tick,a=t.angle,u=t.tickFormatter,s=t.stroke,c=vX(t,lX),l=this.getTickTextAnchor(),f=mV(c),d=mV(r),h=n.map((function(t,n){var c=e.getTickValueCoord(t),h=pX(pX(pX(pX({textAnchor:l,transform:"rotate(".concat(90-a,", ").concat(c.x,", ").concat(c.y,")")},f),{},{stroke:"none",fill:s},d),{},{index:n},c),{},{payload:t});return i.createElement(_V,dX({className:"recharts-polar-radius-axis-tick",key:"tick-".concat(n)},tV(e.props,t,n)),o.renderTickItem(r,h,u?u(t.value,n):t.value))}));return i.createElement(_V,{className:"recharts-polar-radius-axis-ticks"},h)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.axisLine,r=e.tick;return t&&t.length?i.createElement(_V,{className:"recharts-polar-radius-axis"},n&&this.renderAxisLine(),r&&this.renderTicks(),OG.renderCallByParent(this.props,this.getViewBox())):null}}],r=[{key:"renderTickItem",value:function(e,t,n){return i.isValidElement(e)?i.cloneElement(e,t):yD()(e)?e(t):i.createElement(rG,dX({},t,{className:"recharts-polar-radius-axis-tick-value"}),n)}}],n&&mX(t.prototype,n),r&&mX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.PureComponent);xX(kX,"displayName","PolarRadiusAxis"),xX(kX,"axisType","radiusAxis"),xX(kX,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var _X=n(3977),SX=n.n(_X);function EX(e){return EX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EX(e)}function TX(){return TX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TX.apply(this,arguments)}function IX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IX(Object(n),!0).forEach((function(t){DX(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IX(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function OX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MX(r.key),r)}}function NX(e,t){return NX=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},NX(e,t)}function AX(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=PX(e);if(t){var i=PX(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===EX(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return CX(e)}(this,n)}}function CX(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PX(e){return PX=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},PX(e)}function DX(e,t,n){return(t=MX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MX(e){var t=function(e,t){if("object"!==EX(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==EX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===EX(t)?t:String(t)}var RX=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NX(e,t)}(o,e);var t,n,r,a=AX(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),DX(CX(t=a.call(this,e)),"pieRef",null),DX(CX(t),"sectorRefs",[]),DX(CX(t),"id",nD("recharts-pie-")),DX(CX(t),"handleAnimationEnd",(function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),yD()(e)&&e()})),DX(CX(t),"handleAnimationStart",(function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),yD()(e)&&e()})),t.state={isAnimationFinished:!e.isAnimationActive,prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,sectorToFocus:0},t}return t=o,n=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var t=this.props,n=t.label,r=t.labelLine,a=t.dataKey,u=t.valueKey,s=mV(this.props),c=mV(n),l=mV(r),f=n&&n.offsetRadius||20,d=e.map((function(e,t){var d=(e.startAngle+e.endAngle)/2,h=dG(e.cx,e.cy,e.outerRadius+f,d),p=jX(jX(jX(jX({},s),e),{},{stroke:"none"},c),{},{index:t,textAnchor:o.getTextAnchor(h.x,e.cx)},h),v=jX(jX(jX(jX({},s),e),{},{fill:"none",stroke:e.fill},l),{},{index:t,points:[dG(e.cx,e.cy,e.outerRadius,d),h],key:"line"}),m=a;return _D()(a)&&_D()(u)?m="value":_D()(a)&&(m=u),i.createElement(_V,{key:"label-".concat(t)},r&&o.renderLabelLineItem(r,v),o.renderLabelItem(n,p,sq(e,m)))}));return i.createElement(_V,{className:"recharts-pie-labels"},d)}},{key:"renderSectorsStatically",value:function(e){var t=this,n=this.props,r=n.activeShape,a=n.blendStroke,u=n.inactiveShape;return e.map((function(e,n){var s=u&&t.hasActiveIndex()?u:null,c=t.isActiveIndex(n)?r:s,l=jX(jX({},e),{},{stroke:a?e.fill:e.stroke});return i.createElement(_V,TX({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},tV(t.props,e,n),{key:"sector-".concat(n)}),o.renderSectorItem(c,l))}))}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,n=t.sectors,r=t.isAnimationActive,a=t.animationBegin,o=t.animationDuration,u=t.animationEasing,s=t.animationId,c=this.state,l=c.prevSectors,f=c.prevIsAnimationActive;return i.createElement(MW,{begin:a,duration:o,isActive:r,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(s,"-").concat(f),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},(function(t){var r=t.t,a=[],o=(n&&n[0]).startAngle;return n.forEach((function(e,t){var n=l&&l[t],i=t>0?zP()(e,"paddingAngle",0):0;if(n){var u=aD(n.endAngle-n.startAngle,e.endAngle-e.startAngle),s=jX(jX({},e),{},{startAngle:o+i,endAngle:o+u(r)+i});a.push(s),o=s.endAngle}else{var c=e.endAngle,f=e.startAngle,d=aD(0,c-f)(r),h=jX(jX({},e),{},{startAngle:o+i,endAngle:o+d+i});a.push(h),o=h.endAngle}})),i.createElement(_V,null,e.renderSectorsStatically(a))}))}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var n=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"ArrowRight":var r=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,n=e.isAnimationActive,r=this.state.prevSectors;return!(n&&t&&t.length)||r&&qD()(r,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,n=t.hide,r=t.sectors,a=t.className,o=t.label,u=t.cx,s=t.cy,c=t.innerRadius,l=t.outerRadius,f=t.isAnimationActive,d=this.state.isAnimationFinished;if(n||!r||!r.length||!ZP(u)||!ZP(s)||!ZP(c)||!ZP(l))return null;var h=IP()("recharts-pie",a);return i.createElement(_V,{tabIndex:0,className:h,ref:function(t){e.pieRef=t}},this.renderSectors(),o&&this.renderLabels(r),OG.renderCallByParent(this.props,null,!1),(!f||d)&&VG.renderCallByParent(this.props,r,!1))}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):yD()(e)?e(t):i.createElement(yQ,TX({},t,{type:"linear",className:"recharts-pie-label-line"}))}},{key:"renderLabelItem",value:function(e,t,n){if(i.isValidElement(e))return i.cloneElement(e,t);var r=n;return yD()(e)&&(r=e(t),i.isValidElement(r))?r:i.createElement(rG,TX({},t,{alignmentBaseline:"middle",className:"recharts-pie-label-text"}),r)}},{key:"renderSectorItem",value:function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):yD()(e)?e(t):SX()(e)?i.createElement(SQ,TX({tabIndex:-1},t,e)):i.createElement(SQ,TX({tabIndex:-1},t))}}],n&&OX(t.prototype,n),r&&OX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.PureComponent);DX(RX,"displayName","Pie"),DX(RX,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!TD.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1}),DX(RX,"parseDeltaAngle",(function(e,t){return XP(t-e)*Math.min(Math.abs(t-e),360)})),DX(RX,"getRealPieData",(function(e){var t=e.props,n=t.data,r=t.children,i=mV(e.props),a=fV(r,zW);return n&&n.length?n.map((function(e,t){return jX(jX(jX({payload:e},i),e),a&&a[t]&&a[t].props)})):a&&a.length?a.map((function(e){return jX(jX({},i),e.props)})):[]})),DX(RX,"parseCoordinateOfPie",(function(e,t){var n=t.top,r=t.left,i=t.width,a=t.height,o=hG(i,a);return{cx:r+rD(e.props.cx,i,i/2),cy:n+rD(e.props.cy,a,a/2),innerRadius:rD(e.props.innerRadius,o,0),outerRadius:rD(e.props.outerRadius,o,.8*o),maxRadius:e.props.maxRadius||Math.sqrt(i*i+a*a)/2}})),DX(RX,"getComposedData",(function(e){var t=e.item,n=e.offset,r=RX.getRealPieData(t);if(!r||!r.length)return null;var i=t.props,a=i.cornerRadius,o=i.startAngle,u=i.endAngle,s=i.paddingAngle,c=i.dataKey,l=i.nameKey,f=i.valueKey,d=i.tooltipType,h=Math.abs(t.props.minAngle),p=RX.parseCoordinateOfPie(t,n),v=RX.parseDeltaAngle(o,u),m=Math.abs(v),y=c;_D()(c)&&_D()(f)?(uD(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),y="value"):_D()(c)&&(uD(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),y=f);var g,b,x=r.filter((function(e){return 0!==sq(e,y,0)})).length,w=m-x*h-(m>=360?x:x-1)*s,k=r.reduce((function(e,t){var n=sq(t,y,0);return e+(ZP(n)?n:0)}),0);k>0&&(g=r.map((function(e,t){var n,r=sq(e,y,0),i=sq(e,l,t),u=(ZP(r)?r:0)/k,c=(n=t?b.endAngle+XP(v)*s*(0!==r?1:0):o)+XP(v)*((0!==r?h:0)+u*w),f=(n+c)/2,m=(p.innerRadius+p.outerRadius)/2,g=[{name:i,value:r,payload:e,dataKey:y,type:d}],x=dG(p.cx,p.cy,m,f);return b=jX(jX(jX({percent:u,cornerRadius:a,name:i,tooltipPayload:g,midAngle:f,middleRadius:m,tooltipPosition:x},e),p),{},{value:sq(e,y),startAngle:n,endAngle:c,payload:e,paddingAngle:XP(v)*s})})));return jX(jX({},p),{},{sectors:g,data:r})}));var LX=g$({chartName:"PieChart",GraphicalChild:RX,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:iX},{axisType:"radiusAxis",AxisComp:kX}],formatAxisMap:function(e,t,n,r,i){var a=e.width,o=e.height,u=e.startAngle,s=e.endAngle,c=rD(e.cx,a,a/2),l=rD(e.cy,o,o/2),f=hG(a,o,n),d=rD(e.innerRadius,f,0),h=rD(e.outerRadius,f,.8*f);return Object.keys(t).reduce((function(e,n){var a,o=t[n],f=o.domain,p=o.reversed;if(_D()(o.range))"angleAxis"===r?a=[u,s]:"radiusAxis"===r&&(a=[d,h]),p&&(a=[a[1],a[0]]);else{var v=sG(a=o.range,2);u=v[0],s=v[1]}var m=gq(o,i),y=m.realScaleType,g=m.scale;g.domain(f).range(a),xq(g);var b=_q(g,oG(oG({},o),{},{realScaleType:y})),x=oG(oG(oG({},o),b),{},{range:a,radius:h,realScaleType:y,scale:g,cx:c,cy:l,innerRadius:d,outerRadius:h,startAngle:u,endAngle:s});return oG(oG({},e),{},uG({},n,x))}),{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),FX=["#c4975b","#f3bdaa","#cfd0d1","#8884d8","#ffb5f8","#baebab"],BX=Math.PI/180,UX=function(e){var t=e.cx,n=e.cy,r=e.midAngle,i=e.innerRadius,a=e.outerRadius,o=e.payload,u=(e.index,i+.5*(a-i)),s=t+u*Math.cos(-r*BX),c=n+u*Math.sin(-r*BX);return(0,yA.jsx)("text",{fontSize:12,x:s,y:c,stroke:"#1d322f",textAnchor:s>t?"start":"end",dominantBaseline:"central",children:"".concat(o.name)})},VX=function(e){var t=e.data,n=t&&Object.keys(t).map((function(e){return{name:e,value:t[e]}}));return(0,yA.jsx)(fD,{width:"100%",height:"100%",children:(0,yA.jsx)(LX,{children:(0,yA.jsx)(RX,{data:n,cx:"50%",cy:"50%",labelLine:!1,label:UX,outerRadius:60,fill:"#8884d8",dataKey:"value",children:null===n||void 0===n?void 0:n.map((function(e,t){return(0,yA.jsx)(zW,{fill:FX[t%FX.length]},"cell-".concat(t))}))})})})},zX=function(e){var t=e.data,n=e.types,r=m((0,i.useState)(),2),a=r[0],o=r[1];return(0,i.useEffect)((function(){var e,r,i=new Date,a=null===t||void 0===t||null===(e=t.filter((function(e){var t,n,r=new Date(1e3*(null===(t=e.start)||void 0===t?void 0:t.seconds)),a=new Date(1e3*(null===(n=e.end)||void 0===n?void 0:n.seconds));return r.getDate()<=i.getDate()&&r.getFullYear()<=i.getFullYear()&&r.getMonth()<=i.getMonth()&&a.getDate()>=i.getDate()&&a.getFullYear()>=i.getFullYear()&&a.getMonth()>=i.getMonth()})))||void 0===e?void 0:e.length,u=null===t||void 0===t||null===(r=t.filter((function(e){var t,n,r=new Date(1e3*(null===(t=e.start)||void 0===t?void 0:t.seconds)),a=new Date(1e3*(null===(n=e.end)||void 0===n?void 0:n.seconds));return r.getFullYear()<=i.getFullYear()&&r.getMonth()<=i.getMonth()&&a.getFullYear()>=i.getFullYear()&&a.getMonth()>=i.getMonth()})))||void 0===r?void 0:r.length,s={};null===t||void 0===t||t.filter((function(e){var t,n,r=new Date(1e3*(null===(t=e.start)||void 0===t?void 0:t.seconds)),a=new Date(1e3*(null===(n=e.end)||void 0===n?void 0:n.seconds));return r.getFullYear()<=i.getFullYear()&&a.getFullYear()>=i.getFullYear()})).map((function(e){var t,r=null===n||void 0===n||null===(t=n.find((function(t){return t.id===e.type})))||void 0===t?void 0:t.title;s=f(f({},s),{},c({},r,(s[r]||0)+1))})),o({todayLeaves:a,currentMonthLeaves:u,yearly:s})}),[t]),console.log(a),(0,yA.jsxs)("div",{className:"flex space-x-3",children:[(0,yA.jsxs)("div",{className:"w-4/12 border h-max  rounded-lg p-4 flex flex-wrap  justify-around items-center bg-white",children:[(0,yA.jsx)("h2",{className:" pb-2 text-base font-bold flex justify-between items-center w-full",children:"Today's Leaves"}),(0,yA.jsxs)("div",{className:"flex justify-between items-center w-full ml-0",children:[(0,yA.jsx)(kP,{text:"",value:null===a||void 0===a?void 0:a.todayLeaves,height:"120px"}),(0,yA.jsx)("div",{className:" h-max text-[14px] ",children:(0,yA.jsxs)("p",{className:"relative before:absolute before:left-[-12px] before:top-2 before:h-2 before:w-2 before:rounded-full before:p-[-10px] before:bg-color-two before:block flex",children:[null===a||void 0===a?void 0:a.todayLeaves," Absent"]})})]})]}),(0,yA.jsxs)("div",{className:"w-4/12 border h-max  rounded-lg p-4 flex flex-wrap  justify-around items-center bg-white",children:[(0,yA.jsx)("h2",{className:" pb-2 text-base font-bold flex justify-between items-center w-full",children:"Current month leaves"}),(0,yA.jsxs)("div",{className:"flex justify-between items-center w-full ml-0",children:[(0,yA.jsx)(kP,{text:"",value:null===a||void 0===a?void 0:a.currentMonthLeaves,height:"120px",pathColor:"#c4975B"}),(0,yA.jsx)("div",{className:" h-max text-[14px] ",children:(0,yA.jsxs)("p",{className:"relative before:absolute before:left-[-12px] before:top-2 before:h-2 before:w-2 before:rounded-full before:p-[-10px] before:bg-color-one before:block flex",children:[null===a||void 0===a?void 0:a.currentMonthLeaves," On-leave"]})})]})]}),(0,yA.jsxs)("div",{className:"w-4/12 border h-max  rounded-lg p-4 flex flex-wrap  justify-around items-center bg-white",children:[(0,yA.jsx)("h2",{className:" pb-2 text-base font-bold flex justify-between items-center w-full",children:"This year overview"}),(0,yA.jsx)("div",{className:"flex justify-between items-center w-full ml-0 h-[120px]",children:(0,yA.jsx)(VX,{data:null===a||void 0===a?void 0:a.yearly})})]})]})},qX=function(){var e,t,n=m((0,i.useState)(),2),r=n[0],a=n[1],o=m((0,i.useState)([]),2),u=o[0],s=o[1],c=m((0,i.useState)([]),2),l=c[0],d=c[1],h=m((0,i.useState)([]),2),p=h[0],v=h[1];return(0,i.useEffect)((function(){Hj.collection("leaves").onSnapshot((function(e){var t=e.docs.map((function(e){return f(f({},e.data()),{},{id:e.id})}));a(t)})),Hj.collection("holidays").get().then((function(e){var t=e.docs.map((function(e){var t,n=e.data();return{title:null===n||void 0===n?void 0:n.title,date:new Date(1e3*(null===n||void 0===n||null===(t=n.date)||void 0===t?void 0:t.seconds)),id:e.id}}));v(t)})),Hj.collection("users").get().then((function(e){var t=e.docs.map((function(e){return{name:e.data().name,id:e.id}}));s(t)})),Hj.collection("leave_type").get().then((function(e){var t=e.docs.map((function(e){return f(f({},e.data()),{},{id:e.id})}));d(t)}))}),[]),(0,yA.jsxs)("section",{children:[(0,yA.jsx)(_A,{}),(0,yA.jsx)("div",{className:"bg-defaultBg  py-10",children:(0,yA.jsx)("div",{className:"container flex justify-between",children:(0,yA.jsx)("div",{children:(0,yA.jsx)("h1",{className:" text-3xl text-amber-100 font-thin",children:"Leaves"})})})}),(0,yA.jsx)("div",{className:"container bg-gradient-to-b from-defaultBg to-transparent to-[130px] from-[1.5rem] ",children:(0,yA.jsxs)("div",{className:"flex space-x-3",children:[(0,yA.jsxs)("div",{className:" w-8/12",children:[(0,yA.jsx)(zX,{data:null===r||void 0===r?void 0:r.filter((function(e){return"approved"==e.status})),types:l}),(0,yA.jsxs)("div",{className:"flex  space-x-3 mt-3",children:[(0,yA.jsxs)("div",{className:"px-8 pt-4 pb-7 w-6/12 bg-white overflow-hidden rounded-lg shadow-md items-center justify-between mb-4",children:[(0,yA.jsx)("h3",{className:" pb-2 text-2xl font-bold flex justify-between items-center",children:"Upcoming holidays"}),0===(null===p||void 0===p||null===(e=p.filter((function(e){return e.date>=new Date})))||void 0===e?void 0:e.length)?(0,yA.jsx)("div",{className:"flex items-center",children:(0,yA.jsx)("p",{className:"text-red-700",children:"No upcoming holidays"})}):null===p||void 0===p||null===(t=p.filter((function(e){return e.date>=new Date})))||void 0===t?void 0:t.sort((function(e,t){return e.date.seconds-t.date.seconds})).map((function(e,t){return(0,yA.jsxs)("div",{className:"flex items-center my-3",children:[(0,yA.jsxs)("p",{className:"py-1 px-2 bg-color-two rounded-md font-bold text-xs text-center mr-3 min-w-[42px]",children:[e.date.getDate(),(0,yA.jsx)("br",{}),e.date.toLocaleString("en-GB",{month:"short"})]}),(0,yA.jsxs)("div",{children:[(0,yA.jsx)("h6",{children:e.title}),(0,yA.jsx)("p",{className:"text-sm",children:e.date.toLocaleString("en-GB",{weekday:"long"})})]})]},t)}))]}),(0,yA.jsx)(L$,{data:null===r||void 0===r?void 0:r.filter((function(e){return"approved"==e.status})),users:u,types:l})]})]}),(0,yA.jsx)("div",{className:" w-4/12",children:(0,yA.jsx)(R$,{data:r,users:u,types:l})})]})})]})},HX=function(){var e=m((0,i.useState)([]),2),t=e[0],n=e[1],r=m((0,i.useState)([]),2),a=r[0],o=r[1],u=m((0,i.useState)([]),2),s=u[0],c=u[1],l=m((0,i.useState)(!1),2),d=l[0],h=l[1],p=_t();(0,i.useEffect)((function(){console.log("enter"),Hj.collection("leave_type").onSnapshot((function(e){var t=e.docs.map((function(e){return f(f({},e.data()),{},{id:e.id})}));n(t)})),h(!1)}),[d]);console.log(t);var v=function(){var e=nn(en().mark((function e(){var n;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hj.batch(),t.forEach((function(e){console.log(2,e.id);var t=Hj.collection("leave_type").doc(e.id),r=e.title,i=e.status,a=e.count;n.set(t,{title:r,status:i,count:a},{merge:!0})})),s.forEach((function(e){var t=Hj.collection("holidays").doc();n.set(t,e,{merge:!0})})),null===a||void 0===a||a.forEach((function(e){console.log(3,e.id);var t=Hj.collection("leave_type").doc(e.id);n.delete(t)})),e.prev=4,e.next=7,n.commit();case 7:console.log("Batch update successful!"),c([]),p(pA({name:"settings",msg:"Leave settings saved successfully! ",code:3,time:3e3})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.error("Error updating documents:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}(),y=function(e){e.stopPropagation();var r=e.currentTarget.value,i=e.currentTarget.getAttribute("name"),a=t.map((function(e){return e.title.replaceAll(" ","_")==i?f(f({},e),{},{count:r}):e}));n(a)},b=function(e){var r=t.filter((function(t){return t.id&&t.title===e||t.id===e}));o([].concat(g(a),g(r)));var i=t.filter((function(t){return t.title!==e&&t.id!==e}));n(i)};return(0,yA.jsxs)("div",{className:" mx-auto container bg-gradient-to-b from-defaultBg to-transparent to-[130px] from-[1.5rem]",children:[(0,yA.jsx)("div",{className:"pb-3",children:(0,yA.jsx)(gA,{typeProp:"settings"})}),(0,yA.jsxs)("div",{className:"bg-color-one flex items-center justify-between py-2 px-6 rounded-lg mb-4",children:[(0,yA.jsx)("h2",{className:"text-white mb-0",children:"Leave settings"}),(0,yA.jsx)("button",{onClick:function(){return v()},className:"bg-defaultBg text-white py-3 px-6 rounded-lg font-bold uppercase",children:"Save"})]}),(0,yA.jsxs)("div",{className:"flex space-x-5",children:[(0,yA.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 w-full",children:(0,yA.jsxs)("div",{className:"space-y-2",children:[(0,yA.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.currentTarget.elements.namedItem("leavetype").value;n((function(e){return e.concat({title:t,count:0,status:!1})}))},className:"mb-5",children:[(0,yA.jsx)("h2",{className:"text-lg font-bold mb-4",children:"Type of Leaves"}),(0,yA.jsx)("input",{type:"text",name:"leavetype",className:"border w-6/12 border-gray-300 p-2 rounded ",placeholder:"Add new leave type"}),(0,yA.jsx)("button",{type:"submit",className:"ml-2 bg-defaultBg hover:bg-defaultBg/80 text-white font-bold py-2 px-6 rounded",children:"Add"})]}),(0,yA.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.currentTarget.elements.namedItem("holiday"),n=e.currentTarget.elements.namedItem("holidayDate");c((function(e){return e.concat({title:t.value,date:new Date(n.value)})}))},children:[(0,yA.jsx)("h2",{className:"text-lg font-bold mb-4",children:"Add new holiday"}),(0,yA.jsx)("input",{type:"date",name:"holidayDate",className:"border  border-gray-300 p-2 rounded ",placeholder:"Choose a date"}),(0,yA.jsx)("input",{type:"text",name:"holiday",className:"border w-6/12 ml-2 border-gray-300 p-2 rounded ",placeholder:"Holiday title"}),(0,yA.jsx)("button",{type:"submit",className:"ml-2 bg-defaultBg  hover:bg-defaultBg/80 text-white font-bold py-2 px-6 rounded",children:"Add"})]}),s.length>0&&(0,yA.jsxs)("div",{children:[(0,yA.jsx)("button",{onClick:function(){c([])},className:" text-color-one float-right font-semibold",children:"Clear all"}),(0,yA.jsx)("ul",{children:null===s||void 0===s?void 0:s.map((function(e){return(0,yA.jsxs)("li",{children:[e.title,(0,yA.jsx)("button",{className:"bg-gray-500 text-white p-1 rounded-full ml-3",onClick:function(){c(s.filter((function(t){return t.date!==e.date})))},children:(0,yA.jsx)(mO,{size:10})})]},e.date)}))})]})]})}),(0,yA.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 w-full",children:[(0,yA.jsx)("button",{onClick:function(){o([]),h(!0)},className:" text-color-one float-right font-semibold",children:"Clear"}),(0,yA.jsx)("h2",{className:"text-lg font-bold mb-4",children:"Number of Leaves "}),(0,yA.jsx)("div",{className:"space-y-2",children:null===t||void 0===t?void 0:t.map((function(e,t){return(0,yA.jsxs)("div",{className:"flex items-center",children:[(0,yA.jsxs)("label",{className:"w-32",children:[e.title,":"]}),(0,yA.jsx)("input",{type:"number",onBlur:function(e){return y},name:e.title.replaceAll(" ","_"),defaultValue:e.count,className:"border  border-gray-300 p-2 rounded"}),(0,yA.jsx)("button",{className:"bg-gray-500 text-white p-1 rounded-full ml-3",onClick:function(){e.id?b(e.id):b(e.title)},children:(0,yA.jsx)(mO,{size:10})})]},t)}))})]})]})]})},WX=function(){return(0,yA.jsxs)("section",{children:[(0,yA.jsx)(_A,{}),(0,yA.jsx)("div",{className:"bg-defaultBg  py-10",children:(0,yA.jsx)("div",{className:"container flex justify-between",children:(0,yA.jsx)("div",{children:(0,yA.jsx)("h1",{className:" text-3xl text-amber-100 font-thin",children:"Settings"})})})}),(0,yA.jsx)(HX,{})]})},GX=function(e){var t,n=m((0,i.useState)({}),2),r=n[0],a=n[1],o=m((0,i.useState)([]),2),u=o[0],s=o[1],l=(new Date).getMonth();String(l);var d=function(e){var t,n,r=new Date(1e3*(null===e||void 0===e||null===(t=e.time_in)||void 0===t?void 0:t.seconds)),i=(new Date).toLocaleDateString()===r.toLocaleDateString();if(null!==e&&void 0!==e&&e.time_out)n=new Date(1e3*(null===e||void 0===e?void 0:e.time_out.seconds));else if(i)n=new Date;else{var a=new Date(r);n=new Date(a.setHours(23,59,0,0))}var o=n.getHours()-r.getHours(),u=n.getMinutes()-r.getMinutes();return u<0&&(o-=1,u+=60),(o+u/60).toFixed(2)},h=function(e){var t=e.currentTarget,n=t.value,i=t.name;a(f(f({},r),{},c({},i,n)))};function p(e,t){var n=new Date(1e3*e.seconds),r=String(n.getFullYear()),i=String(n.getMonth()+1).padStart(2,"0"),a=String(n.getDate()).padStart(2,"0");return"".concat(r,"-").concat(i,"-").concat(a)===t}return(0,i.useEffect)((function(){if(null!==r&&void 0!==r&&r.tableUser&&null!==r&&void 0!==r&&r.tableDate){var t=e.data.filter((function(e){return e.employee_id===r.tableUser&&e.time_in&&p(e.time_in,r.tableDate)}));s(t)}else if(null!==r&&void 0!==r&&r.tableUser){var n=e.data.filter((function(e){return e.employee_id===r.tableUser}));s(n)}else if(null!==r&&void 0!==r&&r.tableDate){var i=e.data.filter((function(e){return e.time_in&&p(e.time_in,r.tableDate)}));s(i)}else{var a=e.data.filter((function(e){return new Date(1e3*(null===e||void 0===e?void 0:e.time_in.seconds)).toLocaleDateString()===(new Date).toLocaleDateString()}));s(a)}}),[e.data,r]),(0,yA.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden my-5",children:[(0,yA.jsx)("h2",{className:"px-8 py-2 text-2xl font-bold bg-defaultBg text-white flex justify-between items-center",children:"Attendance Table"}),(0,yA.jsxs)("table",{className:"mx-auto w-full overflow-hidden border text-center border-gray-300 ",children:[(0,yA.jsx)("thead",{children:(0,yA.jsxs)("tr",{className:" bg-color-one flex text-defaultBg  justify-evenly",children:[(0,yA.jsx)("th",{className:"p-2 w-full text-center ",children:"Employee"}),(0,yA.jsx)("th",{className:"p-2 w-full text-center ",children:"Date"}),(0,yA.jsx)("th",{className:"p-2 w-full text-center",children:"Check in"}),(0,yA.jsx)("th",{className:"p-2 w-full text-center",children:"Check out"}),(0,yA.jsx)("th",{className:"p-2 w-full text-center",children:"Total Hours"})]})}),(0,yA.jsx)("tbody",{className:" bg-color-three/30  max-h-[220px] block overflow-y-scroll w-full",children:e.data&&0===(null===u||void 0===u?void 0:u.length)?(0,yA.jsx)("tr",{className:"flex",children:(0,yA.jsx)("td",{colSpan:12,className:"w-full p-4 text-center text-gray-500",children:"No attendance records available"})}):null===u||void 0===u?void 0:u.sort((function(e,t){return t.time_in-e.time_in})).map((function(t,n){var r,i,a,o,u,s=new Date(1e3*(null===t||void 0===t||null===(r=t.time_in)||void 0===r?void 0:r.seconds)).toLocaleTimeString(),c=new Date(1e3*(null===t||void 0===t||null===(i=t.time_in)||void 0===i?void 0:i.seconds)).toLocaleDateString(),l=(null===t||void 0===t?void 0:t.time_out)&&new Date(1e3*(null===t||void 0===t||null===(a=t.time_out)||void 0===a?void 0:a.seconds)).toLocaleTimeString();return(0,yA.jsxs)("tr",{className:"border-t flex justify-evenly border-gray-300 text-sm",children:[(0,yA.jsx)("td",{className:"p-2 w-full text-center text-color-one",children:(0,yA.jsx)(Ze,{to:"../employees/view/"+(null===t||void 0===t?void 0:t.employee_id),children:null===(o=e.users)||void 0===o||null===(u=o.find((function(e){return e.id===t.employee_id})))||void 0===u?void 0:u.name})}),(0,yA.jsx)("td",{className:"p-2 w-full text-center",children:c}),(0,yA.jsx)("td",{className:"p-2 w-full text-center",children:s}),(0,yA.jsx)("td",{className:"p-2 w-full text-center",children:l}),(0,yA.jsxs)("td",{className:"p-2 w-full text-center",children:[d(t)," Hours"]})]},n)}))})]}),(0,yA.jsxs)("div",{className:"py-1 flex justify-end  bg-color-one/70",children:[(0,yA.jsxs)("select",{name:"tableUser",onChange:h,className:"border w-2/12 min-w-max border-defaultBg  font-semibold text-defaultBg mr-2 p-2 rounded bg-transparent text-xs h-max",children:[(0,yA.jsx)("option",{value:"",children:"Employee"}),null===(t=e.users)||void 0===t?void 0:t.map((function(e,t){return(0,yA.jsx)("option",{value:e.id,children:e.name},t)}))]}),(0,yA.jsx)("input",{type:"date",name:"tableDate",value:r.value,onChange:h,className:"border w-2/12 min-w-max  border-defaultBg  font-semibold text-defaultBg mr-2 p-2 rounded bg-transparent text-xs h-max"})]})]})},KX=function(e){var t,n,r,a,o,u,s=m((0,i.useState)(),2),c=s[0],l=s[1];function f(){for(var e=(new Date).getFullYear(),t=(new Date).getMonth(),n=new Date(e,t,1),r=new Date(e,t+1,0),i=0,a=n;a<=r;a.setDate(a.getDate()+1)){var o=a.getDay();0!==o&&6!==o&&i++}return i}return(0,i.useEffect)((function(){var t,n,r,i,a,o,u=null===(t=e.data)||void 0===t||null===(n=t.filter((function(e){return(null===e||void 0===e?void 0:e.theDate)===(new Date).toLocaleDateString()})))||void 0===n?void 0:n.length,s=(null===(r=e.users)||void 0===r?void 0:r.length)-u,c=null===(i=e.data)||void 0===i||null===(a=i.filter((function(e){var t,n;return new Date(1e3*(null===(t=e.time_in)||void 0===t?void 0:t.seconds)).getMonth()===(new Date).getMonth()&&new Date(1e3*(null===(n=e.time_in)||void 0===n?void 0:n.seconds)).getFullYear()===(new Date).getFullYear()})))||void 0===a?void 0:a.length,f=(null===(o=e.data)||void 0===o?void 0:o.filter((function(e){var t,n=new Date(1e3*(null===(t=e.time_in)||void 0===t?void 0:t.seconds));return n.getMonth()===(new Date).getMonth()&&n.getFullYear()===(new Date).getFullYear()&&n.getHours()<=9})).length)||0;l({todayPresents:u,todayLeaves:s,currentMonthPresents:c,thisMonthCheckin:f})}),[e.data]),(0,yA.jsxs)("div",{className:"flex space-x-3",children:[(0,yA.jsxs)("div",{className:"w-4/12 border h-max  rounded-lg p-4 flex flex-wrap  justify-around items-center bg-white",children:[(0,yA.jsx)("h2",{className:" pb-2 text-base font-bold flex justify-between items-center w-full",children:"Today's attendance"}),(0,yA.jsxs)("div",{className:"flex justify-between items-center w-full ml-0",children:[(0,yA.jsx)(kP,{text:null===(t=e.users)||void 0===t?void 0:t.length,value:_P(c?c.todayLeaves:0,null===(n=e.users)||void 0===n?void 0:n.length),height:"120px"}),(0,yA.jsxs)("div",{className:" h-max text-[14px] ",children:[(0,yA.jsxs)("p",{className:"relative before:absolute before:left-[-12px] before:top-2 before:h-2 before:w-2 before:rounded-full before:p-[-10px] before:bg-color-two before:block flex",children:[c?c.todayLeaves:0," Absent"]}),(0,yA.jsxs)("p",{className:"relative before:absolute before:left-[-12px] before:top-2 before:h-2 before:w-2 before:rounded-full before:p-[-10px] before:bg-defaultBg before:block flex",children:[null===c||void 0===c?void 0:c.todayPresents," Present"]})]})]})]}),(0,yA.jsxs)("div",{className:"w-4/12 border h-max  rounded-lg p-4 flex flex-wrap  justify-around items-center bg-white",children:[(0,yA.jsx)("h2",{className:" pb-2 text-base font-bold flex justify-between items-center w-full",children:"Current month attendance"}),(0,yA.jsxs)("div",{className:"flex justify-between items-center w-full ml-0",children:[(0,yA.jsx)(kP,{text:f()*(null===(r=e.users)||void 0===r?void 0:r.length),value:_P(f()*(null===(a=e.users)||void 0===a?void 0:a.length)-(c?c.currentMonthPresents:0),f()*(null===(o=e.users)||void 0===o?void 0:o.length)),height:"120px",pathColor:"#c4975B"}),(0,yA.jsxs)("div",{className:" h-max text-[14px] ",children:[(0,yA.jsxs)("p",{className:"relative before:absolute before:left-[-12px] before:top-2 before:h-2 before:w-2 before:rounded-full before:p-[-10px] before:bg-color-one before:block flex",children:[f()*(null===(u=e.users)||void 0===u?void 0:u.length)-(c?c.currentMonthPresents:0)," On-leave"]}),(0,yA.jsxs)("p",{className:"relative before:absolute before:left-[-12px] before:top-2 before:h-2 before:w-2 before:rounded-full before:p-[-10px] before:bg-defaultBg before:block flex",children:[null===c||void 0===c?void 0:c.currentMonthPresents," Present"]})]})]})]}),(0,yA.jsxs)("div",{className:"w-4/12 border h-max  rounded-lg p-4 flex flex-wrap  justify-around items-center bg-white",children:[(0,yA.jsx)("h2",{className:" pb-2 text-base font-bold flex justify-between items-center w-full",children:"Current month check-in"}),(0,yA.jsxs)("div",{className:"flex justify-between items-center w-full ml-0",children:[(0,yA.jsx)(kP,{text:null===c||void 0===c?void 0:c.currentMonthPresents,value:_P(c?(null===c||void 0===c?void 0:c.currentMonthPresents)-c.thisMonthCheckin:0,null===c||void 0===c?void 0:c.currentMonthPresents),height:"120px",pathColor:"#f3bdaa"}),(0,yA.jsxs)("div",{className:" h-max text-[14px] ",children:[(0,yA.jsx)("p",{className:"relative before:absolute before:left-[-12px] before:top-2 before:h-2 before:w-2 before:rounded-full before:p-[-10px] before:bg-color-three before:block flex",children:"After 10AM"}),(0,yA.jsx)("p",{className:"relative before:absolute before:left-[-12px] before:top-2 before:h-2 before:w-2 before:rounded-full before:p-[-10px] before:bg-defaultBg before:block flex",children:"Before 10AM"})]})]})]})]})},QX=["layout","type","stroke","connectNulls","isRange","ref"];function YX(e){return YX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YX(e)}function $X(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function XX(){return XX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XX.apply(this,arguments)}function JX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JX(Object(n),!0).forEach((function(t){aJ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JX(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oJ(r.key),r)}}function tJ(e,t){return tJ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tJ(e,t)}function nJ(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=iJ(e);if(t){var i=iJ(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===YX(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rJ(e)}(this,n)}}function rJ(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iJ(e){return iJ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},iJ(e)}function aJ(e,t,n){return(t=oJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oJ(e){var t=function(e,t){if("object"!==YX(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==YX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===YX(t)?t:String(t)}var uJ=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tJ(e,t)}(o,e);var t,n,r,a=nJ(o);function o(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return aJ(rJ(e=a.call.apply(a,[this].concat(n))),"state",{isAnimationFinished:!0}),aJ(rJ(e),"id",nD("recharts-area-")),aJ(rJ(e),"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),yD()(t)&&t()})),aJ(rJ(e),"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),yD()(t)&&t()})),e}return t=o,n=[{key:"renderDots",value:function(e,t,n){var r=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(r&&!a)return null;var u=this.props,s=u.dot,c=u.points,l=u.dataKey,f=mV(this.props),d=mV(s,!0),h=c.map((function(e,t){var n=ZX(ZX(ZX({key:"dot-".concat(t),r:3},f),d),{},{dataKey:l,cx:e.x,cy:e.y,index:t,value:e.value,payload:e.payload});return o.renderDotItem(s,n)})),p={clipPath:e?"url(#clipPath-".concat(t?"":"dots-").concat(n,")"):null};return i.createElement(_V,XX({className:"recharts-area-dots"},p),h)}},{key:"renderHorizontalRect",value:function(e){var t=this.props,n=t.baseLine,r=t.points,a=t.strokeWidth,o=r[0].x,u=r[r.length-1].x,s=e*Math.abs(o-u),c=KD()(r.map((function(e){return e.y||0})));return ZP(n)&&"number"===typeof n?c=Math.max(n,c):n&&HP()(n)&&n.length&&(c=Math.max(KD()(n.map((function(e){return e.y||0}))),c)),ZP(c)?i.createElement("rect",{x:o<u?o:o-s,y:0,width:s,height:Math.floor(c+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var t=this.props,n=t.baseLine,r=t.points,a=t.strokeWidth,o=r[0].y,u=r[r.length-1].y,s=e*Math.abs(o-u),c=KD()(r.map((function(e){return e.x||0})));return ZP(n)&&"number"===typeof n?c=Math.max(n,c):n&&HP()(n)&&n.length&&(c=Math.max(KD()(n.map((function(e){return e.x||0}))),c)),ZP(c)?i.createElement("rect",{x:0,y:o<u?o:o-s,width:c+(a?parseInt("".concat(a),10):1),height:Math.floor(s)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,t,n,r){var a=this.props,o=a.layout,u=a.type,s=a.stroke,c=a.connectNulls,l=a.isRange,f=(a.ref,$X(a,QX));return i.createElement(_V,{clipPath:n?"url(#clipPath-".concat(r,")"):null},i.createElement(yQ,XX({},mV(f,!0),{points:e,connectNulls:c,type:u,baseLine:t,layout:o,stroke:"none",className:"recharts-area-area"})),"none"!==s&&i.createElement(yQ,XX({},mV(this.props),{className:"recharts-area-curve",layout:o,type:u,connectNulls:c,fill:"none",points:e})),"none"!==s&&l&&i.createElement(yQ,XX({},mV(this.props),{className:"recharts-area-curve",layout:o,type:u,connectNulls:c,fill:"none",points:t})))}},{key:"renderAreaWithAnimation",value:function(e,t){var n=this,r=this.props,a=r.points,o=r.baseLine,u=r.isAnimationActive,s=r.animationBegin,c=r.animationDuration,l=r.animationEasing,f=r.animationId,d=this.state,h=d.prevPoints,p=d.prevBaseLine;return i.createElement(MW,{begin:s,duration:c,isActive:u,easing:l,from:{t:0},to:{t:1},key:"area-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(r){var u=r.t;if(h){var s,c=h.length/a.length,l=a.map((function(e,t){var n=Math.floor(t*c);if(h[n]){var r=h[n],i=aD(r.x,e.x),a=aD(r.y,e.y);return ZX(ZX({},e),{},{x:i(u),y:a(u)})}return e}));return s=ZP(o)&&"number"===typeof o?aD(p,o)(u):_D()(o)||GP()(o)?aD(p,0)(u):o.map((function(e,t){var n=Math.floor(t*c);if(p[n]){var r=p[n],i=aD(r.x,e.x),a=aD(r.y,e.y);return ZX(ZX({},e),{},{x:i(u),y:a(u)})}return e})),n.renderAreaStatically(l,s,e,t)}return i.createElement(_V,null,i.createElement("defs",null,i.createElement("clipPath",{id:"animationClipPath-".concat(t)},n.renderClipRect(u))),i.createElement(_V,{clipPath:"url(#animationClipPath-".concat(t,")")},n.renderAreaStatically(a,o,e,t)))}))}},{key:"renderArea",value:function(e,t){var n=this.props,r=n.points,i=n.baseLine,a=n.isAnimationActive,o=this.state,u=o.prevPoints,s=o.prevBaseLine,c=o.totalLength;return a&&r&&r.length&&(!u&&c>0||!qD()(u,r)||!qD()(s,i))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(r,i,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,r=t.dot,a=t.points,o=t.className,u=t.top,s=t.left,c=t.xAxis,l=t.yAxis,f=t.width,d=t.height,h=t.isAnimationActive,p=t.id;if(n||!a||!a.length)return null;var v=this.state.isAnimationFinished,m=1===a.length,y=IP()("recharts-area",o),g=c&&c.allowDataOverflow,b=l&&l.allowDataOverflow,x=g||b,w=_D()(p)?this.id:p,k=null!==(e=mV(r))&&void 0!==e?e:{r:3,strokeWidth:2},_=k.r,S=void 0===_?3:_,E=k.strokeWidth,T=void 0===E?2:E,I=(function(e){return e&&"object"===aV(e)&&"cx"in e&&"cy"in e&&"r"in e}(r)?r:{}).clipDot,j=void 0===I||I,O=2*S+T;return i.createElement(_V,{className:y},g||b?i.createElement("defs",null,i.createElement("clipPath",{id:"clipPath-".concat(w)},i.createElement("rect",{x:g?s:s-f/2,y:b?u:u-d/2,width:g?f:2*f,height:b?d:2*d})),!j&&i.createElement("clipPath",{id:"clipPath-dots-".concat(w)},i.createElement("rect",{x:s-O/2,y:u-O/2,width:f+O,height:d+O}))):null,m?null:this.renderArea(x,w),(r||m)&&this.renderDots(x,j,w),(!h||v)&&VG.renderCallByParent(this.props,a))}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],n&&eJ(t.prototype,n),r&&eJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.PureComponent);aJ(uJ,"displayName","Area"),aJ(uJ,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!TD.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),aJ(uJ,"getBaseValue",(function(e,t,n,r){var i=e.layout,a=e.baseValue,o=t.props.baseValue,u=null!==o&&void 0!==o?o:a;if(ZP(u)&&"number"===typeof u)return u;var s="horizontal"===i?r:n,c=s.scale.domain();if("number"===s.type){var l=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return"dataMin"===u?f:"dataMax"===u||l<0?l:Math.max(Math.min(c[0],c[1]),0)}return"dataMin"===u?c[0]:"dataMax"===u?c[1]:c[0]})),aJ(uJ,"getComposedData",(function(e){var t,n=e.props,r=e.item,i=e.xAxis,a=e.yAxis,o=e.xAxisTicks,u=e.yAxisTicks,s=e.bandSize,c=e.dataKey,l=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=n.layout,v=l&&l.length,m=uJ.getBaseValue(n,r,i,a),y=!1,g=d.map((function(e,t){var n,r=sq(e,c);v?n=l[f+t]:(n=r,HP()(n)?y=!0:n=[m,n]);var d=_D()(n[1])||v&&_D()(r);return"horizontal"===p?{x:Sq({axis:i,ticks:o,bandSize:s,entry:e,index:t}),y:d?null:a.scale(n[1]),value:n,payload:e}:{x:d?null:i.scale(n[1]),y:Sq({axis:a,ticks:u,bandSize:s,entry:e,index:t}),value:n,payload:e}}));return t=v||y?g.map((function(e){return"horizontal"===p?{x:e.x,y:_D()(zP()(e,"value[0]"))||_D()(zP()(e,"y"))?null:a.scale(zP()(e,"value[0]"))}:{x:_D()(zP()(e,"value[0]"))?null:i.scale(zP()(e,"value[0]")),y:e.y}})):"horizontal"===p?a.scale(m):i.scale(m),ZX({points:g,baseLine:t,layout:p,isRange:y},h)})),aJ(uJ,"renderDotItem",(function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):yD()(e)?e(t):i.createElement(TQ,XX({},t,{className:"recharts-area-dot"}))}));var sJ=g$({chartName:"AreaChart",GraphicalChild:uJ,axisComponents:[{axisType:"xAxis",AxisComp:b$},{axisType:"yAxis",AxisComp:x$}],formatAxisMap:sK}),cJ=function(e){var t=e.fill,n=void 0===t?"#bfa7f9":t,r=e.values;return(0,yA.jsx)(fD,{width:"100%",height:350,children:(0,yA.jsxs)(sJ,{data:r.sort((function(e,t){return e.name-t.name})),margin:{left:-30},children:[(0,yA.jsx)(b$,{dataKey:"name"}),(0,yA.jsx)(x$,{}),(0,yA.jsx)(LK,{content:function(e){var t=e.active,n=e.payload;e.label;return t&&n&&n.length?(0,yA.jsx)("div",{className:"bg-defaultBg border p-2 rounded-lg",children:(0,yA.jsxs)("p",{className:"label text-xs text-white",children:[n[0].value," person"]})}):null}}),(0,yA.jsx)(uJ,{type:"monotone",dataKey:"uv",stroke:"#8884d8",fill:n})]})})},lJ=function(e){var t,n=(0,i.useRef)(null),r=(new Date).getMonth();String(r);var a=(new Date).getFullYear(),o=["January","February","March","April","May","June","July","August","September","October","November","December"],u=o[r]+" "+a,s=m((0,i.useState)({data:[],title:u,customFilter:!1}),2),c=s[0],l=s[1];(0,i.useEffect)((function(){var t,n={};null===e||void 0===e||null===(t=e.data)||void 0===t||t.filter((function(e){var t;return new Date(1e3*(null===e||void 0===e||null===(t=e.time_in)||void 0===t?void 0:t.seconds)).getMonth()===r})).map((function(e){var t,r=new Date(1e3*(null===e||void 0===e||null===(t=e.time_in)||void 0===t?void 0:t.seconds)).getDate();return n[r]=(n[r]||0)+1,{name:r}}));var i=Object.keys(n).map((function(e){return{name:e,uv:n[e].toString()}}));l(f(f({},c),{},{data:i}))}),[]),console.log(c);var d=function(t){var i=t.currentTarget,s=i.value,c=i.name,f={};if("prevMonth"==s){var d;null===e||void 0===e||null===(d=e.data)||void 0===d||d.filter((function(e){var t=new Date(1e3*(null===e||void 0===e?void 0:e.time_in.seconds));return 0!==r?t.getMonth()===r-1:11===t.getMonth()})).map((function(e){var t,n=new Date(1e3*(null===e||void 0===e||null===(t=e.time_in)||void 0===t?void 0:t.seconds)).getDate();return f[n]=(f[n]||0)+1,{name:n}}));var h=Object.keys(f).map((function(e){return{name:e,uv:f[e].toString()}}));l({title:u=0!==r?o[r-1]+" "+a:o[11]+" "+(a-1),data:h,customFilter:!1})}else if("thisMonth"==s||"chooseDate"==s){var p;null===e||void 0===e||null===(p=e.data)||void 0===p||p.filter((function(e){var t;return new Date(1e3*(null===e||void 0===e||null===(t=e.time_in)||void 0===t?void 0:t.seconds)).getMonth()===r})).map((function(e){var t,n=new Date(1e3*(null===e||void 0===e||null===(t=e.time_in)||void 0===t?void 0:t.seconds)).getDate();return f[n]=(f[n]||0)+1,{name:n}}));var v=Object.keys(f).map((function(e){return{name:e,uv:f[e].toString()}})),m="chooseDate"==s;l({title:u,data:v,customFilter:m})}else if("selectMonth"==c){var y,g,b=null===(y=n.current)||void 0===y?void 0:y.selectedOptions[0],x=null===b||void 0===b?void 0:b.getAttribute("aria-label"),w=s.match(/^(\d+)-/),k=w?w[1]:null;null===e||void 0===e||null===(g=e.data)||void 0===g||g.filter((function(e){return new Date(1e3*(null===e||void 0===e?void 0:e.time_in.seconds)).getMonth()===Number(k)})).map((function(e){var t,n=new Date(1e3*(null===e||void 0===e||null===(t=e.time_in)||void 0===t?void 0:t.seconds)).getDate();return f[n]=(f[n]||0)+1,{name:n}}));var _=Object.keys(f).map((function(e){return{name:e,uv:f[e].toString()}}));l({title:x,data:_,customFilter:!0})}else l({title:"Choose any options to view attendance "})};return(0,yA.jsxs)("div",{className:" my-3 border flex-col flex justify-between rounded-lg p-4 bg-white",children:[(0,yA.jsxs)("div",{className:"ml-2 flex items-center w-full justify-between",children:[(0,yA.jsxs)("p",{className:" text-color-two font-bold justify-self-end w-max",children:[c.title," overview"]}),(0,yA.jsxs)("div",{className:"mr-0",children:[(0,yA.jsxs)("select",{name:"sort",defaultValue:"thisMonth",onChange:d,className:"border w-max border-color-one text-defaultBg font-semibold mr-2 p-2 rounded bg-transparent text-sm h-max",children:[(0,yA.jsx)("option",{value:"thisMonth",children:"Current month"}),(0,yA.jsx)("option",{value:"prevMonth",children:"Previous month"}),(0,yA.jsx)("option",{value:"chooseDate",children:"Choose a month"})]}),c.customFilter&&(0,yA.jsx)("select",{name:"selectMonth",ref:n,className:"border w-max border-color-one  font-semibold text-defaultBg mr-2 p-2 rounded bg-transparent text-sm h-max",onChange:d,children:null===(t=function(){var t,n={};return null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.filter((function(e){var t=new Date(1e3*(null===e||void 0===e?void 0:e.time_in.seconds)),r=t.getFullYear()+" "+o[t.getMonth()];return!n[r]&&(n[r]=!0,!0)}))}())||void 0===t?void 0:t.map((function(e,t){var n=new Date(1e3*(null===e||void 0===e?void 0:e.time_in.seconds)),r=n.getFullYear()+" "+o[n.getMonth()],i=n.getMonth()+"-"+n.getFullYear();return(0,yA.jsx)("option",{"aria-label":r,value:i,children:r},t)}))})]})]}),(0,yA.jsx)("small",{className:"ml-6",children:"Count X Date"}),(0,yA.jsx)("div",{className:"h-[350px] ",children:(0,yA.jsx)(cJ,{fill:"#c4975B",values:c.data})})]})},fJ=function(){var e,t,n=m((0,i.useState)(),2),r=n[0],a=n[1],o=m((0,i.useState)([]),2),u=o[0],s=o[1];return(0,i.useEffect)((function(){Hj.collection("attendance").get().then((function(e){var t=e.docs.map((function(e){var t=e.data(),n=t.time_in,r=t.employee_id,i=t.time_out,a=new Date(1e3*(null===n||void 0===n?void 0:n.seconds)),o=(new Date).toLocaleDateString()===a.toLocaleDateString(),u=i;if(!i&&!o){var s=new Date(a);u=qj.fromDate(new Date(s.setHours(23,59,0,0)))}return{theDate:a.toLocaleDateString(),time_in:n,time_out:u,employee_id:r,id:e.id}}));a(t)})),Hj.collection("users").onSnapshot((function(e){var t=e.docs.map((function(e){return{name:e.data().name,id:e.id}}));s(t)}))}),[]),(0,yA.jsxs)("section",{children:[(0,yA.jsx)(_A,{}),(0,yA.jsx)("div",{className:"bg-defaultBg  py-10",children:(0,yA.jsx)("div",{className:"container flex justify-between",children:(0,yA.jsx)("div",{children:(0,yA.jsx)("h1",{className:" text-3xl text-amber-100 font-thin",children:"Attendance"})})})}),(0,yA.jsxs)("div",{className:"container bg-gradient-to-b from-defaultBg to-transparent to-[130px] from-[1.5rem] ",children:[(0,yA.jsxs)("div",{className:"flex space-x-3",children:[(0,yA.jsxs)("div",{className:" w-8/12",children:[(0,yA.jsx)(KX,{data:r,users:u}),r&&r.length>0&&(0,yA.jsx)(lJ,{data:r})]}),(0,yA.jsxs)("div",{className:"px-8 pt-4 pb-7 w-4/12 bg-white overflow-hidden rounded-lg shadow-md items-center justify-between mb-4",children:[(0,yA.jsx)("h2",{className:" pb-2 text-2xl font-bold flex justify-between items-center",children:"Today's Attendance"}),0===(null===r||void 0===r||null===(e=r.filter((function(e){return(null===e||void 0===e?void 0:e.theDate)===(new Date).toLocaleDateString()})))||void 0===e?void 0:e.length)?(0,yA.jsx)("div",{className:"flex items-center",children:(0,yA.jsx)("p",{className:"text-red-700",children:"No attendance today"})}):null===r||void 0===r||null===(t=r.filter((function(e){return(null===e||void 0===e?void 0:e.theDate)===(new Date).toLocaleDateString()})))||void 0===t?void 0:t.sort((function(e,t){return e.time_in-t.time_in})).map((function(e,t){var n;return(0,yA.jsxs)("div",{className:"flex items-center my-3",children:[(0,yA.jsx)("img",{src:S$,alt:"s",className:"w-12 h-12 mr-3 rounded-full mb-0"}),(0,yA.jsx)("p",{className:" font-semibold text-lg w-full",children:null===u||void 0===u||null===(n=u.find((function(t){return t.id===e.employee_id})))||void 0===n?void 0:n.name}),(0,yA.jsxs)("div",{className:"w-full text-right block",children:[(0,yA.jsx)("small",{className:"font-bold text-sm text-color-two block",children:new Date(1e3*e.time_in.seconds).toLocaleTimeString()}),(null===e||void 0===e?void 0:e.time_out)&&(0,yA.jsx)("small",{className:"font-bold text-sm text-color-three",children:new Date(1e3*e.time_out.seconds).toLocaleTimeString()})]})]},t)}))]})]}),r&&r.length>0&&(0,yA.jsx)(GX,{data:r,users:u})]})]})},dJ=function(){return(0,yA.jsxs)(qe,{children:[(0,yA.jsx)(Ve,{path:"/login/",element:(0,yA.jsx)(bA,{})}),(0,yA.jsx)(Ve,{path:"/home",element:(0,yA.jsx)(_$,{})}),(0,yA.jsx)(Ve,{path:"/",element:(0,yA.jsx)(_$,{})}),(0,yA.jsx)(Ve,{path:"/employees",element:(0,yA.jsx)(O$,{})}),(0,yA.jsx)(Ve,{path:"/employees/view/:id",element:(0,yA.jsx)(C$,{})}),(0,yA.jsx)(Ve,{path:"/projects",element:(0,yA.jsx)(M$,{})}),(0,yA.jsx)(Ve,{path:"/attendance",element:(0,yA.jsx)(fJ,{})}),(0,yA.jsx)(Ve,{path:"/leaves",element:(0,yA.jsx)(qX,{})}),(0,yA.jsx)(Ve,{path:"/notifications",element:(0,yA.jsx)(D$,{})}),(0,yA.jsx)(Ve,{path:"/settings",element:(0,yA.jsx)(WX,{})})]})},hJ=function(){var e=pt((function(e){return e.user}));return(0,yA.jsxs)("header",{className:"bg-defaultBg text-amber-100 border-b  border-defaultBg-100 ",children:[(0,yA.jsx)("div",{className:"container py-2",children:(0,yA.jsxs)("div",{className:"flex justify-between items-center space-x-2",children:[(0,yA.jsx)("div",{className:"w-2/12",children:(0,yA.jsx)("img",{src:wA,alt:"logo",className:"w-28"})}),(0,yA.jsx)("div",{className:"w-full",children:(0,yA.jsx)("nav",{className:"w-full",children:(0,yA.jsxs)("ul",{className:"flex w-full gap-x-3 ",children:[(0,yA.jsx)("li",{className:"flex px-3 py-1 rounded-2xl items-center hover:bg-defaultBg-100",children:(0,yA.jsxs)(Ze,{to:"../",className:"flex items-center",children:[(0,yA.jsx)(cO,{className:"mr-2"})," Dashboard"]})}),(0,yA.jsx)("li",{className:"flex px-3 py-1 rounded-2xl items-center hover:bg-defaultBg-100",children:(0,yA.jsxs)(Ze,{to:"/user/profile",className:"flex items-center",children:[(0,yA.jsx)(dO,{className:"mr-2"})," Profile"]})}),(0,yA.jsx)("li",{className:"flex px-3 py-1 rounded-2xl items-center hover:bg-defaultBg-100",children:(0,yA.jsxs)(Ze,{to:"../leaves",className:"flex items-center",children:[(0,yA.jsx)(lO,{className:"mr-2"})," Leaves"]})}),(0,yA.jsx)("li",{className:"flex px-3 py-1 rounded-2xl items-center hover:bg-defaultBg-100",children:(0,yA.jsxs)(Ze,{to:"../attendance",className:"flex items-center",children:[(0,yA.jsx)(tO,{className:"mr-2"}),"Attendence"]})})]})})}),(0,yA.jsx)("div",{className:"w-4/12 text-right relative",children:(0,yA.jsxs)("ul",{className:"flex justify-end gap-x-1 ",children:[(0,yA.jsx)("li",{className:"flex items-center",children:(0,yA.jsx)(eO,{size:25,className:"mr-2 border border-defaultBg-100 rounded-full p-1 text-center bg-defaultBg-100"})}),(0,yA.jsx)("li",{className:"flex items-center",children:(0,yA.jsx)(nO,{size:25,className:"mr-2 border border-defaultBg-100 rounded-full p-1 text-center bg-defaultBg-100"})}),(0,yA.jsxs)("li",{className:"flex group items-center capitalize rounded-full p-1 pr-3 text-center bg-defaultBg-100",onClick:function(){},children:[(0,yA.jsx)(hO,{size:25,className:"mr-2 border border-defaultBg-100  rounded-full p-1 text-center bg-defaultBg-100"}),e.name,(0,yA.jsx)("div",{className:"absolute top-full hidden right-0 pt-3 group-hover:block   bg-opacity-50 ",children:(0,yA.jsxs)("div",{className:"bg-defaultBg text-left rounded p-4 px-5 block border-defaultBg-100 border",children:[(0,yA.jsx)("p",{children:(0,yA.jsx)(Ze,{to:"/user/profile",children:"My profile"})}),(0,yA.jsx)(kA,{})]})})]})]})})]})}),(0,yA.jsx)(gA,{typeProp:"homeNotice"})]})};function pJ(e){return Jj({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm64-192c0-8.8 7.2-16 16-16h96c8.8 0 16 7.2 16 16v96c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16v-96zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"}}]})(e)}function vJ(e){return Jj({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 160H12c-6.6 0-12-5.4-12-12v-36c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48v36c0 6.6-5.4 12-12 12zM12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm304 192c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12H132c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h184z"}}]})(e)}function mJ(e){return Jj({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm64-192c0-8.8 7.2-16 16-16h288c8.8 0 16 7.2 16 16v64c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16v-64zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"}}]})(e)}function yJ(e){return Jj({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm96 304c0 4.4-3.6 8-8 8h-56v56c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-56h-56c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h56v-56c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v56h56c4.4 0 8 3.6 8 8v48zm0-192c0 4.4-3.6 8-8 8H104c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h176c4.4 0 8 3.6 8 8v16z"}}]})(e)}function gJ(e){return Jj({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"}}]})(e)}var bJ=tA({name:"attendance",initialState:fA.attendance,reducers:{setAttendance:function(e,t){return console.log("attendance data updated"),t.payload}}}),xJ=bJ.actions.setAttendance,wJ=bJ.reducer,kJ=function(){var e=pt((function(e){return e.user})),t=pt((function(e){return e.attendance})),n=_t(),r=m((0,i.useState)(!1),2),a=r[0],o=r[1];(0,i.useEffect)((function(){var t=new Date;t.setHours(0,0,0,0);var r=qj.fromDate(t),i=qj.fromMillis(t.getTime()+864e5-1);Hj.collection("attendance").where("employee_id","==",e.id).where("time_in",">=",r).where("time_in","<=",i).get().then((function(e){0===e.docs.length?n(xJ({allowCheckin:!1})):e.docs.map((function(e){var t=!e.data().time_out;e.data().time_out?n(xJ({allowCheckin:t,attnd_id:null===e||void 0===e?void 0:e.id,time_in:u(e.data().time_in),time_out:u(e.data().time_out)})):n(xJ({allowCheckin:t,attnd_id:null===e||void 0===e?void 0:e.id,time_in:u(e.data().time_in)}))}))}))}),[e]);var u=function(e){return new Date(1e3*e).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})},s=function(r){var i;null===(i=1==r?Hj.collection("attendance").add({employee_id:e.id,time_in:qj.now()}):Hj.collection("attendance").doc(null===t||void 0===t?void 0:t.attnd_id).set({time_out:qj.now()},{merge:!0}))||void 0===i||i.then((function(e){n(xJ(f(f({},t),{},r?{allowCheckin:!0,attnd_id:null===e||void 0===e?void 0:e.id,time_in:u(qj.now().seconds)}:{allowCheckin:!1,time_out:u(qj.now().seconds)})))})).catch((function(e){n(pA({name:"attendence",msg:e.message,code:1}))}))};return(0,yA.jsxs)("div",{children:[(0,yA.jsxs)("div",{className:"text-center border-1 border-color-one p-3 rounded-md bg-defaultBg-100",onClick:function(){o(!0)},children:[(0,yA.jsx)("h3",{className:"text-amber-100 ",children:"Check in / out"}),(0,yA.jsx)(gJ,{size:40,className:"text-center m-auto text-color-one"})]}),a&&(0,yA.jsx)("div",{children:(0,yA.jsx)("div",{className:"fixed inset-0 grid overflow-y-auto\tpy-5 items-center justify-center z-50 bg-[#0000008c]",children:(0,yA.jsxs)("div",{className:"bg-defaultBg py-8 px-20 text-center rounded-lg shadow-md relative border-2 border-gray-600 ",id:"employeeFormPopup",children:[(0,yA.jsx)("button",{className:"mt-4 bg-gray-300 rounded-full text-xs absolute right-2 top-1 text-defaultBg font-bold py-1 px-2 ",onClick:function(){o(!1)},children:"X"}),(0,yA.jsx)("h1",{className:"text-2xl font-bold  mb-5 normal-case text-amber-200",children:"Checkin"}),(0,yA.jsx)("div",{className:"rounded-full m-auto  border-white/30 h-[120px] w-[120px] flex items-center justify-center border-2 bg-defaultBg-100 text-white ",children:t.attnd_id?t.allowCheckin?(0,yA.jsxs)("span",{className:"text-sm",children:["Checked in",(0,yA.jsx)("br",{}),"at",(0,yA.jsx)("br",{}),t.time_in]}):(0,yA.jsxs)("span",{className:"text-sm",children:["Checked out",(0,yA.jsx)("br",{}),"at",(0,yA.jsx)("br",{}),t.time_out]}):(0,yA.jsx)("span",{children:u(qj.now().seconds)})}),(0,yA.jsx)("div",{className:"flex space-x-3 mb-3",children:t.attnd_id?t.allowCheckin&&(0,yA.jsx)("button",{className:" rounded-md m-auto mt-3 hover:bg-red-800/50 text-white w-full  font-bold py-2 px-8  bg-red-800",onClick:function(){s(!1)},children:"CHECK OUT"}):(0,yA.jsx)("button",{className:" rounded-md m-auto mt-3 hover:bg-color-one/50 text-white w-full  font-bold py-2 px-8  bg-color-one",onClick:function(){s(!0)},children:"CHECK IN"})}),(0,yA.jsx)(gA,{typeProp:"attendence"})]})})})]})},_J=function(){var e=pt((function(e){return e.user}));return(0,yA.jsx)("section",{className:"bg-defaultBg   py-10",children:(0,yA.jsxs)("div",{className:"container flex justify-between",children:[(0,yA.jsxs)("div",{children:[(0,yA.jsxs)("h2",{className:"text-amber-100 text-xl font-normal  capitalize",children:["Hello ",e.name,","]}),(0,yA.jsx)("h1",{className:" text-3xl text-amber-100 font-thin",children:"Good morning"})]}),(0,yA.jsx)(kJ,{})]})})},SJ=function(){pt((function(e){var t;return null===(t=e.user.auth)||void 0===t?void 0:t.name}));return(0,yA.jsxs)("section",{children:[(0,yA.jsx)(hJ,{}),(0,yA.jsx)(_J,{})]})},EJ=function(e){var t=e.closeModal,n=e.type,r=e.User,a=null===r||void 0===r?void 0:r.id,o=lP(),u=_t(),s=m((0,i.useState)([]),2),l=s[0],d=s[1],h=m((0,i.useState)([]),2),p=h[0],v=h[1],y=m((0,i.useState)([]),2),g=y[0],b=y[1],x=m((0,i.useState)({}),2),w=x[0],k=x[1],_=m((0,i.useState)({personal:{name:null===r||void 0===r?void 0:r.name,phone:null===r||void 0===r?void 0:r.phone},employment:{role:null===r||void 0===r?void 0:r.role,jobmode:null===r||void 0===r?void 0:r.jobmode,jobstatus:null===r||void 0===r?void 0:r.jobstatus,date:null===r||void 0===r?void 0:r.e_date,eid:null===r||void 0===r?void 0:r.e_id,manager:null===r||void 0===r?void 0:r.manager,department:null===r||void 0===r?void 0:r.department}}),2),S=_[0],E=_[1],T=function(e){var t=e.currentTarget,r=t.name,i=t.value;E(f(f({},S),{},"Personalform"==n?{personal:f(f({},S.personal),{},c({},r,i))}:{employment:f(f({},S.employment),{},c({},r,i))}));var a,o={status:!1};"phone"===r&&i.length<10?o=f(f({},o),{},(c(a={},r,"Invalid phone number"),c(a,"status",!0),a)):o=f(f({},o),{},c({},r,null));k(f(f({},w),o))};(0,i.useEffect)((function(){var e=Object.keys(w).filter((function(e){return"status"!==e})).every((function(e){return null===w[e]}));k(f(f({},w),{},{status:!e}))}),[S]);(0,i.useEffect)((function(){b(o),Hj.collection("users").where("isManager","==",!0).get().then((function(e){var t=e.docs.map((function(e){return{id:e.id,name:e.data().name,dept:e.data().department}}));return d(t),t})).then((function(e){var t=e.filter((function(e){return(null===e||void 0===e?void 0:e.dept)===r.department}));v(t)}))}),[]);return(0,yA.jsx)("div",{children:(0,yA.jsx)("div",{className:"fixed inset-0 grid overflow-y-auto\tpy-5 items-center justify-center z-50 bg-[#0000008c]",children:(0,yA.jsxs)("div",{className:"bg-white p-8 rounded shadow-md relative ",id:"employeeFormPopup",children:[(0,yA.jsx)("button",{className:"mt-4 bg-black rounded-full text-xs absolute right-2 top-1 text-white font-bold py-1 px-2 ",onClick:t,children:"X"}),(0,yA.jsxs)("h1",{className:"text-2xl font-bold  mb-5",children:["Quick Edit ","Personalform"==n?"Personal details":"Employment details"]}),(0,yA.jsx)(gA,{typeProp:"editProfile"}),(0,yA.jsxs)("form",{onSubmit:function(e){var i,o,s,c;e.preventDefault();var l,f,d=null===(i=e.currentTarget)||void 0===i||null===(o=i.isManager)||void 0===o?void 0:o.checked,h=null!==(s=e.currentTarget.address)&&void 0!==s&&s.value?null===(c=e.currentTarget.address)||void 0===c?void 0:c.value:"",p=document.getElementById("employeeFormPopup"),v="Personalform"==n?S.personal:S.employment;if(Object.keys(v).some((function(e){return""===v[e].trim()}))||1==w.status)return u(pA({name:"editProfile",msg:"Please fill valid data in all mandotory fields",code:1})),void(p&&p.scrollIntoView({behavior:"smooth",block:"start"}));(l="Personalform"==n?{name:S.personal.name,phone:S.personal.phone,address:h,dob:null===(f=e.currentTarget.dob)||void 0===f?void 0:f.value}:{e_id:S.employment.eid,e_date:S.employment.date,role:S.employment.role,jobmode:S.employment.jobmode,jobstatus:S.employment.jobstatus,isManager:d,manager:S.employment.manager,department:S.employment.department})&&Hj.collection("users").doc(a).set(l,{merge:!0}).then((function(e){u(pA({name:"editProfile",msg:"Profile details updated successfully!",code:3,time:3e3})),dP("".concat(null===r||void 0===r?void 0:r.name," updated profile."),a,"".concat(null===r||void 0===r?void 0:r.name," updated profile. Check and varify."),"employees/view/".concat(a),"employee"),p&&p.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout((function(){null===t||void 0===t||t()}),3e3)})).catch((function(e){u(pA({name:"editProfile",msg:"Profile details updation failed!",code:1})),console.log("Error updating user profile : ",e)}))},className:"mt-3",children:["Personalform"==n&&(0,yA.jsxs)("div",{children:[(0,yA.jsx)("div",{className:"mb-4 space-x-3 flex",children:(0,yA.jsx)("input",{id:"NameInput",type:"text",name:"name",placeholder:"Name*",defaultValue:null===r||void 0===r?void 0:r.name,onBlur:T,className:"border border-gray-300 p-2 w-full rounded"})}),(0,yA.jsxs)("div",{className:"mb-4 space-x-3 ",children:[(0,yA.jsx)("input",{id:"phoneNumberInput",type:"text",name:"phone",placeholder:"Phone Number*",defaultValue:null===r||void 0===r?void 0:r.phone,onBlur:T,className:"border border-gray-300 p-2 w-full rounded"}),w.phone&&(0,yA.jsx)("small",{className:"block text-red-500\t",children:w.phone})]}),(0,yA.jsxs)("div",{className:"w-full mb-4 ",children:[(0,yA.jsx)("label",{className:" font-semibold",children:"Date of birth: "}),(0,yA.jsx)("br",{}),(0,yA.jsx)("input",{id:"dob",type:"date",name:"dob",placeholder:"Date of birth",onBlur:T,defaultValue:null===r||void 0===r?void 0:r.dob,max:function(){var e=new Date;return e.setFullYear(e.getFullYear()-18),e.toISOString().split("T")[0]}(),className:"border mt-2 w-full border-gray-300 p-2 rounded"})]}),(0,yA.jsx)("div",{className:"mb-4 space-x-3",children:(0,yA.jsx)("textarea",{id:"addressInput",placeholder:"Address",name:"address",defaultValue:r.address?r.address:"",className:"border w-full border-gray-300 p-2 rounded"})})]}),"Employmentform"==n&&(0,yA.jsxs)("div",{children:[(0,yA.jsxs)("div",{className:"mb-4 space-x-3 ",children:[(0,yA.jsx)("input",{id:"emailInput",type:"email",name:"email",placeholder:"Email*",defaultValue:null===r||void 0===r?void 0:r.email,onBlur:T,className:"border w-full border-gray-300 p-2 rounded"}),w.email&&(0,yA.jsx)("small",{className:"block text-red-500\t",children:w.email})]}),(0,yA.jsxs)("div",{className:"mb-4 space-x-3 flex",children:[(0,yA.jsx)("input",{id:"EidInput",type:"text",name:"eid",placeholder:"Employee id*",defaultValue:null===r||void 0===r?void 0:r.e_id,onBlur:T,className:"border border-gray-300 p-2 rounded"}),(0,yA.jsx)("input",{id:"role",type:"text",name:"role",placeholder:"Role*",defaultValue:null===r||void 0===r?void 0:r.role,onBlur:T,className:"border h-max w-full border-gray-300 p-2 rounded"})]}),(0,yA.jsxs)("div",{className:"mb-4 space-x-3 flex",children:[(0,yA.jsxs)("select",{name:"department",onBlur:T,onChange:function(e){var t=l.filter((function(t){return(null===t||void 0===t?void 0:t.dept)===e.currentTarget.value}));v(t),console.log(p)},className:"border w-full border-gray-300 p-2 rounded",children:[(0,yA.jsx)("option",{children:"Department *"}),g&&(null===g||void 0===g?void 0:g.map((function(e){return(0,yA.jsx)("option",{value:e.id,selected:(null===e||void 0===e?void 0:e.id)===r.department,children:e.title},e.id)})))]}),(0,yA.jsxs)("select",{name:"manager",onBlur:T,className:"border w-full border-gray-300 p-2 rounded",children:[(0,yA.jsx)("option",{children:"Manager *"}),p&&(null===p||void 0===p?void 0:p.map((function(e){return(0,yA.jsx)("option",{value:e.id,selected:(null===e||void 0===e?void 0:e.id)===r.manager,children:e.name},e.id)})))]})]}),(0,yA.jsxs)("div",{className:"w-full mb-4 ",children:[(0,yA.jsx)("label",{className:" font-semibold",children:"Employment date: "}),(0,yA.jsx)("br",{}),(0,yA.jsx)("input",{id:"date",type:"date",name:"date",placeholder:"Date",defaultValue:null===r||void 0===r?void 0:r.e_date,onBlur:T,max:(new Date).toISOString().split("T")[0],className:"border mt-2 w-full border-gray-300 p-2 rounded"})]}),(0,yA.jsxs)("div",{className:"mb-4 ",children:[(0,yA.jsx)("label",{className:"mr-3 font-semibold",children:"Job status* "}),(0,yA.jsx)("br",{}),(0,yA.jsx)("input",{type:"radio",name:"jobstatus",value:"intern",className:"mr-2",onBlur:T,defaultChecked:"intern"===(null===r||void 0===r?void 0:r.jobstatus)}),"Intern",(0,yA.jsx)("input",{type:"radio",name:"jobstatus",value:"fulltime",className:"ml-3 mr-2",onBlur:T,defaultChecked:"fulltime"==(null===r||void 0===r?void 0:r.jobstatus)}),"Fulltime"]}),(0,yA.jsxs)("div",{className:"mb-4 ",children:[(0,yA.jsx)("label",{className:"mr-3 font-semibold",children:"Job mode* "}),(0,yA.jsx)("br",{}),(0,yA.jsx)("input",{type:"radio",name:"jobmode",value:"remote",className:"mr-2",onBlur:T,defaultChecked:"remote"===(null===r||void 0===r?void 0:r.jobmode)}),"Remote",(0,yA.jsx)("input",{type:"radio",name:"jobmode",value:"office",className:"ml-3 mr-2",onBlur:T,defaultChecked:"office"===(null===r||void 0===r?void 0:r.jobmode)}),"Office"]}),(0,yA.jsxs)("div",{className:"mb-4 block",children:[(0,yA.jsx)("input",{type:"checkbox",name:"isManager",className:"mr-2 mb-2",defaultChecked:!0===(null===r||void 0===r?void 0:r.isManager)}),"Give Manager features",(0,yA.jsx)("br",{})]})]}),(0,yA.jsx)("button",{type:"submit",className:"bg-defaultBg w-full text-white py-2 px-5 rounded",children:"Update"})]})]})})})},TJ=function(){var e=pt((function(e){return e.user})),t=lP(),n=fP(e.department,t),r=m((0,i.useState)({}),2),a=r[0],o=r[1],u=_t();return(0,yA.jsxs)("div",{className:"container bg-gradient-to-b from-defaultBg to-transparent to-[130px] from-[1.5rem] ",children:[(0,yA.jsxs)("div",{className:"  pt-5 flex space-x-12",children:[(0,yA.jsxs)("div",{className:"bg-white overflow-hidden  w-full rounded-lg shadow-md items-center justify-between mb-4",children:[(0,yA.jsxs)("h2",{className:"px-8 py-2 text-2xl font-bold text-white bg-color-two flex justify-between items-center",children:["Personal Details",(0,yA.jsx)("span",{children:(0,yA.jsx)(fO,{size:20,color:"grey",onClick:function(){u(vA("editEmployee")),o(f(f({},a),{},{Personalform:!0}))}})})]}),(0,yA.jsx)("table",{className:"py-2 block w-full border-separate capitalize text-left border-spacing-y-2 border-spacing-x-4 px-4",children:(0,yA.jsxs)("tbody",{children:[(0,yA.jsxs)("tr",{children:[(0,yA.jsx)("th",{className:"font-semibold text-black",children:"Name:"}),(0,yA.jsx)("td",{children:e.name})]}),(0,yA.jsxs)("tr",{children:[(0,yA.jsx)("th",{className:"font-semibold text-black",children:"Phone:"}),(0,yA.jsx)("td",{children:e.phone})]}),(0,yA.jsxs)("tr",{children:[(0,yA.jsx)("th",{className:"font-semibold text-black",children:"Date of birth:"}),(0,yA.jsx)("td",{children:e.dob})]}),(0,yA.jsxs)("tr",{children:[(0,yA.jsx)("th",{className:"font-semibold text-black",children:"Address"}),(0,yA.jsx)("td",{children:e.address})]})]})})]}),(0,yA.jsxs)("div",{className:"bg-white overflow-hidden  w-full rounded-lg shadow-md items-center justify-between mb-4",children:[(0,yA.jsxs)("h2",{className:"px-8 py-2 text-2xl font-bold text-white bg-color-three flex justify-between items-center",children:["Employment Details",(0,yA.jsx)("span",{children:(0,yA.jsx)(fO,{size:20,color:"grey",onClick:function(){u(vA("editEmployee")),o(f(f({},a),{},{Employmentform:!0}))}})})]}),(0,yA.jsx)("table",{className:"py-2 block w-full border-separate capitalize border-spacing-y-2 border-spacing-x-4 px-4",children:(0,yA.jsxs)("tbody",{children:[(0,yA.jsxs)("tr",{children:[(0,yA.jsx)("td",{className:"font-semibold text-black",children:"Employment date:"}),(0,yA.jsx)("td",{children:e.e_date})]}),(0,yA.jsxs)("tr",{children:[(0,yA.jsx)("td",{className:"font-semibold text-black",children:"Role:"}),(0,yA.jsx)("td",{children:e.role})]}),(0,yA.jsxs)("tr",{children:[(0,yA.jsx)("td",{className:"font-semibold text-black",children:"Department:"}),(0,yA.jsx)("td",{children:n})]}),(0,yA.jsxs)("tr",{children:[(0,yA.jsx)("td",{className:"font-semibold text-black",children:"Manager:"}),(0,yA.jsx)("td",{children:(0,yA.jsx)(Ze,{to:"../employees/view/".concat(null===e||void 0===e?void 0:e.manager),children:null===e||void 0===e?void 0:e.managerName})})]}),e.isManager&&(0,yA.jsxs)("tr",{children:[(0,yA.jsx)("td",{className:"font-semibold text-black",children:"Manager role:"}),(0,yA.jsx)("td",{children:(0,yA.jsx)(iO,{})})]}),(0,yA.jsxs)("tr",{children:[(0,yA.jsx)("td",{className:"font-semibold text-black",children:"Job Mode:"}),(0,yA.jsx)("td",{children:e.jobmode})]}),(0,yA.jsxs)("tr",{children:[(0,yA.jsx)("td",{className:"font-semibold text-black",children:"Job Status:"}),(0,yA.jsx)("td",{children:e.jobstatus})]})]})})]})]}),a.Personalform&&(0,yA.jsx)(EJ,{type:"Personalform",User:e,closeModal:function(){return o(f(f({},a),{},{Personalform:!1}))}}),a.Employmentform&&(0,yA.jsx)(EJ,{type:"Employmentform",User:e,closeModal:function(){return o(f(f({},a),{},{Employmentform:!1}))}})]})},IJ=function(){var e=pt((function(e){return e.user})),t=pt((function(e){return e.attendance}));console.log(t);return(0,yA.jsxs)("section",{children:[(0,yA.jsx)(hJ,{}),(0,yA.jsx)("div",{className:"bg-defaultBg  py-10",children:(0,yA.jsx)("div",{className:"container flex justify-between",children:(0,yA.jsxs)("div",{className:"flex items-center space-x-2 capitalize text-gray-400",children:[(0,yA.jsxs)("div",{className:"relative w-max m-auto",children:[(0,yA.jsx)("img",{src:S$,alt:e.name,className:"w-24 h-24 rounded-full mx-auto mb-2"}),(0,yA.jsx)("span",{className:"".concat(null===t||void 0===t||!t.time_in||null!==t&&void 0!==t&&t.time_out?"bg-red-600":"bg-green-600"," w-4 h-4 block absolute top-0 right-4 border-2 m-auto rounded-full")})]}),(0,yA.jsxs)("div",{children:[(0,yA.jsx)("p",{className:" w-max bg-color-one text-black px-2 rounded-md text-xs",children:e.e_id}),(0,yA.jsx)("h1",{className:" text-3xl text-amber-100 font-thin",children:e.name}),(0,yA.jsx)("p",{children:e.role}),(0,yA.jsx)("p",{children:e.email})]})]})})}),(0,yA.jsx)(TJ,{})]})},jJ=function(e){var t=Array.from({length:31},(function(e,t){return{name:"".concat(t+1)}})),n=null===t||void 0===t?void 0:t.map((function(t,n){var r;return(null===e||void 0===e||null===(r=e.values)||void 0===r?void 0:r.find((function(e){return(null===e||void 0===e?void 0:e.name)==(null===t||void 0===t?void 0:t.name)})))||t}));return(0,yA.jsx)(fD,{width:"100%",height:"100%",children:(0,yA.jsxs)(w$,{width:200,height:40,data:n,margin:{left:-30},children:[(0,yA.jsx)(b$,{dataKey:"name",stroke:"#1d322f",tickLine:!1}),(0,yA.jsx)(x$,{stroke:"#1d322f",tickLine:!1}),(0,yA.jsx)(LK,{content:function(e){var t=e.active,n=e.payload;e.label;return t&&n&&n.length?(0,yA.jsx)("div",{className:"bg-defaultBg border p-2 rounded-lg",children:(0,yA.jsxs)("p",{className:"label text-xs text-white",children:[n[0].value," hr"]})}):null}}),(0,yA.jsx)(tK,{dataKey:"uv",fill:"#c4975b"})]})})},OJ=function(){var e,t,n=(0,i.useRef)(null),r=(0,i.useRef)(null),a=pt((function(e){return e.user})),o=m((0,i.useState)([]),2),u=o[0],s=o[1],c=m((0,i.useState)({}),2),l=c[0],d=c[1],h=new Date,p=h.getMonth();h.getDate(),String(p);var v=h.getFullYear(),y=["January","February","March","April","May","June","July","August","September","October","November","December"],g=y[p]+" "+v,b=m((0,i.useState)({data:[],title:g,customFilter:!1}),2),x=b[0],w=b[1],k=function(e){var t,n=new Date(1e3*(null===e||void 0===e?void 0:e.time_in.seconds)),r=(new Date).toLocaleDateString()===n.toLocaleDateString();if(null!==e&&void 0!==e&&e.time_out)t=new Date(1e3*(null===e||void 0===e?void 0:e.time_out.seconds));else if(r)t=new Date;else{var i=new Date(n);t=new Date(i.setHours(23,59,0,0))}var a=n.getDate(),o=t.getHours()-n.getHours(),u=t.getMinutes()-n.getMinutes();return u<0&&(o-=1,u+=60),{uv:(o+u/60).toFixed(2),name:a}};(0,i.useEffect)((function(){Hj.collection("attendance").where("employee_id","==",a.id).get().then((function(e){var t=e.docs.map((function(e){var t=e.data(),n=t.time_in,r=t.time_out,i=new Date(1e3*n.seconds),a=(new Date).toLocaleDateString()===i.toLocaleDateString();if(!r&&!a){var o=new Date(i);return{time_in:n,time_out:qj.fromDate(new Date(o.setHours(23,59,0,0)))}}return{time_in:n,time_out:r}}));return s(t),t})).then((function(e){var t=null===e||void 0===e?void 0:e.filter((function(e){return new Date(1e3*(null===e||void 0===e?void 0:e.time_in.seconds)).getMonth()===p})).map((function(e){return k(e)}));w(f(f({},x),{},{data:t}))}))}),[]),console.log(u);var _=function(e){var t=e.map((function(e){return k(e)})),n=t.reduce((function(e,t){return e+Number(t.uv)}),0).toFixed(2),r=0;return t.filter((function(e){return e.uv>8})).map((function(e){r=Math.round(r+(Number(e.uv)-8))})),{Total:n,Overtime:r}},S=function(){var e={};return null===u||void 0===u?void 0:u.filter((function(t){var n=new Date(1e3*(null===t||void 0===t?void 0:t.time_in.seconds)),r=n.getFullYear()+" "+y[n.getMonth()];return!e[r]&&(e[r]=!0,!0)}))},E=function(e){var t=e.currentTarget,r=t.value,i=t.name;if("prevMonth"==r){var a=null===u||void 0===u?void 0:u.filter((function(e){var t=new Date(1e3*(null===e||void 0===e?void 0:e.time_in.seconds));return 0!==p?t.getMonth()===p-1:11===t.getMonth()})).map((function(e){return k(e)}));console.log(a),w({title:g=0!==p?y[p-1]+" "+v:y[11]+" "+(v-1),data:a,customFilter:!1})}else if("thisMonth"==r||"chooseDate"==r){var o=null===u||void 0===u?void 0:u.filter((function(e){return new Date(1e3*(null===e||void 0===e?void 0:e.time_in.seconds)).getMonth()===p})).map((function(e){return k(e)})),s="chooseDate"==r;w({title:g,data:o,customFilter:s})}else if("selectMonth"==i){var c,l=null===(c=n.current)||void 0===c?void 0:c.selectedOptions[0],f=null===l||void 0===l?void 0:l.getAttribute("aria-label"),d=r.match(/^(\d+)-/),h=d?d[1]:null,m=null===u||void 0===u?void 0:u.filter((function(e){return new Date(1e3*(null===e||void 0===e?void 0:e.time_in.seconds)).getMonth()===Number(h)})).map((function(e){return k(e)}));w({title:f,data:m,customFilter:!0})}else w({title:"Choose any options to view attendance "})},T=function(e){var t=e.currentTarget,n=t.value,r=t.name;d({value:n,name:r})},I=(0,i.useMemo)((function(){if("tableMonth"===l.name){var e=l.value.match(/^(\d+)-/),t=e?e[1]:null;return null===u||void 0===u?void 0:u.filter((function(e){return new Date(1e3*(null===e||void 0===e?void 0:e.time_in.seconds)).getMonth()===Number(t)}))}if("tableDate"===l.name){r.current&&(r.current.value="Month");var n=null===u||void 0===u?void 0:u.filter((function(e){var t=new Date(1e3*(null===e||void 0===e?void 0:e.time_in.seconds)),n=String(t.getFullYear()),r=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0");return console.log("".concat(n,"-").concat(r,"-").concat(i),l.value),"".concat(n,"-").concat(r,"-").concat(i)==l.value}));return n}return u}),[u,l]);return(0,yA.jsxs)("div",{className:"container  bg-gradient-to-b from-defaultBg to-transparent to-[130px] from-[1.5rem]",children:[(0,yA.jsxs)("div",{className:"flex space-x-5",children:[(0,yA.jsxs)("div",{className:"w-10/12 border flex-col flex justify-between border-defaultBg rounded-lg p-4 bg-white",children:[(0,yA.jsxs)("div",{className:"ml-2 flex items-center w-full justify-between",children:[(0,yA.jsxs)("p",{className:" text-color-two font-bold justify-self-end w-max",children:[x.title," overview"]}),(0,yA.jsxs)("div",{className:"mr-3",children:[(0,yA.jsxs)("select",{name:"sort",defaultValue:"thisMonth",onChange:E,className:"border w-max border-color-one text-defaultBg font-semibold mr-2 p-2 rounded bg-transparent text-sm h-max",children:[(0,yA.jsx)("option",{value:"thisMonth",children:"Current month"}),(0,yA.jsx)("option",{value:"prevMonth",children:"Previous month"}),(0,yA.jsx)("option",{value:"chooseDate",children:"Choose a month"})]}),x.customFilter&&(0,yA.jsx)("select",{name:"selectMonth",ref:n,className:"border w-max border-color-one  font-semibold text-defaultBg mr-2 p-2 rounded bg-transparent text-sm h-max",onChange:E,children:null===(e=S())||void 0===e?void 0:e.map((function(e,t){var n=new Date(1e3*(null===e||void 0===e?void 0:e.time_in.seconds)),r=n.getFullYear()+" "+y[n.getMonth()],i=n.getMonth()+"-"+n.getFullYear();return(0,yA.jsx)("option",{"aria-label":r,value:i,children:r},t)}))})]})]}),(0,yA.jsx)("small",{className:"ml-7",children:"Hours X Date"}),(0,yA.jsx)("div",{className:"h-[350px] ",children:(0,yA.jsx)(jJ,{values:x.data})})]}),(0,yA.jsxs)("div",{className:" w-2/12 space-y-3",children:[(0,yA.jsxs)("div",{className:" border border-defaultBg rounded-lg p-4 bg-white",children:[(0,yA.jsx)(vO,{size:50,className:"bg-color-two text-defaultBg p-3 rounded-full overflow-visible"}),(0,yA.jsx)("h6",{children:"Total attendance"}),(0,yA.jsxs)("h3",{children:[_(u).Total,(0,yA.jsx)("small",{children:" Hours"})]})]}),(0,yA.jsxs)("div",{className:" border border-defaultBg rounded-lg p-4 bg-white",children:[(0,yA.jsx)(rO,{size:50,className:"bg-color-one text-defaultBg p-3 rounded-full overflow-visible"}),(0,yA.jsx)("h6",{children:"Total leaves"}),(0,yA.jsx)("h3",{children:"1"})]}),(0,yA.jsxs)("div",{className:" border border-defaultBg rounded-lg p-4 bg-white",children:[(0,yA.jsx)(uO,{size:50,className:"bg-stone-400 text-defaultBg p-3 rounded-full overflow-visible"}),(0,yA.jsx)("h6",{children:"Total overtime"}),(0,yA.jsxs)("h3",{children:[_(u).Overtime,(0,yA.jsx)("small",{children:" Hours"})]})]})]})]}),(0,yA.jsx)("div",{children:(0,yA.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden my-5",children:[(0,yA.jsx)("h2",{className:"px-8 py-2 text-2xl font-bold bg-defaultBg text-white flex justify-between items-center",children:"Attendance Table"}),(0,yA.jsxs)("table",{className:"mx-auto w-full overflow-hidden border text-center border-gray-300 ",children:[(0,yA.jsx)("thead",{children:(0,yA.jsxs)("tr",{className:" bg-color-one flex text-defaultBg ",children:[(0,yA.jsx)("th",{className:"p-2 w-full ",children:"Date"}),(0,yA.jsx)("th",{className:"p-2 w-full",children:"Check in"}),(0,yA.jsx)("th",{className:"p-2 w-full",children:"Check out"}),(0,yA.jsx)("th",{className:"p-2 w-full",children:"Total Hours"})]})}),(0,yA.jsx)("tbody",{className:" bg-color-three/30  max-h-[220px] block overflow-y-scroll w-full",children:0===I.length?(0,yA.jsx)("tr",{className:"flex",children:(0,yA.jsx)("td",{colSpan:12,className:"w-full p-4 text-center text-gray-500",children:"No attendance records available"})}):I.sort((function(e,t){return t.time_in-e.time_in})).map((function(e,t){var n,r,i,a=new Date(1e3*(null===e||void 0===e||null===(n=e.time_in)||void 0===n?void 0:n.seconds)).toLocaleTimeString(),o=new Date(1e3*(null===e||void 0===e||null===(r=e.time_in)||void 0===r?void 0:r.seconds)).toLocaleDateString(),u=(null===e||void 0===e?void 0:e.time_out)&&new Date(1e3*(null===e||void 0===e||null===(i=e.time_out)||void 0===i?void 0:i.seconds)).toLocaleTimeString();return(0,yA.jsxs)("tr",{className:"border-t flex border-gray-300 text-sm",children:[(0,yA.jsx)("td",{className:"p-2 w-full",children:o}),(0,yA.jsx)("td",{className:"p-2 w-full",children:a}),(0,yA.jsx)("td",{className:"p-2 w-full",children:u}),(0,yA.jsxs)("td",{className:"p-2 w-full",children:[k(e).uv," Hours"]})]},t)}))}),(0,yA.jsx)("tfoot",{className:"bg-color-three/30 border-t border-color-one",children:(0,yA.jsxs)("tr",{className:"flex justify-between py-2",children:[(0,yA.jsx)("td",{className:"text-center w-3/12 font-semibold",colSpan:4,children:"Total attendance"}),(0,yA.jsxs)("td",{className:"text-center w-3/12",colSpan:1,children:[_(I).Total," Hours"]})]})})]}),(0,yA.jsxs)("div",{className:"py-1 flex justify-end  bg-color-one/70",children:[(0,yA.jsxs)("select",{name:"tableMonth",onChange:T,ref:r,className:"border w-2/12 min-w-max border-defaultBg  font-semibold text-defaultBg mr-2 p-2 rounded bg-transparent text-xs h-max",children:[(0,yA.jsx)("option",{children:"Month"}),null===(t=S())||void 0===t?void 0:t.map((function(e,t){var n=new Date(1e3*(null===e||void 0===e?void 0:e.time_in.seconds)),r=n.getFullYear()+" "+y[n.getMonth()],i=n.getMonth()+"-"+n.getFullYear();return(0,yA.jsx)("option",{"aria-label":r,value:i,children:r},t)}))]}),(0,yA.jsx)("input",{type:"date",name:"tableDate",value:l.value,onChange:T,className:"border w-2/12 min-w-max  border-defaultBg  font-semibold text-defaultBg mr-2 p-2 rounded bg-transparent text-xs h-max"})]})]})})]})},NJ=function(){var e=pt((function(e){return e.attendance}));return(0,yA.jsxs)("section",{children:[(0,yA.jsx)(hJ,{}),(0,yA.jsx)("div",{className:"bg-defaultBg  py-10",children:(0,yA.jsxs)("div",{className:"container flex justify-between items-center ",children:[(0,yA.jsxs)("div",{className:"flex items-end h-max",children:[(0,yA.jsx)("h1",{className:" text-3xl text-amber-100 font-thin",children:"Attendence"}),(0,yA.jsx)("p",{className:" ml-2 pl-2 border-l mb-0 pb-0 h-max text-color-one",children:e.time_out?"Checked out at ".concat(e.time_out):e.time_in&&"Checked in at ".concat(e.time_in)})]}),(0,yA.jsx)(kJ,{})]})}),(0,yA.jsx)(OJ,{})]})},AJ=function(){var e=pt((function(e){return e.leavesData.userLeaves})),t=pt((function(e){return e.leavesData.leavesTypes})),n=m((0,i.useState)({annual:0,sick:0,casual:0,other:0,total:0,lop:0}),2),r=n[0],a=n[1];console.log(e);var o=function(e){var n=null===t||void 0===t?void 0:t.find((function(t){return t.title===e}));return{count:null===n||void 0===n?void 0:n.count,id:null===n||void 0===n?void 0:n.id}},u=function(t){var n=0;return e.filter((function(e){return e.type==o(t).id&&"approved"==e.status})).map((function(e){n=n+Math.ceil(e.count/864e5)+1})),o(t).count-n},s=function(){var n=0,r=0,i=["Annual leave","Casual leave","Sick leave"];return t.filter((function(e){return!i.includes(e.title)})).map((function(t){n+=Number(null===t||void 0===t?void 0:t.count),e.filter((function(e){return t.id.includes(e.type)&&"approved"==e.status})).map((function(e){r+=Number(null===e||void 0===e?void 0:e.count)}))})),{otherLeaves:n,otherLeavesTook:r}};return(0,i.useEffect)((function(){e.filter((function(e){return e.typ})),a(f(f({},r),{},{annual:u("Annual leave"),sick:u("Sick leave"),casual:u("Casual leave")}))}),[e]),(0,yA.jsx)("div",{className:"container bg-gradient-to-b from-defaultBg to-transparent",children:(0,yA.jsxs)("div",{className:"flex space-x-6 justify-between",children:[(0,yA.jsxs)("div",{className:"w-2/12 border border-defaultBg rounded-lg p-4 bg-white",children:[(0,yA.jsx)(mJ,{size:50,className:" overflow-visible bg-color-two text-defaultBg p-3 rounded-full"}),(0,yA.jsx)("h6",{children:"Annual leaves"}),(0,yA.jsxs)("h3",{children:[r.annual,(0,yA.jsxs)("span",{className:" text-base",children:["/",o("Annual leave").count]})]})]}),(0,yA.jsxs)("div",{className:"w-2/12 border border-defaultBg rounded-lg p-4 bg-white",children:[(0,yA.jsx)(yJ,{size:50,className:" overflow-visible bg-color-one text-defaultBg p-3 rounded-full"}),(0,yA.jsx)("h6",{children:"Sick leaves"}),(0,yA.jsxs)("h3",{children:[r.sick,(0,yA.jsxs)("span",{className:" text-base",children:["/",o("Sick leave").count]})]})]}),(0,yA.jsxs)("div",{className:"w-2/12 border border-defaultBg rounded-lg p-4 bg-white",children:[(0,yA.jsx)(vJ,{size:50,className:" overflow-visible bg-stone-400 text-defaultBg p-3 rounded-full"}),(0,yA.jsx)("h6",{children:"Casual leaves"}),(0,yA.jsxs)("h3",{children:[r.casual,(0,yA.jsxs)("span",{className:" text-base",children:["/",o("Casual leave").count]})]})]}),(0,yA.jsxs)("div",{className:"w-2/12 border border-defaultBg rounded-lg p-4 bg-white",children:[(0,yA.jsx)(pJ,{size:50,className:" overflow-visible bg-color-three text-defaultBg p-3 rounded-full"}),(0,yA.jsx)("h6",{children:"Other remining leaves"}),(0,yA.jsxs)("h3",{children:[s().otherLeavesTook,"/",s().otherLeaves]})]}),(0,yA.jsxs)("div",{className:"w-3/12 border h-max border-defaultBg rounded-lg p-4 flex space-x-4 justify-around items-center bg-white",children:[(0,yA.jsx)(kP,{text:20,value:20,height:"107px"}),(0,yA.jsxs)("div",{className:" h-max text-[14px] ",children:[(0,yA.jsx)("p",{className:"relative before:absolute before:left-[-12px] before:top-2 before:h-2 before:w-2 before:rounded-full before:p-[-10px] before:bg-color-two before:block flex",children:"Loss of pay"}),(0,yA.jsx)("p",{className:"relative before:absolute before:left-[-12px] before:top-2 before:h-2 before:w-2 before:rounded-full before:p-[-10px] before:bg-defaultBg before:block flex",children:"Total leaves"})]})]})]})})},CJ=function(e){var t,n,r=e.closeModal,a=m((0,i.useState)({daysCount:0,daysLeft:0,lop:0}),2),o=a[0],u=a[1],s=_t(),c=pt((function(e){return e.user})),l=pt((function(e){return e.leavesData.userLeaves})),d=pt((function(e){return e.leavesData.leavesTypes})),h=function(){var e=nn(en().mark((function e(t){var n;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),o.start&&o.end&&o.reason&&o.type){e.next=5;break}s(pA({name:"LeaveApplication",msg:"Fill all fields.",code:1,time:3e3})),e.next=15;break;case 5:return e.prev=5,e.next=8,Hj.collection("leaves").add({start:null===o||void 0===o?void 0:o.start,end:null===o||void 0===o?void 0:o.end,reason:null===o||void 0===o?void 0:o.reason,type:null===o||void 0===o?void 0:o.type,user_id:c.id,status:"pending",timestamp:qj.now()});case 8:(n=e.sent)&&(s(pA({name:"LeaveApplication",msg:"Leave application send successfully",code:3,time:3e3})),dP("Leave application.",null===c||void 0===c?void 0:c.id,"".concat(null===c||void 0===c?void 0:c.name," applied for leave. Check and varify."),"leaves/?id=".concat(n.id),"leave"),setTimeout((function(){null===r||void 0===r||r()}),3e3)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),s(pA({name:"LeaveApplication",msg:e.t0.message,code:1}));case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}();return(0,i.useMemo)((function(){if(o.start&&o.end){var e=Math.abs(o.end.getTime()-o.start.getTime()),t=Math.ceil(e/864e5)+1;u(f(f({},o),{},{daysCount:t}))}}),[o.start,o.end]),(0,i.useMemo)((function(){if(o.type){var e=d.find((function(e){return e.id==o.type})),t=0;null===l||void 0===l||l.filter((function(e){return e.type==o.type&&"approved"==e.status})).map((function(e){var n=new Date(e.start).getTime(),r=new Date(e.end).getTime(),i=Math.abs(r-n);t=t+Math.ceil(i/864e5)+1}));var n=(null===e||void 0===e?void 0:e.count)-t-o.daysCount,r=0;n<0&&(r=Math.abs(n),n=0),u(f(f({},o),{},{daysLeft:n,lop:r}))}}),[o.type,o.daysCount]),console.log(l),(0,yA.jsx)("div",{children:(0,yA.jsx)("div",{className:"fixed inset-0 grid overflow-y-auto\tpy-5 items-center justify-center z-50 bg-[#0000008c]",children:(0,yA.jsxs)("div",{className:"bg-white p-8  rounded shadow-md relative ",children:[(0,yA.jsx)("button",{className:"mt-4 bg-black rounded-full text-xs absolute right-2 top-1 text-white font-bold py-1 px-2 ",onClick:r,children:"X"}),(0,yA.jsx)("h1",{className:"text-2xl font-bold  mb-5",children:"Leave Application"}),(0,yA.jsx)(gA,{typeProp:"LeaveApplication"}),(0,yA.jsxs)("form",{onSubmit:h,className:"mt-3",children:[(0,yA.jsx)("div",{className:"mb-4",children:(0,yA.jsxs)("select",{className:"border w-full border-gray-300 p-2 rounded",onChange:function(e){return u(f(f({},o),{},{type:e.target.value}))},children:[(0,yA.jsx)("option",{children:"Type of leave"}),null===d||void 0===d?void 0:d.map((function(e,t){return(0,yA.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:e.title},t)}))]})}),(0,yA.jsxs)("div",{className:"flex space-x-3",children:[(0,yA.jsxs)("div",{className:"mb-4",children:[(0,yA.jsx)("label",{className:"block font-semibold mb-1",children:"Start Date:"}),(0,yA.jsx)("input",{type:"date",className:"border w-full border-gray-300 p-2 rounded",max:null===(t=o.end)||void 0===t?void 0:t.toLocaleDateString("fr-ca"),onChange:function(e){return u(f(f({},o),{},{start:new Date(e.target.value)}))}})]}),(0,yA.jsxs)("div",{className:"mb-4",children:[(0,yA.jsx)("label",{className:"block font-semibold mb-1",children:"End Date:"}),(0,yA.jsx)("input",{type:"date",className:"border w-full border-gray-300 p-2 rounded",min:null===(n=o.start)||void 0===n?void 0:n.toLocaleDateString("fr-ca"),onChange:function(e){return u(f(f({},o),{},{end:new Date(e.target.value)}))}})]})]}),(0,yA.jsxs)("div",{className:"mb-4",children:[(0,yA.jsx)("label",{className:"block font-semibold mb-1",children:"Reason for Leave:"}),(0,yA.jsx)("textarea",{className:"border w-full border-gray-300 p-2 rounded",defaultValue:null===o||void 0===o?void 0:o.reason,onChange:function(e){return u(f(f({},o),{},{reason:e.target.value}))}})]}),(0,yA.jsxs)("div",{className:"mb-4",children:[(0,yA.jsxs)("label",{className:"block font-semibold mb-1",children:["No.of days: ",o.daysCount]}),(0,yA.jsxs)("label",{className:"block font-semibold mb-1",children:["Leaves remaining: ",o.daysLeft]}),(null===o||void 0===o?void 0:o.lop)>0&&(0,yA.jsxs)("label",{className:"block font-semibold mb-1",children:["Loss of pay: ",o.lop]})]}),(0,yA.jsx)("div",{className:"flex justify-end",children:(0,yA.jsx)("button",{type:"submit",className:"bg-defaultBg w-full text-white py-2 px-5 rounded",children:"Submit"})})]})]})})})},PJ=function(){var e=pt((function(e){return e.leavesData.userLeaves})),t=pt((function(e){return e.leavesData.leavesTypes})),n=m((0,i.useState)(),2),r=n[0],a=n[1],o=(0,i.useMemo)((function(){var t,n=null===(t=g(e))||void 0===t?void 0:t.sort((function(e,t){return t.timestamp.localeCompare(e.timestamp)}));return"leaveDate"==r?(n=g(n.sort((function(e,t){return e.start.localeCompare(t.start)}))),n):"status"==r?(n=g(n.sort((function(e,t){return e.status.localeCompare(t.status)}))),n):n}),[e,r]);return(0,yA.jsxs)("div",{className:"container mt-5",children:[(0,yA.jsxs)("table",{className:"mx-auto w-full overflow-hidden border text-center border-gray-300 ",children:[(0,yA.jsx)("thead",{children:(0,yA.jsxs)("tr",{className:" bg-color-one flex px-2 text-defaultBg ",children:[(0,yA.jsx)("th",{className:"p-2 w-full",children:"Date"}),(0,yA.jsx)("th",{className:"p-2 w-full",children:"Leave type"}),(0,yA.jsx)("th",{className:"p-2 w-full",children:"From"}),(0,yA.jsx)("th",{className:"p-2 w-full",children:"To"}),(0,yA.jsx)("th",{className:"p-2 w-full",children:"No.of days"}),(0,yA.jsx)("th",{className:"p-2 w-full",children:"Reason"}),(0,yA.jsx)("th",{className:"p-2 w-full",children:"Status"})]})}),(0,yA.jsx)("tbody",{className:" bg-color-three/30  max-h-[220px] block overflow-y-auto w-full",children:0===(null===o||void 0===o?void 0:o.length)?(0,yA.jsx)("tr",{className:"flex",children:(0,yA.jsx)("td",{colSpan:12,className:"w-full p-4 text-center text-gray-500",children:"No leave records available"})}):null===o||void 0===o?void 0:o.map((function(e,n){var r,i=new Date(e.start).toLocaleDateString("en-GB"),a=new Date(e.end).toLocaleDateString("en-GB"),o=new Date(e.timestamp).toLocaleDateString("en-GB"),u="bg-[#bfa7f9]";return"approved"==e.status?u="bg-emerald-900":"rejected"==e.status&&(u="bg-rose-900"),(0,yA.jsxs)("tr",{className:"border-t flex py-2 px-2 border-gray-300 text-sm",children:[(0,yA.jsx)("td",{className:"p-2 w-full",children:o}),(0,yA.jsx)("td",{className:"p-2 w-full",children:null===t||void 0===t||null===(r=t.find((function(t){return t.id===e.type})))||void 0===r?void 0:r.title}),(0,yA.jsx)("td",{className:"p-2 w-full",children:i}),(0,yA.jsx)("td",{className:"p-2 w-full",children:a}),(0,yA.jsx)("td",{className:"p-2 w-full",children:e.count}),(0,yA.jsx)("td",{className:"p-2 w-full",children:e.reason}),(0,yA.jsx)("td",{className:"p-2 w-full text-white font-bold rounded-xl ".concat(u),children:e.status})]},n)}))})]}),(0,yA.jsx)("div",{className:"py-1 flex justify-end  bg-color-one/70",children:(0,yA.jsxs)("select",{name:"tableMonth",onChange:function(e){a(e.currentTarget.value)},className:"border w-2/12 min-w-max border-defaultBg  font-semibold text-defaultBg mr-2 p-2 rounded bg-transparent text-xs h-max",children:[(0,yA.jsx)("option",{children:"Sort"}),(0,yA.jsx)("option",{value:"date",children:"Application date"}),(0,yA.jsx)("option",{value:"leaveDate",children:"Starting date"}),(0,yA.jsx)("option",{value:"status",children:"Status"})]})})]})},DJ=function(){var e=m((0,i.useState)(!1),2),t=e[0],n=e[1],r=_t();return(0,yA.jsxs)("section",{children:[(0,yA.jsx)(hJ,{}),(0,yA.jsx)("div",{className:"bg-defaultBg  py-10",children:(0,yA.jsx)("div",{className:"container flex justify-between items-center ",children:(0,yA.jsxs)("div",{className:"flex items-end h-max justify-between w-full",children:[(0,yA.jsx)("h1",{className:" text-3xl text-amber-100 font-thin",children:"Leaves"}),(0,yA.jsxs)("button",{className:"defaultstyle",onClick:function(){n(!0)},children:[(0,yA.jsx)("span",{className:"text-2xl font-bold  leading-6",children:"+"}),"Apply Leave"]})]})})}),(0,yA.jsx)(AJ,{}),t&&(0,yA.jsx)(CJ,{closeModal:function(){n(!1),r(vA("LeaveApplication"))}}),(0,yA.jsx)(PJ,{})]})},MJ=function(){return(0,yA.jsxs)(qe,{children:[(0,yA.jsx)(Ve,{path:"/",element:(0,yA.jsx)(SJ,{})}),(0,yA.jsx)(Ve,{path:"/home/",element:(0,yA.jsx)(SJ,{})}),(0,yA.jsx)(Ve,{path:"/profile/",element:(0,yA.jsx)(IJ,{})}),(0,yA.jsx)(Ve,{path:"/attendance/",element:(0,yA.jsx)(NJ,{})}),(0,yA.jsx)(Ve,{path:"/leaves/",element:(0,yA.jsx)(DJ,{})})]})},RJ=function(e){var t=e.isAuthenticated,n=e.children,r=e.isValidUsertype;return t&&r?n:(0,yA.jsx)(Ue,{to:"/"})},LJ=tA({name:"user",initialState:fA.auth,reducers:{setUser:function(e,t){return console.log("user updated:",e.type,e.uname),f(f({},t.payload),{},{isAuthenticated:!0})},unsetUser:function(e){return fA.auth}}}),FJ=LJ.actions,BJ=FJ.setUser,UJ=FJ.unsetUser,VJ=LJ.reducer,zJ=tA({name:"loading",initialState:fA,reducers:{setLoading:function(e,t){e.isLoading=t.payload,console.log("Loading set to ",t.payload)}}}),qJ=zJ.actions.setLoading,HJ=zJ.reducer,WJ=tA({name:"department",initialState:fA.department,reducers:{setDepartment:function(e,t){return console.log("departments added to store"),t.payload}}}),GJ=WJ.actions.setDepartment,KJ=WJ.reducer,QJ=tA({name:"leavesData",initialState:fA.leaveData,reducers:{setUserLeaves:function(e,t){console.log("user leave data added to store"),e.userLeaves=t.payload},setLeavesTypes:function(e,t){console.log("user leave data added to store"),e.leavesTypes=t.payload}}}),YJ=QJ.actions,$J=YJ.setUserLeaves,XJ=YJ.setLeavesTypes;var JJ=function(){var e=_t(),t=pt((function(e){return e.user})),n=pt((function(e){return e.loading.isLoading}));return(0,i.useEffect)((function(){Wj.onAuthStateChanged((function(t){t?Hj.collection("users").where("id","==",null===t||void 0===t?void 0:t.uid).onSnapshot((function(t){t.forEach((function(t){var n,r,i=t.data();null!==(n=i)&&void 0!==n&&n.manager?Hj.collection("users").doc(null===(r=i)||void 0===r?void 0:r.manager).get().then((function(n){var r,a=null===(r=n.data())||void 0===r?void 0:r.name;i=f(f({},i),{},{managerName:a}),e(BJ(f(f({},i),{},{auth_id:i.id,id:t.id,managerName:a})))})):e(BJ(f(f({},i),{},{id:t.id})));Hj.collection("departments").onSnapshot((function(t){var n=t.docs.map((function(e){return{title:e.data().department_name,manager:e.data().department_head,id:e.id}}));e(GJ(n))})),Hj.collection("leave_type").get().then((function(t){var n=t.docs.map((function(e){return f(f({},e.data()),{},{id:e.id})}));e(XJ(n))})),Hj.collection("leaves").where("user_id","==",t.id).onSnapshot((function(t){var n=t.docs.map((function(e){var t=e.data(),n=t.end,r=t.start,i=t.status,a=t.reason,o=t.type,u=t.timestamp,s=n.toDate().getTime()-r.toDate().getTime(),c=Math.ceil(s/864e5)+1;return{id:e.id,status:i,type:o,reason:a,count:c,end:n.toDate().toISOString(),start:r.toDate().toISOString(),timestamp:null===u||void 0===u?void 0:u.toDate().toISOString()}}));e($J(n))}))})),e(qJ(!1))}),(function(t){console.error("Error fetching user data:",t),e(qJ(!1))})):(e(qJ(!1)),e(UJ()))}))}),[e]),(0,yA.jsx)("div",{className:"App h-100",children:n?(0,yA.jsx)(E$,{}):(0,yA.jsx)($e,{basename:"/HRMS-Web-App",children:(0,yA.jsxs)(qe,{children:[(0,yA.jsx)(Ve,{path:"/",element:(0,yA.jsx)(xA,{})}),(0,yA.jsx)(Ve,{path:"/hr/*",element:(0,yA.jsx)(RJ,{isAuthenticated:t.isAuthenticated,isValidUsertype:"admin"==t.type,children:(0,yA.jsx)(dJ,{})})}),(0,yA.jsx)(Ve,{path:"/user/*",element:(0,yA.jsx)(RJ,{isAuthenticated:t.isAuthenticated,isValidUsertype:"user"==t.type,children:(0,yA.jsx)(MJ,{})})})]})})})},ZJ=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},eZ=function(e){var t,n=JN(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,u=void 0===o?n():o,s=r.devTools,c=void 0===s||s,l=r.preloadedState,f=void 0===l?void 0:l,d=r.enhancers,h=void 0===d?void 0:d;if("function"===typeof a)t=a;else{if(!QN(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=jN(a)}var p=u;"function"===typeof p&&(p=p(n));var v=NN.apply(void 0,p),m=ON;c&&(m=KN(HN({trace:!1},"object"===typeof c&&c)));var y=new $N(v),g=y;return Array.isArray(h)?g=RN([v],h):"function"===typeof h&&(g=h(y)),IN(t,f,m.apply(void 0,g))}({reducer:{user:VJ,loading:HJ,notice:mA,department:KJ,attendance:wJ,leavesData:QJ.reducer}}),tZ=eZ;o.createRoot(document.getElementById("root")).render((0,yA.jsx)(i.StrictMode,{children:(0,yA.jsx)(gt,{store:tZ,children:(0,yA.jsx)(JJ,{})})})),ZJ()}()}();
//# sourceMappingURL=main.3f8bf35f.js.map